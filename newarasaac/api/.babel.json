{
  "{\"filename\":\"/app/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/app.js",
      "filenameRelative": "/app/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar SwaggerExpress = require('swagger-express-mw');\nvar path = require('path');\nvar express = require('express');\nvar cors = require('cors');\nvar app = express();\nvar morgan = require('morgan');\n// const swaggerUi = require('swagger-ui-express')\n\nvar config = require('./config');\n// const errorhandler = require('errorhandler')  \n\n\nvar yaml = require('js-yaml');\nvar fs = require('fs');\ntry {\n  var swaggerDocument = yaml.safeLoad(fs.readFileSync(path.join(__dirname, './swagger/swagger.yaml'), 'utf8'));\n  var swaggerJSON = JSON.stringify(swaggerDocument, null, 4);\n  fs.writeFile(path.join(__dirname, './public/arasaac.json'), swaggerJSON, function (err) {\n    if (err) return console.log(err);\n    console.log('arasaac.json file generated');\n  });\n} catch (e) {\n  console.log(e);\n}\n\nvar swaggerConfig = {\n  appRoot: __dirname, // required config\n  configDir: path.resolve(__dirname, 'config'),\n  swaggerFile: __dirname + '/swagger/swagger.yaml'\n\n  /*bbdd configuration in its own file*/\n};require('./db');\n\napp.use(cors());\napp.set('etag', false);\napp.use(morgan('dev'));\napp.use(express.static('./public'));\n\n// app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument))\n\nSwaggerExpress.create(swaggerConfig, function (err, swaggerExpress) {\n  if (err) {\n    throw err;\n  }\n  // install middleware\n  swaggerExpress.register(app);\n\n  var port = process.env.PORT || config.port;\n  app.listen(port);\n  console.log('App running on port ' + port);\n});\n\nmodule.exports = app; // for testing\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJTd2FnZ2VyRXhwcmVzcyIsInJlcXVpcmUiLCJwYXRoIiwiZXhwcmVzcyIsImNvcnMiLCJhcHAiLCJtb3JnYW4iLCJjb25maWciLCJ5YW1sIiwiZnMiLCJzd2FnZ2VyRG9jdW1lbnQiLCJzYWZlTG9hZCIsInJlYWRGaWxlU3luYyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJzd2FnZ2VySlNPTiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZUZpbGUiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZSIsInN3YWdnZXJDb25maWciLCJhcHBSb290IiwiY29uZmlnRGlyIiwicmVzb2x2ZSIsInN3YWdnZXJGaWxlIiwidXNlIiwic2V0Iiwic3RhdGljIiwiY3JlYXRlIiwic3dhZ2dlckV4cHJlc3MiLCJyZWdpc3RlciIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsaUJBQWlCQyxRQUFRLG9CQUFSLENBQXZCO0FBQ0EsSUFBTUMsT0FBT0QsUUFBUSxNQUFSLENBQWI7QUFDQSxJQUFJRSxVQUFVRixRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUksTUFBTUYsU0FBVjtBQUNBLElBQU1HLFNBQVNMLFFBQVEsUUFBUixDQUFmO0FBQ0E7O0FBRUEsSUFBTU0sU0FBU04sUUFBUSxVQUFSLENBQWY7QUFDQTs7O0FBR0EsSUFBTU8sT0FBT1AsUUFBUSxTQUFSLENBQWI7QUFDQSxJQUFNUSxLQUFLUixRQUFRLElBQVIsQ0FBWDtBQUNBLElBQUk7QUFDRixNQUFJUyxrQkFBa0JGLEtBQUtHLFFBQUwsQ0FBY0YsR0FBR0csWUFBSCxDQUFnQlYsS0FBS1csSUFBTCxDQUFVQyxTQUFWLEVBQXFCLHdCQUFyQixDQUFoQixFQUFnRSxNQUFoRSxDQUFkLENBQXRCO0FBQ0EsTUFBTUMsY0FBY0MsS0FBS0MsU0FBTCxDQUFlUCxlQUFmLEVBQWdDLElBQWhDLEVBQXNDLENBQXRDLENBQXBCO0FBQ0FELEtBQUdTLFNBQUgsQ0FBYWhCLEtBQUtXLElBQUwsQ0FBVUMsU0FBVixFQUFvQix1QkFBcEIsQ0FBYixFQUEyREMsV0FBM0QsRUFBd0UsVUFBVUksR0FBVixFQUFlO0FBQ3JGLFFBQUlBLEdBQUosRUFBUyxPQUFPQyxRQUFRQyxHQUFSLENBQVlGLEdBQVosQ0FBUDtBQUNUQyxZQUFRQyxHQUFSLENBQVksNkJBQVo7QUFDRCxHQUhEO0FBSUQsQ0FQRCxDQU9FLE9BQU9DLENBQVAsRUFBVTtBQUNWRixVQUFRQyxHQUFSLENBQVlDLENBQVo7QUFDRDs7QUFFRCxJQUFJQyxnQkFBZ0I7QUFDbEJDLFdBQVNWLFNBRFMsRUFDRTtBQUNwQlcsYUFBV3ZCLEtBQUt3QixPQUFMLENBQWFaLFNBQWIsRUFBd0IsUUFBeEIsQ0FGTztBQUdsQmEsZUFBZ0JiLFNBQWhCOztBQUlGO0FBUG9CLENBQXBCLENBUUFiLFFBQVEsTUFBUjs7QUFFQUksSUFBSXVCLEdBQUosQ0FBUXhCLE1BQVI7QUFDQUMsSUFBSXdCLEdBQUosQ0FBUSxNQUFSLEVBQWdCLEtBQWhCO0FBQ0F4QixJQUFJdUIsR0FBSixDQUFRdEIsT0FBTyxLQUFQLENBQVI7QUFDQUQsSUFBSXVCLEdBQUosQ0FBUXpCLFFBQVEyQixNQUFSLENBQWUsVUFBZixDQUFSOztBQUlBOztBQUVBOUIsZUFBZStCLE1BQWYsQ0FBc0JSLGFBQXRCLEVBQXFDLFVBQVVKLEdBQVYsRUFBZWEsY0FBZixFQUErQjtBQUNsRSxNQUFJYixHQUFKLEVBQVM7QUFBRSxVQUFNQSxHQUFOO0FBQVc7QUFDdEI7QUFDQWEsaUJBQWVDLFFBQWYsQ0FBd0I1QixHQUF4Qjs7QUFFQSxNQUFJNkIsT0FBT0MsUUFBUUMsR0FBUixDQUFZQyxJQUFaLElBQW9COUIsT0FBTzJCLElBQXRDO0FBQ0E3QixNQUFJaUMsTUFBSixDQUFXSixJQUFYO0FBQ0FkLFVBQVFDLEdBQVIsQ0FBWSx5QkFBeUJhLElBQXJDO0FBRUQsQ0FURDs7QUFZQUssT0FBT0MsT0FBUCxHQUFpQm5DLEdBQWpCLEMsQ0FBcUIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii9hcHAiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTd2FnZ2VyRXhwcmVzcyA9IHJlcXVpcmUoJ3N3YWdnZXItZXhwcmVzcy1tdycpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxudmFyIGNvcnMgPSByZXF1aXJlKCdjb3JzJylcbnZhciBhcHAgPSBleHByZXNzKClcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoJ21vcmdhbicpXG4vLyBjb25zdCBzd2FnZ2VyVWkgPSByZXF1aXJlKCdzd2FnZ2VyLXVpLWV4cHJlc3MnKVxuXG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpXG4vLyBjb25zdCBlcnJvcmhhbmRsZXIgPSByZXF1aXJlKCdlcnJvcmhhbmRsZXInKSAgXG5cblxuY29uc3QgeWFtbCA9IHJlcXVpcmUoJ2pzLXlhbWwnKVxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG50cnkge1xuICB2YXIgc3dhZ2dlckRvY3VtZW50ID0geWFtbC5zYWZlTG9hZChmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKF9fZGlybmFtZSwgJy4vc3dhZ2dlci9zd2FnZ2VyLnlhbWwnKSwgJ3V0ZjgnKSlcbiAgY29uc3Qgc3dhZ2dlckpTT04gPSBKU09OLnN0cmluZ2lmeShzd2FnZ2VyRG9jdW1lbnQsIG51bGwsIDQpXG4gIGZzLndyaXRlRmlsZShwYXRoLmpvaW4oX19kaXJuYW1lLCcuL3B1YmxpYy9hcmFzYWFjLmpzb24nKSwgc3dhZ2dlckpTT04sIGZ1bmN0aW9uIChlcnIpIHtcbiAgICBpZiAoZXJyKSByZXR1cm4gY29uc29sZS5sb2coZXJyKVxuICAgIGNvbnNvbGUubG9nKCdhcmFzYWFjLmpzb24gZmlsZSBnZW5lcmF0ZWQnKVxuICB9KVxufSBjYXRjaCAoZSkge1xuICBjb25zb2xlLmxvZyhlKVxufVxuXG52YXIgc3dhZ2dlckNvbmZpZyA9IHtcbiAgYXBwUm9vdDogX19kaXJuYW1lLCAvLyByZXF1aXJlZCBjb25maWdcbiAgY29uZmlnRGlyOiBwYXRoLnJlc29sdmUoX19kaXJuYW1lLCAnY29uZmlnJyksXG4gIHN3YWdnZXJGaWxlOiBgJHtfX2Rpcm5hbWV9L3N3YWdnZXIvc3dhZ2dlci55YW1sYCAgXG59XG5cblxuLypiYmRkIGNvbmZpZ3VyYXRpb24gaW4gaXRzIG93biBmaWxlKi9cbnJlcXVpcmUoJy4vZGInKVxuXG5hcHAudXNlKGNvcnMoKSlcbmFwcC5zZXQoJ2V0YWcnLCBmYWxzZSlcbmFwcC51c2UobW9yZ2FuKCdkZXYnKSlcbmFwcC51c2UoZXhwcmVzcy5zdGF0aWMoJy4vcHVibGljJykpXG5cblxuXG4vLyBhcHAudXNlKCcvYXBpLWRvY3MnLCBzd2FnZ2VyVWkuc2VydmUsIHN3YWdnZXJVaS5zZXR1cChzd2FnZ2VyRG9jdW1lbnQpKVxuXG5Td2FnZ2VyRXhwcmVzcy5jcmVhdGUoc3dhZ2dlckNvbmZpZywgZnVuY3Rpb24gKGVyciwgc3dhZ2dlckV4cHJlc3MpIHtcbiAgaWYgKGVycikgeyB0aHJvdyBlcnIgfVxuICAvLyBpbnN0YWxsIG1pZGRsZXdhcmVcbiAgc3dhZ2dlckV4cHJlc3MucmVnaXN0ZXIoYXBwKVxuXG4gIHZhciBwb3J0ID0gcHJvY2Vzcy5lbnYuUE9SVCB8fCBjb25maWcucG9ydFxuICBhcHAubGlzdGVuKHBvcnQpXG4gIGNvbnNvbGUubG9nKCdBcHAgcnVubmluZyBvbiBwb3J0ICcgKyBwb3J0KVxuXG59KVxuXG5cbm1vZHVsZS5leHBvcnRzID0gYXBwIC8vIGZvciB0ZXN0aW5nXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "SwaggerExpress",
        "require",
        "path",
        "express",
        "cors",
        "app",
        "morgan",
        "config",
        "yaml",
        "fs",
        "swaggerDocument",
        "safeLoad",
        "readFileSync",
        "join",
        "__dirname",
        "swaggerJSON",
        "JSON",
        "stringify",
        "writeFile",
        "err",
        "console",
        "log",
        "e",
        "swaggerConfig",
        "appRoot",
        "configDir",
        "resolve",
        "swaggerFile",
        "use",
        "set",
        "static",
        "create",
        "swaggerExpress",
        "register",
        "port",
        "process",
        "env",
        "PORT",
        "listen",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAMA,iBAAiBC,QAAQ,oBAAR,CAAvB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAIE,UAAUF,QAAQ,SAAR,CAAd;AACA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,MAAMF,SAAV;AACA,IAAMG,SAASL,QAAQ,QAAR,CAAf;AACA;;AAEA,IAAMM,SAASN,QAAQ,UAAR,CAAf;AACA;;;AAGA,IAAMO,OAAOP,QAAQ,SAAR,CAAb;AACA,IAAMQ,KAAKR,QAAQ,IAAR,CAAX;AACA,IAAI;AACF,MAAIS,kBAAkBF,KAAKG,QAAL,CAAcF,GAAGG,YAAH,CAAgBV,KAAKW,IAAL,CAAUC,SAAV,EAAqB,wBAArB,CAAhB,EAAgE,MAAhE,CAAd,CAAtB;AACA,MAAMC,cAAcC,KAAKC,SAAL,CAAeP,eAAf,EAAgC,IAAhC,EAAsC,CAAtC,CAApB;AACAD,KAAGS,SAAH,CAAahB,KAAKW,IAAL,CAAUC,SAAV,EAAoB,uBAApB,CAAb,EAA2DC,WAA3D,EAAwE,UAAUI,GAAV,EAAe;AACrF,QAAIA,GAAJ,EAAS,OAAOC,QAAQC,GAAR,CAAYF,GAAZ,CAAP;AACTC,YAAQC,GAAR,CAAY,6BAAZ;AACD,GAHD;AAID,CAPD,CAOE,OAAOC,CAAP,EAAU;AACVF,UAAQC,GAAR,CAAYC,CAAZ;AACD;;AAED,IAAIC,gBAAgB;AAClBC,WAASV,SADS,EACE;AACpBW,aAAWvB,KAAKwB,OAAL,CAAaZ,SAAb,EAAwB,QAAxB,CAFO;AAGlBa,eAAgBb,SAAhB;;AAIF;AAPoB,CAApB,CAQAb,QAAQ,MAAR;;AAEAI,IAAIuB,GAAJ,CAAQxB,MAAR;AACAC,IAAIwB,GAAJ,CAAQ,MAAR,EAAgB,KAAhB;AACAxB,IAAIuB,GAAJ,CAAQtB,OAAO,KAAP,CAAR;AACAD,IAAIuB,GAAJ,CAAQzB,QAAQ2B,MAAR,CAAe,UAAf,CAAR;;AAIA;;AAEA9B,eAAe+B,MAAf,CAAsBR,aAAtB,EAAqC,UAAUJ,GAAV,EAAea,cAAf,EAA+B;AAClE,MAAIb,GAAJ,EAAS;AAAE,UAAMA,GAAN;AAAW;AACtB;AACAa,iBAAeC,QAAf,CAAwB5B,GAAxB;;AAEA,MAAI6B,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB9B,OAAO2B,IAAtC;AACA7B,MAAIiC,MAAJ,CAAWJ,IAAX;AACAd,UAAQC,GAAR,CAAY,yBAAyBa,IAArC;AAED,CATD;;AAYAK,OAAOC,OAAP,GAAiBnC,GAAjB,C,CAAqB",
      "file": "app.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "const SwaggerExpress = require('swagger-express-mw')\nconst path = require('path')\nvar express = require('express')\nvar cors = require('cors')\nvar app = express()\nconst morgan = require('morgan')\n// const swaggerUi = require('swagger-ui-express')\n\nconst config = require('./config')\n// const errorhandler = require('errorhandler')  \n\n\nconst yaml = require('js-yaml')\nconst fs = require('fs')\ntry {\n  var swaggerDocument = yaml.safeLoad(fs.readFileSync(path.join(__dirname, './swagger/swagger.yaml'), 'utf8'))\n  const swaggerJSON = JSON.stringify(swaggerDocument, null, 4)\n  fs.writeFile(path.join(__dirname,'./public/arasaac.json'), swaggerJSON, function (err) {\n    if (err) return console.log(err)\n    console.log('arasaac.json file generated')\n  })\n} catch (e) {\n  console.log(e)\n}\n\nvar swaggerConfig = {\n  appRoot: __dirname, // required config\n  configDir: path.resolve(__dirname, 'config'),\n  swaggerFile: `${__dirname}/swagger/swagger.yaml`  \n}\n\n\n/*bbdd configuration in its own file*/\nrequire('./db')\n\napp.use(cors())\napp.set('etag', false)\napp.use(morgan('dev'))\napp.use(express.static('./public'))\n\n\n\n// app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument))\n\nSwaggerExpress.create(swaggerConfig, function (err, swaggerExpress) {\n  if (err) { throw err }\n  // install middleware\n  swaggerExpress.register(app)\n\n  var port = process.env.PORT || config.port\n  app.listen(port)\n  console.log('App running on port ' + port)\n\n})\n\n\nmodule.exports = app // for testing\n"
      ]
    },
    "mtime": 1516117405000
  },
  "{\"filename\":\"/app/config/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/index.js",
      "filenameRelative": "/app/config/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar development = require('./env/development');\nvar path = require('path');\nvar test = require('./env/test');\nvar production = require('./env/production');\n\nvar defaults = {\n  port: process.env.PORT || 8100,\n  materialsDir: path.join(process.cwd(), 'materials')\n\n  /**\n   * Expose\n   */\n\n};module.exports = {\n  development: Object.assign({}, defaults, development),\n  test: Object.assign({}, defaults, test),\n  production: Object.assign({}, defaults, production)\n}[process.env.NODE_ENV || 'development'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRldmVsb3BtZW50IiwicmVxdWlyZSIsInBhdGgiLCJ0ZXN0IiwicHJvZHVjdGlvbiIsImRlZmF1bHRzIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibWF0ZXJpYWxzRGlyIiwiam9pbiIsImN3ZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJPYmplY3QiLCJhc3NpZ24iLCJOT0RFX0VOViJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxjQUFjQyxRQUFRLG1CQUFSLENBQXBCO0FBQ0EsSUFBTUMsT0FBT0QsUUFBUSxNQUFSLENBQWI7QUFDQSxJQUFNRSxPQUFPRixRQUFRLFlBQVIsQ0FBYjtBQUNBLElBQU1HLGFBQWFILFFBQVEsa0JBQVIsQ0FBbkI7O0FBRUEsSUFBTUksV0FBVztBQUNmQyxRQUFNQyxRQUFRQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFEWDtBQUVmQyxnQkFBY1IsS0FBS1MsSUFBTCxDQUFVSixRQUFRSyxHQUFSLEVBQVYsRUFBeUIsV0FBekI7O0FBR2hCOzs7O0FBTGlCLENBQWpCLENBU0FDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZmQsZUFBYWUsT0FBT0MsTUFBUCxDQUFjLEVBQWQsRUFBa0JYLFFBQWxCLEVBQTRCTCxXQUE1QixDQURFO0FBRWZHLFFBQU1ZLE9BQU9DLE1BQVAsQ0FBYyxFQUFkLEVBQWtCWCxRQUFsQixFQUE0QkYsSUFBNUIsQ0FGUztBQUdmQyxjQUFZVyxPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQlgsUUFBbEIsRUFBNEJELFVBQTVCO0FBSEcsRUFJZkcsUUFBUUMsR0FBUixDQUFZUyxRQUFaLElBQXdCLGFBSlQsQ0FBakIiLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb25maWciLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBkZXZlbG9wbWVudCA9IHJlcXVpcmUoJy4vZW52L2RldmVsb3BtZW50JylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcbmNvbnN0IHRlc3QgPSByZXF1aXJlKCcuL2Vudi90ZXN0JylcbmNvbnN0IHByb2R1Y3Rpb24gPSByZXF1aXJlKCcuL2Vudi9wcm9kdWN0aW9uJylcblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIHBvcnQ6IHByb2Nlc3MuZW52LlBPUlQgfHwgODEwMCxcbiAgbWF0ZXJpYWxzRGlyOiBwYXRoLmpvaW4ocHJvY2Vzcy5jd2QoKSwgJ21hdGVyaWFscycpXG59XG5cbi8qKlxuICogRXhwb3NlXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRldmVsb3BtZW50OiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgZGV2ZWxvcG1lbnQpLFxuICB0ZXN0OiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgdGVzdCksXG4gIHByb2R1Y3Rpb246IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBwcm9kdWN0aW9uKVxufVtwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "development",
        "require",
        "path",
        "test",
        "production",
        "defaults",
        "port",
        "process",
        "env",
        "PORT",
        "materialsDir",
        "join",
        "cwd",
        "module",
        "exports",
        "Object",
        "assign",
        "NODE_ENV"
      ],
      "mappings": ";;AAAA,IAAMA,cAAcC,QAAQ,mBAAR,CAApB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,OAAOF,QAAQ,YAAR,CAAb;AACA,IAAMG,aAAaH,QAAQ,kBAAR,CAAnB;;AAEA,IAAMI,WAAW;AACfC,QAAMC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IADX;AAEfC,gBAAcR,KAAKS,IAAL,CAAUJ,QAAQK,GAAR,EAAV,EAAyB,WAAzB;;AAGhB;;;;AALiB,CAAjB,CASAC,OAAOC,OAAP,GAAiB;AACfd,eAAae,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BL,WAA5B,CADE;AAEfG,QAAMY,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BF,IAA5B,CAFS;AAGfC,cAAYW,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BD,UAA5B;AAHG,EAIfG,QAAQC,GAAR,CAAYS,QAAZ,IAAwB,aAJT,CAAjB",
      "file": "index.js",
      "sourceRoot": "/app/config",
      "sourcesContent": [
        "const development = require('./env/development')\nconst path = require('path')\nconst test = require('./env/test')\nconst production = require('./env/production')\n\nconst defaults = {\n  port: process.env.PORT || 8100,\n  materialsDir: path.join(process.cwd(), 'materials')\n}\n\n/**\n * Expose\n */\n\nmodule.exports = {\n  development: Object.assign({}, defaults, development),\n  test: Object.assign({}, defaults, test),\n  production: Object.assign({}, defaults, production)\n}[process.env.NODE_ENV || 'development']\n"
      ]
    },
    "mtime": 1511352442000
  },
  "{\"filename\":\"/app/config/env/development.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/development.js",
      "filenameRelative": "/app/config/env/development.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "development.js",
      "sourceFileName": "development.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "development"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'development',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost:27000/arasaac',\n  jwt: { secret: process.env.JWT_SECRET || 'secret key for testing' },\n  // https://developers.facebook.com/\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID || 'Ie20AZvLJI2lQD5Dsgxgjauns',\n    clientSecret: process.env.FACEBOOK_SECRET || 'KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ',\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  // https://apps.twitter.com/\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID || 'prueba',\n    clientSecret: process.env.TWITTER_SECRET || 'prueba',\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  // https://cloud.google.com/console/project\n  google: {\n    clientID: process.env.GOOGLE_CLIENT_ID || '251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com',\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || 'Y8yR9yZAhm9jQ8FKAL8QIEcd',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldmVsb3BtZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJlbnYiLCJkYXRhYmFzZVVybCIsInByb2Nlc3MiLCJNT05HT19VUkwiLCJqd3QiLCJzZWNyZXQiLCJKV1RfU0VDUkVUIiwiZmFjZWJvb2siLCJjbGllbnRJRCIsIkZBQ0VCT09LX0NMSUVOVElEIiwiY2xpZW50U2VjcmV0IiwiRkFDRUJPT0tfU0VDUkVUIiwiY2FsbGJhY2tVUkwiLCJ0d2l0dGVyIiwiVFdJVFRFUl9DTElFTlRJRCIsIlRXSVRURVJfU0VDUkVUIiwiZ2l0aHViIiwiR0lUSFVCX0NMSUVOVElEIiwiR0lUSFVCX1NFQ1JFVCIsImxpbmtlZGluIiwiTElOS0VESU5fQ0xJRU5USUQiLCJMSU5LRURJTl9TRUNSRVQiLCJnb29nbGUiLCJHT09HTEVfQ0xJRU5UX0lEIiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsT0FBSyxhQURVO0FBRWZDLGVBQWFDLFFBQVFGLEdBQVIsQ0FBWUcsU0FBWixJQUF5QixtQ0FGdkI7QUFHZkMsT0FBSyxFQUFFQyxRQUFRSCxRQUFRRixHQUFSLENBQVlNLFVBQVosSUFBMEIsd0JBQXBDLEVBSFU7QUFJZjtBQUNBQyxZQUFVO0FBQ1JDLGNBQVVOLFFBQVFGLEdBQVIsQ0FBWVMsaUJBQVosSUFBaUMsMkJBRG5DO0FBRVJDLGtCQUFjUixRQUFRRixHQUFSLENBQVlXLGVBQVosSUFBK0Isb0RBRnJDO0FBR1JDLGlCQUFhO0FBSEwsR0FMSztBQVVmO0FBQ0FDLFdBQVM7QUFDUEwsY0FBVU4sUUFBUUYsR0FBUixDQUFZYyxnQkFBWixJQUFnQyxRQURuQztBQUVQSixrQkFBY1IsUUFBUUYsR0FBUixDQUFZZSxjQUFaLElBQThCLFFBRnJDO0FBR1BILGlCQUFhO0FBSE4sR0FYTTtBQWdCZkksVUFBUTtBQUNOUixjQUFVTixRQUFRRixHQUFSLENBQVlpQixlQURoQjtBQUVOUCxrQkFBY1IsUUFBUUYsR0FBUixDQUFZa0IsYUFGcEI7QUFHTk4saUJBQWE7QUFIUCxHQWhCTztBQXFCZk8sWUFBVTtBQUNSWCxjQUFVTixRQUFRRixHQUFSLENBQVlvQixpQkFEZDtBQUVSVixrQkFBY1IsUUFBUUYsR0FBUixDQUFZcUIsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQXJCSztBQTBCZjtBQUNBVSxVQUFRO0FBQ05kLGNBQVVOLFFBQVFGLEdBQVIsQ0FBWXVCLGdCQUFaLElBQWdDLDBFQURwQztBQUVOYixrQkFBY1IsUUFBUUYsR0FBUixDQUFZd0Isb0JBQVosSUFBb0MsMEJBRjVDO0FBR05aLGlCQUFhO0FBSFA7QUEzQk8sQ0FBakIiLCJmaWxlIjoiZGV2ZWxvcG1lbnQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb25maWcvZW52Iiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVudjogJ2RldmVsb3BtZW50JyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAwMC9hcmFzYWFjJyxcbiAgand0OiB7IHNlY3JldDogcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnc2VjcmV0IGtleSBmb3IgdGVzdGluZycgfSxcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS9cbiAgZmFjZWJvb2s6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQ0xJRU5USUQgfHwgJ0llMjBBWnZMSkkybFFENURzZ3hnamF1bnMnLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfU0VDUkVUIHx8ICdLVFo2Y3hvS25FYWtRQ2VTcFpsYVVDSldHQWxURUJKajB5MkVNa1VCdWpBN3pXU3ZhUScsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9mYWNlYm9vay9jYWxsYmFjaydcbiAgfSxcbiAgLy8gaHR0cHM6Ly9hcHBzLnR3aXR0ZXIuY29tL1xuICB0d2l0dGVyOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LlRXSVRURVJfQ0xJRU5USUQgfHwgJ3BydWViYScsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5UV0lUVEVSX1NFQ1JFVCB8fCAncHJ1ZWJhJyxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL3R3aXR0ZXIvY2FsbGJhY2snXG4gIH0sXG4gIGdpdGh1Yjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ2l0aHViL2NhbGxiYWNrJ1xuICB9LFxuICBsaW5rZWRpbjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5MSU5LRURJTl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkxJTktFRElOX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2xpbmtlZGluL2NhbGxiYWNrJ1xuICB9LFxuICAvLyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vY29uc29sZS9wcm9qZWN0XG4gIGdvb2dsZToge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEIHx8ICcyNTE0MTA3MzA1NTAtYWhjZzBvdTVtZ2ZobDhobHVpMXVycnU3am41czEya20uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgfHwgJ1k4eVI5eVpBaG05alE4RktBTDhRSUVjZCcsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9nb29nbGUvY2FsbGJhY2snXG4gIH1cbn0iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "development.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "jwt",
        "secret",
        "JWT_SECRET",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENT_ID",
        "GOOGLE_CLIENT_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,aADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,mCAFvB;AAGfC,OAAK,EAAEC,QAAQH,QAAQF,GAAR,CAAYM,UAAZ,IAA0B,wBAApC,EAHU;AAIf;AACAC,YAAU;AACRC,cAAUN,QAAQF,GAAR,CAAYS,iBAAZ,IAAiC,2BADnC;AAERC,kBAAcR,QAAQF,GAAR,CAAYW,eAAZ,IAA+B,oDAFrC;AAGRC,iBAAa;AAHL,GALK;AAUf;AACAC,WAAS;AACPL,cAAUN,QAAQF,GAAR,CAAYc,gBAAZ,IAAgC,QADnC;AAEPJ,kBAAcR,QAAQF,GAAR,CAAYe,cAAZ,IAA8B,QAFrC;AAGPH,iBAAa;AAHN,GAXM;AAgBfI,UAAQ;AACNR,cAAUN,QAAQF,GAAR,CAAYiB,eADhB;AAENP,kBAAcR,QAAQF,GAAR,CAAYkB,aAFpB;AAGNN,iBAAa;AAHP,GAhBO;AAqBfO,YAAU;AACRX,cAAUN,QAAQF,GAAR,CAAYoB,iBADd;AAERV,kBAAcR,QAAQF,GAAR,CAAYqB,eAFlB;AAGRT,iBAAa;AAHL,GArBK;AA0Bf;AACAU,UAAQ;AACNd,cAAUN,QAAQF,GAAR,CAAYuB,gBAAZ,IAAgC,0EADpC;AAENb,kBAAcR,QAAQF,GAAR,CAAYwB,oBAAZ,IAAoC,0BAF5C;AAGNZ,iBAAa;AAHP;AA3BO,CAAjB",
      "file": "development.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'development',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost:27000/arasaac',\n  jwt: { secret: process.env.JWT_SECRET || 'secret key for testing' },\n  // https://developers.facebook.com/\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID || 'Ie20AZvLJI2lQD5Dsgxgjauns',\n    clientSecret: process.env.FACEBOOK_SECRET || 'KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ',\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  // https://apps.twitter.com/\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID || 'prueba',\n    clientSecret: process.env.TWITTER_SECRET || 'prueba',\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  // https://cloud.google.com/console/project\n  google: {\n    clientID: process.env.GOOGLE_CLIENT_ID || '251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com',\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || 'Y8yR9yZAhm9jQ8FKAL8QIEcd',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1510958665000
  },
  "{\"filename\":\"/app/config/env/test.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/test.js",
      "filenameRelative": "/app/config/env/test.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "test.js",
      "sourceFileName": "test.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "test"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'test',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_tests',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImVudiIsImRhdGFiYXNlVXJsIiwicHJvY2VzcyIsIk1PTkdPX1VSTCIsImZhY2Vib29rIiwiY2xpZW50SUQiLCJGQUNFQk9PS19DTElFTlRJRCIsImNsaWVudFNlY3JldCIsIkZBQ0VCT09LX1NFQ1JFVCIsImNhbGxiYWNrVVJMIiwidHdpdHRlciIsIlRXSVRURVJfQ0xJRU5USUQiLCJUV0lUVEVSX1NFQ1JFVCIsImdpdGh1YiIsIkdJVEhVQl9DTElFTlRJRCIsIkdJVEhVQl9TRUNSRVQiLCJsaW5rZWRpbiIsIkxJTktFRElOX0NMSUVOVElEIiwiTElOS0VESU5fU0VDUkVUIiwiZ29vZ2xlIiwiR09PR0xFX0NMSUVOVElEIiwiR09PR0xFX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxPQUFLLE1BRFU7QUFFZkMsZUFBYUMsUUFBUUYsR0FBUixDQUFZRyxTQUFaLElBQXlCLCtCQUZ2QjtBQUdmQyxZQUFVO0FBQ1JDLGNBQVVILFFBQVFGLEdBQVIsQ0FBWU0saUJBRGQ7QUFFUkMsa0JBQWNMLFFBQVFGLEdBQVIsQ0FBWVEsZUFGbEI7QUFHUkMsaUJBQWE7QUFITCxHQUhLO0FBUWZDLFdBQVM7QUFDUEwsY0FBVUgsUUFBUUYsR0FBUixDQUFZVyxnQkFEZjtBQUVQSixrQkFBY0wsUUFBUUYsR0FBUixDQUFZWSxjQUZuQjtBQUdQSCxpQkFBYTtBQUhOLEdBUk07QUFhZkksVUFBUTtBQUNOUixjQUFVSCxRQUFRRixHQUFSLENBQVljLGVBRGhCO0FBRU5QLGtCQUFjTCxRQUFRRixHQUFSLENBQVllLGFBRnBCO0FBR05OLGlCQUFhO0FBSFAsR0FiTztBQWtCZk8sWUFBVTtBQUNSWCxjQUFVSCxRQUFRRixHQUFSLENBQVlpQixpQkFEZDtBQUVSVixrQkFBY0wsUUFBUUYsR0FBUixDQUFZa0IsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQWxCSztBQXVCZlUsVUFBUTtBQUNOZCxjQUFVSCxRQUFRRixHQUFSLENBQVlvQixlQURoQjtBQUVOYixrQkFBY0wsUUFBUUYsR0FBUixDQUFZcUIsYUFGcEI7QUFHTlosaUJBQWE7QUFIUDtBQXZCTyxDQUFqQiIsImZpbGUiOiJ0ZXN0LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnL2VudiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbnY6ICd0ZXN0JyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9BUElfdGVzdHMnLFxuICBmYWNlYm9vazoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2ZhY2Vib29rL2NhbGxiYWNrJ1xuICB9LFxuICB0d2l0dGVyOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LlRXSVRURVJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5UV0lUVEVSX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL3R3aXR0ZXIvY2FsbGJhY2snXG4gIH0sXG4gIGdpdGh1Yjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ2l0aHViL2NhbGxiYWNrJ1xuICB9LFxuICBsaW5rZWRpbjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5MSU5LRURJTl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkxJTktFRElOX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2xpbmtlZGluL2NhbGxiYWNrJ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2dvb2dsZS9jYWxsYmFjaydcbiAgfVxufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "test.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENTID",
        "GOOGLE_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,MADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,+BAFvB;AAGfC,YAAU;AACRC,cAAUH,QAAQF,GAAR,CAAYM,iBADd;AAERC,kBAAcL,QAAQF,GAAR,CAAYQ,eAFlB;AAGRC,iBAAa;AAHL,GAHK;AAQfC,WAAS;AACPL,cAAUH,QAAQF,GAAR,CAAYW,gBADf;AAEPJ,kBAAcL,QAAQF,GAAR,CAAYY,cAFnB;AAGPH,iBAAa;AAHN,GARM;AAafI,UAAQ;AACNR,cAAUH,QAAQF,GAAR,CAAYc,eADhB;AAENP,kBAAcL,QAAQF,GAAR,CAAYe,aAFpB;AAGNN,iBAAa;AAHP,GAbO;AAkBfO,YAAU;AACRX,cAAUH,QAAQF,GAAR,CAAYiB,iBADd;AAERV,kBAAcL,QAAQF,GAAR,CAAYkB,eAFlB;AAGRT,iBAAa;AAHL,GAlBK;AAuBfU,UAAQ;AACNd,cAAUH,QAAQF,GAAR,CAAYoB,eADhB;AAENb,kBAAcL,QAAQF,GAAR,CAAYqB,aAFpB;AAGNZ,iBAAa;AAHP;AAvBO,CAAjB",
      "file": "test.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'test',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_tests',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/config/env/production.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/production.js",
      "filenameRelative": "/app/config/env/production.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "production.js",
      "sourceFileName": "production.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "production"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'production',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://mongodb/arasaac',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3Rpb24uanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImVudiIsImRhdGFiYXNlVXJsIiwicHJvY2VzcyIsIk1PTkdPX1VSTCIsImZhY2Vib29rIiwiY2xpZW50SUQiLCJGQUNFQk9PS19DTElFTlRJRCIsImNsaWVudFNlY3JldCIsIkZBQ0VCT09LX1NFQ1JFVCIsImNhbGxiYWNrVVJMIiwidHdpdHRlciIsIlRXSVRURVJfQ0xJRU5USUQiLCJUV0lUVEVSX1NFQ1JFVCIsImdpdGh1YiIsIkdJVEhVQl9DTElFTlRJRCIsIkdJVEhVQl9TRUNSRVQiLCJsaW5rZWRpbiIsIkxJTktFRElOX0NMSUVOVElEIiwiTElOS0VESU5fU0VDUkVUIiwiZ29vZ2xlIiwiR09PR0xFX0NMSUVOVElEIiwiR09PR0xFX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxPQUFLLFlBRFU7QUFFZkMsZUFBYUMsUUFBUUYsR0FBUixDQUFZRyxTQUFaLElBQXlCLDJCQUZ2QjtBQUdmQyxZQUFVO0FBQ1JDLGNBQVVILFFBQVFGLEdBQVIsQ0FBWU0saUJBRGQ7QUFFUkMsa0JBQWNMLFFBQVFGLEdBQVIsQ0FBWVEsZUFGbEI7QUFHUkMsaUJBQWE7QUFITCxHQUhLO0FBUWZDLFdBQVM7QUFDUEwsY0FBVUgsUUFBUUYsR0FBUixDQUFZVyxnQkFEZjtBQUVQSixrQkFBY0wsUUFBUUYsR0FBUixDQUFZWSxjQUZuQjtBQUdQSCxpQkFBYTtBQUhOLEdBUk07QUFhZkksVUFBUTtBQUNOUixjQUFVSCxRQUFRRixHQUFSLENBQVljLGVBRGhCO0FBRU5QLGtCQUFjTCxRQUFRRixHQUFSLENBQVllLGFBRnBCO0FBR05OLGlCQUFhO0FBSFAsR0FiTztBQWtCZk8sWUFBVTtBQUNSWCxjQUFVSCxRQUFRRixHQUFSLENBQVlpQixpQkFEZDtBQUVSVixrQkFBY0wsUUFBUUYsR0FBUixDQUFZa0IsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQWxCSztBQXVCZlUsVUFBUTtBQUNOZCxjQUFVSCxRQUFRRixHQUFSLENBQVlvQixlQURoQjtBQUVOYixrQkFBY0wsUUFBUUYsR0FBUixDQUFZcUIsYUFGcEI7QUFHTlosaUJBQWE7QUFIUDtBQXZCTyxDQUFqQiIsImZpbGUiOiJwcm9kdWN0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnL2VudiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbnY6ICdwcm9kdWN0aW9uJyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL21vbmdvZGIvYXJhc2FhYycsXG4gIGZhY2Vib29rOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snXG4gIH0sXG4gIHR3aXR0ZXI6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuVFdJVFRFUl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LlRXSVRURVJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvdHdpdHRlci9jYWxsYmFjaydcbiAgfSxcbiAgZ2l0aHViOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9naXRodWIvY2FsbGJhY2snXG4gIH0sXG4gIGxpbmtlZGluOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkxJTktFRElOX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuTElOS0VESU5fU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvbGlua2VkaW4vY2FsbGJhY2snXG4gIH0sXG4gIGdvb2dsZToge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ29vZ2xlL2NhbGxiYWNrJ1xuICB9XG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "production.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENTID",
        "GOOGLE_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,YADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,2BAFvB;AAGfC,YAAU;AACRC,cAAUH,QAAQF,GAAR,CAAYM,iBADd;AAERC,kBAAcL,QAAQF,GAAR,CAAYQ,eAFlB;AAGRC,iBAAa;AAHL,GAHK;AAQfC,WAAS;AACPL,cAAUH,QAAQF,GAAR,CAAYW,gBADf;AAEPJ,kBAAcL,QAAQF,GAAR,CAAYY,cAFnB;AAGPH,iBAAa;AAHN,GARM;AAafI,UAAQ;AACNR,cAAUH,QAAQF,GAAR,CAAYc,eADhB;AAENP,kBAAcL,QAAQF,GAAR,CAAYe,aAFpB;AAGNN,iBAAa;AAHP,GAbO;AAkBfO,YAAU;AACRX,cAAUH,QAAQF,GAAR,CAAYiB,iBADd;AAERV,kBAAcL,QAAQF,GAAR,CAAYkB,eAFlB;AAGRT,iBAAa;AAHL,GAlBK;AAuBfU,UAAQ;AACNd,cAAUH,QAAQF,GAAR,CAAYoB,eADhB;AAENb,kBAAcL,QAAQF,GAAR,CAAYqB,aAFpB;AAGNZ,iBAAa;AAHP;AAvBO,CAAjB",
      "file": "production.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'production',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://mongodb/arasaac',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1510958647000
  },
  "{\"filename\":\"/app/db.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/db.js",
      "filenameRelative": "/app/db.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "db.js",
      "sourceFileName": "db.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "db"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar config = require('./config');\n\nmongoose.connect(config.databaseUrl);\nmongoose.connection.on('connected', function () {\n  return console.log('Connected to database: ' + config.databaseUrl);\n});\nmongoose.connection.on('error', function (err) {\n  return console.log('Database connection error: ' + err);\n});\nmongoose.connection.on('disconnected', function () {\n  return console.log('Disconnected from database');\n});\n\nprocess.on('SIGINT', function () {\n  return mongoose.connection.close(function () {\n    console.log('Finished App and disconnected from database');\n    process.exit(0);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbmZpZyIsImNvbm5lY3QiLCJkYXRhYmFzZVVybCIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJwcm9jZXNzIiwiY2xvc2UiLCJleGl0Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxVQUFSLENBQWI7O0FBRUFELFNBQVNHLE9BQVQsQ0FBaUJELE9BQU9FLFdBQXhCO0FBQ0FKLFNBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLFdBQXZCLEVBQW9DO0FBQUEsU0FBTUMsUUFBUUMsR0FBUixDQUFZLDRCQUE0Qk4sT0FBT0UsV0FBL0MsQ0FBTjtBQUFBLENBQXBDO0FBQ0FKLFNBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQStCLFVBQUNHLEdBQUQ7QUFBQSxTQUFTRixRQUFRQyxHQUFSLENBQVksZ0NBQWdDQyxHQUE1QyxDQUFUO0FBQUEsQ0FBL0I7QUFDQVQsU0FBU0ssVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUM7QUFBQSxTQUFNQyxRQUFRQyxHQUFSLENBQVksNEJBQVosQ0FBTjtBQUFBLENBQXZDOztBQUVBRSxRQUFRSixFQUFSLENBQVcsUUFBWCxFQUFxQjtBQUFBLFNBQU1OLFNBQVNLLFVBQVQsQ0FBb0JNLEtBQXBCLENBQTJCLFlBQU07QUFDMURKLFlBQVFDLEdBQVIsQ0FBWSw2Q0FBWjtBQUNBRSxZQUFRRSxJQUFSLENBQWEsQ0FBYjtBQUNELEdBSDBCLENBQU47QUFBQSxDQUFyQiIsImZpbGUiOiJkYi5qcyIsInNvdXJjZVJvb3QiOiIvYXBwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJylcblxubW9uZ29vc2UuY29ubmVjdChjb25maWcuZGF0YWJhc2VVcmwpXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIGRhdGFiYXNlOiAnICsgY29uZmlnLmRhdGFiYXNlVXJsKSlcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywoZXJyKSA9PiBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjogJyArIGVycikpXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkIGZyb20gZGF0YWJhc2UnKSlcblxucHJvY2Vzcy5vbignU0lHSU5UJywgKCkgPT4gbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSggKCkgPT4ge1xuICBjb25zb2xlLmxvZygnRmluaXNoZWQgQXBwIGFuZCBkaXNjb25uZWN0ZWQgZnJvbSBkYXRhYmFzZScpXG4gIHByb2Nlc3MuZXhpdCgwKVxufSkpIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "config",
        "connect",
        "databaseUrl",
        "connection",
        "on",
        "console",
        "log",
        "err",
        "process",
        "close",
        "exit"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASD,QAAQ,UAAR,CAAb;;AAEAD,SAASG,OAAT,CAAiBD,OAAOE,WAAxB;AACAJ,SAASK,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC;AAAA,SAAMC,QAAQC,GAAR,CAAY,4BAA4BN,OAAOE,WAA/C,CAAN;AAAA,CAApC;AACAJ,SAASK,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAA+B,UAACG,GAAD;AAAA,SAASF,QAAQC,GAAR,CAAY,gCAAgCC,GAA5C,CAAT;AAAA,CAA/B;AACAT,SAASK,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC;AAAA,SAAMC,QAAQC,GAAR,CAAY,4BAAZ,CAAN;AAAA,CAAvC;;AAEAE,QAAQJ,EAAR,CAAW,QAAX,EAAqB;AAAA,SAAMN,SAASK,UAAT,CAAoBM,KAApB,CAA2B,YAAM;AAC1DJ,YAAQC,GAAR,CAAY,6CAAZ;AACAE,YAAQE,IAAR,CAAa,CAAb;AACD,GAH0B,CAAN;AAAA,CAArB",
      "file": "db.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar config = require('./config')\n\nmongoose.connect(config.databaseUrl)\nmongoose.connection.on('connected', () => console.log('Connected to database: ' + config.databaseUrl))\nmongoose.connection.on('error',(err) => console.log('Database connection error: ' + err))\nmongoose.connection.on('disconnected', () => console.log('Disconnected from database'))\n\nprocess.on('SIGINT', () => mongoose.connection.close( () => {\n  console.log('Finished App and disconnected from database')\n  process.exit(0)\n}))"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/cervezasController.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/cervezasController.js",
      "filenameRelative": "/app/controllers/cervezasController.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "cervezasController.js",
      "sourceFileName": "cervezasController.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "cervezasController"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Cervezas = require('../models/Cervezas');\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function search(req, res) {\n    var q = req.query.q;\n    Cervezas.find({ $text: { $search: q } }, function (err, cervezas) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        });\n      }\n      return res.json(cervezas);\n    });\n  },\n  list: function list(req, res) {\n    Cervezas.find(function (err, cervezas) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo la cerveza'\n        });\n      }\n      return res.json(cervezas);\n    });\n  },\n  show: function show(req, res) {\n    var id = req.params.id;\n    Cervezas.findOne({ _id: id }, function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener la cerveza'\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No tenemos esta cerveza'\n        });\n      }\n      return res.json(cerveza);\n    });\n  },\n  create: function create(req, res) {\n    var cerveza = new Cervezas(req.body);\n    cerveza.save(function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error al guardar la cerveza',\n          error: err\n        });\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: cerveza._id\n      });\n    });\n  },\n  update: function update(req, res) {\n    var id = req.params.id;\n    Cervezas.findOne({ _id: id }, function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar la cerveza',\n          error: err\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la cerveza'\n        });\n      }\n      cerveza.Nombre = req.body.nombre;\n      cerveza.Descripción = req.body.descripcion;\n      cerveza.Graduacion = req.body.graduacion;\n      cerveza.Envase = req.body.envase;\n      cerveza.Precio = req.body.precio;\n      cerveza.save(function (err, cerveza) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar la cerveza'\n          });\n        }\n        if (!cerveza) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la cerveza'\n          });\n        }\n        return res.json(cerveza);\n      });\n    });\n  },\n  remove: function remove(req, res) {\n    var id = req.params.id;\n    Cervezas.findByIdAndRemove(id, function (err, cerveza) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado la cerveza'\n        });\n      }\n      return res.json(cerveza);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNlcnZlemFzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJDZXJ2ZXphcyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VhcmNoIiwicmVxIiwicmVzIiwicSIsInF1ZXJ5IiwiZmluZCIsIiR0ZXh0IiwiJHNlYXJjaCIsImVyciIsImNlcnZlemFzIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJsaXN0Iiwic2hvdyIsImlkIiwicGFyYW1zIiwiZmluZE9uZSIsIl9pZCIsImNlcnZlemEiLCJjcmVhdGUiLCJib2R5Iiwic2F2ZSIsImVycm9yIiwidXBkYXRlIiwiTm9tYnJlIiwibm9tYnJlIiwiRGVzY3JpcGNpw7NuIiwiZGVzY3JpcGNpb24iLCJHcmFkdWFjaW9uIiwiZ3JhZHVhY2lvbiIsIkVudmFzZSIsImVudmFzZSIsIlByZWNpbyIsInByZWNpbyIsInJlbW92ZSIsImZpbmRCeUlkQW5kUmVtb3ZlIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsb0JBQVIsQ0FBZjtBQUNBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2Y7QUFDQUMsVUFBUSxnQkFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQzFCLFFBQUlDLElBQUlGLElBQUlHLEtBQUosQ0FBVUQsQ0FBbEI7QUFDQVAsYUFBU1MsSUFBVCxDQUFjLEVBQUVDLE9BQU8sRUFBRUMsU0FBU0osQ0FBWCxFQUFULEVBQWQsRUFBeUMsVUFBU0ssR0FBVCxFQUFjQyxRQUFkLEVBQXdCO0FBQy9ELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9OLElBQUlRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVM7QUFEaUIsU0FBckIsQ0FBUDtBQUdEO0FBQ0QsYUFBT1YsSUFBSVMsSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQVBEO0FBUUQsR0FaYztBQWFmSSxRQUFNLGNBQVNaLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN2Qk4sYUFBU1Ms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LEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxZQUFHLENBQUNPLE9BQUosRUFBYTtBQUNYLGlCQUFPakIsSUFBSVEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxlQUFPVixJQUFJUyxJQUFKLENBQVNRLE9BQVQsQ0FBUDtBQUNELE9BWkQ7QUFhRCxLQTlCRDtBQStCRCxHQXZGYztBQXdGZmdCLFVBQVEsZ0JBQVNsQyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDekIsUUFBSWEsS0FBS2QsSUFBSWUsTUFBSixDQUFXRCxFQUFwQjtBQUNBbkIsYUFBU3dDLGlCQUFULENBQTJCckIsRUFBM0IsRUFBK0IsVUFBU1AsR0FBVCxFQUFjVyxPQUFkLEVBQXNCO0FBQ25ELFVBQUdYLEdBQUgsRUFBUTtBQUNOLGVBQU9OLElBQUlTLElBQUosQ0FBUyxHQUFULEVBQWM7QUFDbkJDLG1CQUFTO0FBRFUsU0FBZCxDQUFQO0FBR0Q7QUFDRCxhQUFPVixJQUFJUyxJQUFKLENBQVNRLE9BQVQsQ0FBUDtBQUNELEtBUEQ7QUFRRDtBQWxHYyxDQUFqQiIsImZpbGUiOiJjZXJ2ZXphc0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDZXJ2ZXphcyA9IHJlcXVpcmUoJy4uL21vZGVscy9DZXJ2ZXphcycpXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gaHR0cHM6Ly9kb2NzLm1vbmdvZGIuY29tL3YzLjAvcmVmZXJlbmNlL29wZXJhdG9yL3F1ZXJ5L3RleHQvXG4gIHNlYXJjaDogZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgdmFyIHEgPSByZXEucXVlcnkucVxuICAgIENlcnZlemFzLmZpbmQoeyAkdGV4dDogeyAkc2VhcmNoOiBxIH0gfSwgZnVuY3Rpb24oZXJyLCBjZXJ2ZXphcykge1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGVuIGxhIGLDunNxdWVkYSdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihjZXJ2ZXphcylcbiAgICB9KVxuICB9LFxuICBsaXN0OiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIENlcnZlemFzLmZpbmQoZnVuY3Rpb24oZXJyLCBjZXJ2ZXphcyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3Igb2J0ZW5pZW5kbyBsYSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNlcnZlemFzKVxuICAgIH0pXG4gIH0sXG4gIHNob3c6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIENlcnZlemFzLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1NlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBhbCBvYnRlbmVyIGxhIGNlcnZlemEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighY2VydmV6YSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oIHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gdGVuZW1vcyBlc3RhIGNlcnZlemEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oY2VydmV6YSlcbiAgICB9KVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGNlcnZlemEgPSBuZXcgQ2VydmV6YXMgKHJlcS5ib2R5KVxuICAgIGNlcnZlemEuc2F2ZShmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBhbCBndWFyZGFyIGxhIGNlcnZlemEnLFxuICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdzYXZlZCcsXG4gICAgICAgIF9pZDogY2VydmV6YS5faWRcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBDZXJ2ZXphcy5maW5kT25lKHtfaWQ6IGlkfSwgZnVuY3Rpb24oZXJyLCBjZXJ2ZXphKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgZ3VhcmRhciBsYSBjZXJ2ZXphJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighY2VydmV6YSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBoZW1vcyBlbmNvbnRyYWRvIGxhIGNlcnZlemEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBjZXJ2ZXphLk5vbWJyZSA9IHJlcS5ib2R5Lm5vbWJyZVxuICAgICAgY2VydmV6YS5EZXNjcmlwY2nDs24gPSAgcmVxLmJvZHkuZGVzY3JpcGNpb25cbiAgICAgIGNlcnZlemEuR3JhZHVhY2lvbiA9IHJlcS5ib2R5LmdyYWR1YWNpb25cbiAgICAgIGNlcnZlemEuRW52YXNlID0gcmVxLmJvZHkuZW52YXNlXG4gICAgICBjZXJ2ZXphLlByZWNpbyA9IHJlcS5ib2R5LnByZWNpb1xuICAgICAgY2VydmV6YS5zYXZlKGZ1bmN0aW9uKGVyciwgY2VydmV6YSl7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYWwgZ3VhcmRhciBsYSBjZXJ2ZXphJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYoIWNlcnZlemEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gbGEgY2VydmV6YSdcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbihjZXJ2ZXphKVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIENlcnZlemFzLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbig1MDAsIHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gaGVtb3MgZW5jb250cmFkbyBsYSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNlcnZlemEpXG4gICAgfSlcbiAgfVxufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "cervezasController.js"
      ],
      "names": [
        "Cervezas",
        "require",
        "module",
        "exports",
        "search",
        "req",
        "res",
        "q",
        "query",
        "find",
        "$text",
        "$search",
        "err",
        "cervezas",
        "status",
        "json",
        "message",
        "list",
        "show",
        "id",
        "params",
        "findOne",
        "_id",
        "cerveza",
        "create",
        "body",
        "save",
        "error",
        "update",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "remove",
        "findByIdAndRemove"
      ],
      "mappings": "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",
      "file": "cervezasController.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var Cervezas = require('../models/Cervezas')\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function (req, res) {\n    var q = req.query.q\n    Cervezas.find({ $text: { $search: q } }, function(err, cervezas) {\n      if(err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        })\n      }\n      return res.json(cervezas)\n    })\n  },\n  list: function(req, res) {\n    Cervezas.find(function(err, cervezas){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo la cerveza'\n        })\n      }\n      return res.json(cervezas)\n    })\n  },\n  show: function(req, res) {\n    var id = req.params.id\n    Cervezas.findOne({_id: id}, function(err, cerveza){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener la cerveza'\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json( {\n          message: 'No tenemos esta cerveza'\n        })\n      }\n      return res.json(cerveza)\n    })\n  },\n  create: function(req, res) {\n    var cerveza = new Cervezas (req.body)\n    cerveza.save(function(err, cerveza){\n      if(err) {\n        return res.status(500).json( {\n          message: 'Error al guardar la cerveza',\n          error: err\n        })\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: cerveza._id\n      })\n    })\n  },\n  update: function(req, res) {\n    var id = req.params.id\n    Cervezas.findOne({_id: id}, function(err, cerveza){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar la cerveza',\n          error: err\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la cerveza'\n        })\n      }\n      cerveza.Nombre = req.body.nombre\n      cerveza.Descripción =  req.body.descripcion\n      cerveza.Graduacion = req.body.graduacion\n      cerveza.Envase = req.body.envase\n      cerveza.Precio = req.body.precio\n      cerveza.save(function(err, cerveza){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar la cerveza'\n          })\n        }\n        if(!cerveza) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la cerveza'\n          })\n        }\n        return res.json(cerveza)\n      })\n    })\n  },\n  remove: function(req, res) {\n    var id = req.params.id\n    Cervezas.findByIdAndRemove(id, function(err, cerveza){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado la cerveza'\n        })\n      }\n      return res.json(cerveza)\n    })\n  }\n}"
      ]
    },
    "mtime": 1516117364000
  },
  "{\"filename\":\"/app/models/Cervezas.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/Cervezas.js",
      "filenameRelative": "/app/models/Cervezas.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Cervezas.js",
      "sourceFileName": "Cervezas.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Cervezas"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar cervezaSchema = new Schema({\n  Nombre: String,\n  Descripción: String,\n  Graduacion: String,\n  Envase: String,\n  Precio: String\n});\n\nvar Cerveza = mongoose.model('Cerveza', cervezaSchema);\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Cerveza;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNlcnZlemFzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsImNlcnZlemFTY2hlbWEiLCJOb21icmUiLCJTdHJpbmciLCJEZXNjcmlwY2nDs24iLCJHcmFkdWFjaW9uIiwiRW52YXNlIiwiUHJlY2lvIiwiQ2VydmV6YSIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBLElBQUlDLGdCQUFnQixJQUFJRCxNQUFKLENBQVc7QUFDN0JFLFVBQVFDLE1BRHFCO0FBRTdCQyxlQUFhRCxNQUZnQjtBQUc3QkUsY0FBWUYsTUFIaUI7QUFJN0JHLFVBQVFILE1BSnFCO0FBSzdCSSxVQUFRSjtBQUxxQixDQUFYLENBQXBCOztBQVFBLElBQUlLLFVBQVVWLFNBQVNXLEtBQVQsQ0FBZSxTQUFmLEVBQTBCUixhQUExQixDQUFkOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBUyxPQUFPQyxPQUFQLEdBQWlCSCxPQUFqQiIsImZpbGUiOiJDZXJ2ZXphcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJylcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxudmFyIGNlcnZlemFTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgTm9tYnJlOiBTdHJpbmcsIFxuICBEZXNjcmlwY2nDs246IFN0cmluZywgXG4gIEdyYWR1YWNpb246IFN0cmluZyxcbiAgRW52YXNlOiBTdHJpbmcsXG4gIFByZWNpbzogU3RyaW5nIFxufSlcblxudmFyIENlcnZlemEgPSBtb25nb29zZS5tb2RlbCgnQ2VydmV6YScsIGNlcnZlemFTY2hlbWEpXG5cbi8qXG5cbkVzdG8gZGEgZXJyb3IgZW4gdXBkYXRlIHkgY3JlYXRlOlxuY2VydmV6YVNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgQ2VydmV6YS5jb3VudCh7Y2VydmV6YTogc2VsZi5uYW1lfSwgZnVuY3Rpb24gKGVyciwgY291bnQpIHtcbiAgICBpZiAoY291bnQ+MCl7XG4gICAgICBuZXh0KG5ldyBFcnJvcignwqFZYSBleGlzdGUgZXN0YSBjZXJ2ZXphIScpKVxuICAgIH1lbHNleyAgICAgICAgICAgICAgICBcbiAgICAgIG5leHQoKVxuICAgIH1cbiAgfSlcbn0pIFxuXG4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IENlcnZlemFcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Cervezas.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "cervezaSchema",
        "Nombre",
        "String",
        "Descripción",
        "Graduacion",
        "Envase",
        "Precio",
        "Cerveza",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,UAAQC,MADqB;AAE7BC,eAAaD,MAFgB;AAG7BE,cAAYF,MAHiB;AAI7BG,UAAQH,MAJqB;AAK7BI,UAAQJ;AALqB,CAAX,CAApB;;AAQA,IAAIK,UAAUV,SAASW,KAAT,CAAe,SAAf,EAA0BR,aAA1B,CAAd;;AAEA;;;;;;;;;;;;;;;;AAgBAS,OAAOC,OAAP,GAAiBH,OAAjB",
      "file": "Cervezas.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar cervezaSchema = new Schema({\n  Nombre: String, \n  Descripción: String, \n  Graduacion: String,\n  Envase: String,\n  Precio: String \n})\n\nvar Cerveza = mongoose.model('Cerveza', cervezaSchema)\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Cerveza\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/hello_world.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/hello_world.js",
      "filenameRelative": "/app/controllers/hello_world.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "hello_world.js",
      "sourceFileName": "hello_world.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "hello_world"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar util = require('util');\n\n/*\n  In the starter/skeleton project the 'get' operation on the '/hello' path has an operationId named 'hello'.  Here,\n  we specify that in the exports of this module that 'hello' maps to the function named 'hello'\n */\nmodule.exports = {\n  hello: hello\n\n  /*\n    Functions in a127 controllers used for operations should take two parameters:\n  \n    Param 1: a handle to the request object\n    Param 2: a handle to the response object\n   */\n};function hello(req, res) {\n  // variables defined in the Swagger document can be referenced using req.swagger.params.{parameter_name}\n  var name = req.swagger.params.name.value || 'stranger';\n  var hello = util.format('Hello, %s!', name);\n\n  // this sends back a JSON response which is a single string\n  res.json(hello);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbGxvX3dvcmxkLmpzIl0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImhlbGxvIiwicmVxIiwicmVzIiwibmFtZSIsInN3YWdnZXIiLCJwYXJhbXMiLCJ2YWx1ZSIsImZvcm1hdCIsImpzb24iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLE9BQU9DLFFBQVEsTUFBUixDQUFYOztBQUVBOzs7O0FBSUFDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsU0FBT0E7O0FBR1Q7Ozs7OztBQUppQixDQUFqQixDQVVBLFNBQVNBLEtBQVQsQ0FBZUMsR0FBZixFQUFvQkMsR0FBcEIsRUFBeUI7QUFDdkI7QUFDQSxNQUFJQyxPQUFPRixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJGLElBQW5CLENBQXdCRyxLQUF4QixJQUFpQyxVQUE1QztBQUNBLE1BQUlOLFFBQVFKLEtBQUtXLE1BQUwsQ0FBWSxZQUFaLEVBQTBCSixJQUExQixDQUFaOztBQUVBO0FBQ0FELE1BQUlNLElBQUosQ0FBU1IsS0FBVDtBQUNEIiwiZmlsZSI6ImhlbGxvX3dvcmxkLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcblxuLypcbiAgSW4gdGhlIHN0YXJ0ZXIvc2tlbGV0b24gcHJvamVjdCB0aGUgJ2dldCcgb3BlcmF0aW9uIG9uIHRoZSAnL2hlbGxvJyBwYXRoIGhhcyBhbiBvcGVyYXRpb25JZCBuYW1lZCAnaGVsbG8nLiAgSGVyZSxcbiAgd2Ugc3BlY2lmeSB0aGF0IGluIHRoZSBleHBvcnRzIG9mIHRoaXMgbW9kdWxlIHRoYXQgJ2hlbGxvJyBtYXBzIHRvIHRoZSBmdW5jdGlvbiBuYW1lZCAnaGVsbG8nXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoZWxsbzogaGVsbG9cbn1cblxuLypcbiAgRnVuY3Rpb25zIGluIGExMjcgY29udHJvbGxlcnMgdXNlZCBmb3Igb3BlcmF0aW9ucyBzaG91bGQgdGFrZSB0d28gcGFyYW1ldGVyczpcblxuICBQYXJhbSAxOiBhIGhhbmRsZSB0byB0aGUgcmVxdWVzdCBvYmplY3RcbiAgUGFyYW0gMjogYSBoYW5kbGUgdG8gdGhlIHJlc3BvbnNlIG9iamVjdFxuICovXG5mdW5jdGlvbiBoZWxsbyhyZXEsIHJlcykge1xuICAvLyB2YXJpYWJsZXMgZGVmaW5lZCBpbiB0aGUgU3dhZ2dlciBkb2N1bWVudCBjYW4gYmUgcmVmZXJlbmNlZCB1c2luZyByZXEuc3dhZ2dlci5wYXJhbXMue3BhcmFtZXRlcl9uYW1lfVxuICB2YXIgbmFtZSA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5uYW1lLnZhbHVlIHx8ICdzdHJhbmdlcidcbiAgdmFyIGhlbGxvID0gdXRpbC5mb3JtYXQoJ0hlbGxvLCAlcyEnLCBuYW1lKVxuXG4gIC8vIHRoaXMgc2VuZHMgYmFjayBhIEpTT04gcmVzcG9uc2Ugd2hpY2ggaXMgYSBzaW5nbGUgc3RyaW5nXG4gIHJlcy5qc29uKGhlbGxvKVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "hello_world.js"
      ],
      "names": [
        "util",
        "require",
        "module",
        "exports",
        "hello",
        "req",
        "res",
        "name",
        "swagger",
        "params",
        "value",
        "format",
        "json"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEA;;;;AAIAC,OAAOC,OAAP,GAAiB;AACfC,SAAOA;;AAGT;;;;;;AAJiB,CAAjB,CAUA,SAASA,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACvB;AACA,MAAIC,OAAOF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBF,IAAnB,CAAwBG,KAAxB,IAAiC,UAA5C;AACA,MAAIN,QAAQJ,KAAKW,MAAL,CAAY,YAAZ,EAA0BJ,IAA1B,CAAZ;;AAEA;AACAD,MAAIM,IAAJ,CAASR,KAAT;AACD",
      "file": "hello_world.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "'use strict'\n\nvar util = require('util')\n\n/*\n  In the starter/skeleton project the 'get' operation on the '/hello' path has an operationId named 'hello'.  Here,\n  we specify that in the exports of this module that 'hello' maps to the function named 'hello'\n */\nmodule.exports = {\n  hello: hello\n}\n\n/*\n  Functions in a127 controllers used for operations should take two parameters:\n\n  Param 1: a handle to the request object\n  Param 2: a handle to the response object\n */\nfunction hello(req, res) {\n  // variables defined in the Swagger document can be referenced using req.swagger.params.{parameter_name}\n  var name = req.swagger.params.name.value || 'stranger'\n  var hello = util.format('Hello, %s!', name)\n\n  // this sends back a JSON response which is a single string\n  res.json(hello)\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/keywords.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/keywords.js",
      "filenameRelative": "/app/controllers/keywords.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "keywords.js",
      "sourceFileName": "keywords.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "keywords"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Keywords = require('../models/Keyword');\nmodule.exports = {\n  getAll: function getAll(req, res) {\n    var language = req.swagger.params.language.value;\n    Keywords.findOne({ language: language }, function (err, keywords) {\n      if (err) {\n        return res.status(500).json({ error: err.message });\n      }\n      console.log(keywords);\n      return res.json(keywords);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtleXdvcmRzLmpzIl0sIm5hbWVzIjpbIktleXdvcmRzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXRBbGwiLCJyZXEiLCJyZXMiLCJsYW5ndWFnZSIsInN3YWdnZXIiLCJwYXJhbXMiLCJ2YWx1ZSIsImZpbmRPbmUiLCJlcnIiLCJrZXl3b3JkcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsbUJBQVIsQ0FBZjtBQUNBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZDLFVBQVEsZ0JBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN6QixRQUFJQyxXQUFXRixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJGLFFBQW5CLENBQTRCRyxLQUEzQztBQUNBVixhQUFTVyxPQUFULENBQWlCLEVBQUNKLGtCQUFELEVBQWpCLEVBQTZCLFVBQUNLLEdBQUQsRUFBTUMsUUFBTixFQUFtQjtBQUM5QyxVQUFHRCxHQUFILEVBQVE7QUFDTixlQUFPTixJQUFJUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ0MsT0FBT0osSUFBSUssT0FBWixFQUFyQixDQUFQO0FBQ0Q7QUFDREMsY0FBUUMsR0FBUixDQUFZTixRQUFaO0FBQ0EsYUFBT1AsSUFBSVMsSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQU5EO0FBT0Q7QUFWYyxDQUFqQiIsImZpbGUiOiJrZXl3b3Jkcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEtleXdvcmRzID0gcmVxdWlyZSgnLi4vbW9kZWxzL0tleXdvcmQnKVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbDogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgbGFuZ3VhZ2UgPSByZXEuc3dhZ2dlci5wYXJhbXMubGFuZ3VhZ2UudmFsdWVcbiAgICBLZXl3b3Jkcy5maW5kT25lKHtsYW5ndWFnZX0sIChlcnIsIGtleXdvcmRzKSA9PiB7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogZXJyLm1lc3NhZ2V9KVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coa2V5d29yZHMpXG4gICAgICByZXR1cm4gcmVzLmpzb24oa2V5d29yZHMpXG4gICAgfSlcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "keywords.js"
      ],
      "names": [
        "Keywords",
        "require",
        "module",
        "exports",
        "getAll",
        "req",
        "res",
        "language",
        "swagger",
        "params",
        "value",
        "findOne",
        "err",
        "keywords",
        "status",
        "json",
        "error",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,mBAAR,CAAf;AACAC,OAAOC,OAAP,GAAiB;AACfC,UAAQ,gBAASC,GAAT,EAAcC,GAAd,EAAmB;AACzB,QAAIC,WAAWF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBF,QAAnB,CAA4BG,KAA3C;AACAV,aAASW,OAAT,CAAiB,EAACJ,kBAAD,EAAjB,EAA6B,UAACK,GAAD,EAAMC,QAAN,EAAmB;AAC9C,UAAGD,GAAH,EAAQ;AACN,eAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,OAAOJ,IAAIK,OAAZ,EAArB,CAAP;AACD;AACDC,cAAQC,GAAR,CAAYN,QAAZ;AACA,aAAOP,IAAIS,IAAJ,CAASF,QAAT,CAAP;AACD,KAND;AAOD;AAVc,CAAjB",
      "file": "keywords.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var Keywords = require('../models/Keyword')\nmodule.exports = {\n  getAll: function(req, res) {\n    var language = req.swagger.params.language.value\n    Keywords.findOne({language}, (err, keywords) => {\n      if(err) {\n        return res.status(500).json({error: err.message})\n      }\n      console.log(keywords)\n      return res.json(keywords)\n    })\n  }\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/models/Keyword.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/Keyword.js",
      "filenameRelative": "/app/models/Keyword.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Keyword.js",
      "sourceFileName": "Keyword.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Keyword"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar keywordSchema = new Schema({\n  locale: String,\n  keyword: String\n});\n\nvar Keyword = mongoose.model('Keyword', keywordSchema, 'keywords');\n\nmodule.exports = Keyword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIktleXdvcmQuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwia2V5d29yZFNjaGVtYSIsImxvY2FsZSIsIlN0cmluZyIsImtleXdvcmQiLCJLZXl3b3JkIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0YsU0FBU0UsTUFBdEI7O0FBRUEsSUFBSUMsZ0JBQWdCLElBQUlELE1BQUosQ0FBVztBQUM3QkUsVUFBUUMsTUFEcUI7QUFFN0JDLFdBQVNEO0FBRm9CLENBQVgsQ0FBcEI7O0FBS0EsSUFBSUUsVUFBVVAsU0FBU1EsS0FBVCxDQUFlLFNBQWYsRUFBMEJMLGFBQTFCLEVBQXlDLFVBQXpDLENBQWQ7O0FBRUFNLE9BQU9DLE9BQVAsR0FBaUJILE9BQWpCIiwiZmlsZSI6IktleXdvcmQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbnZhciBrZXl3b3JkU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIGxvY2FsZTogU3RyaW5nLCBcbiAga2V5d29yZDogU3RyaW5nXG59KVxuXG52YXIgS2V5d29yZCA9IG1vbmdvb3NlLm1vZGVsKCdLZXl3b3JkJywga2V5d29yZFNjaGVtYSwgJ2tleXdvcmRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBLZXl3b3JkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Keyword.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "keywordSchema",
        "locale",
        "String",
        "keyword",
        "Keyword",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,UAAQC,MADqB;AAE7BC,WAASD;AAFoB,CAAX,CAApB;;AAKA,IAAIE,UAAUP,SAASQ,KAAT,CAAe,SAAf,EAA0BL,aAA1B,EAAyC,UAAzC,CAAd;;AAEAM,OAAOC,OAAP,GAAiBH,OAAjB",
      "file": "Keyword.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar keywordSchema = new Schema({\n  locale: String, \n  keyword: String\n})\n\nvar Keyword = mongoose.model('Keyword', keywordSchema, 'keywords')\n\nmodule.exports = Keyword\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/materials.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/materials.js",
      "filenameRelative": "/app/controllers/materials.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "materials.js",
      "sourceFileName": "materials.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "materials"
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n// habrá que concatenar dos funciones asíncronas,\n// Una para recibir los ficheros (imagenes de materiales) del dir correspondiente\n// Otra que lee los datos en la bbdd\n// mandar json cuandto todo acabe:\n// https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j/37532027#37532027\n\nvar Materials = require('../models/Materials');\nvar config = require('../config');\nvar recursive = require('recursive-readdir');\nvar path = require('path');\nvar Promise = require('bluebird');\n\nmodule.exports = {\n  getMaterialById: function getMaterialById(req, res) {\n    var id = req.swagger.params.idMaterial.value;\n    // Use lean to get a plain JS object to modify it, instead of a full model instance\n    // Materials.findOne({idMaterial: id}, function(err, material){\n    Materials.findOne({ idMaterial: id }).lean().exec(function () {\n      var _ref = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(err, material) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!err) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt('return', res.status(500).json({\n                  message: 'Se ha producido un error al obtener el material',\n                  error: err\n                }));\n\n              case 2:\n                if (material) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt('return', res.status(404).json({\n                  message: 'No tenemos este material',\n                  err: err\n                }));\n\n              case 4:\n                _context.next = 6;\n                return getFiles(material);\n\n              case 6:\n                response = _context.sent;\n                return _context.abrupt('return', res.json(response));\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, undefined);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  },\n  // Materials.find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}}).sort({score:{$meta:'textScore'}}, function(err, materials) {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  searchMaterials: function searchMaterials(req, res) {\n    var locale = req.swagger.params.locale.value;\n    var searchText = req.swagger.params.searchText.value;\n    Materials.find({ $text: { $search: searchText, $language: locale } }, { score: { $meta: 'textScore' } }).sort({ 'score': { '$meta': 'textScore' } }).lean().exec(function () {\n      var _ref2 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee3(err, materials) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!err) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt('return', res.status(500).json({\n                  message: 'Error buscando el material',\n                  error: err\n                }));\n\n              case 2:\n                if (!(materials.length === 0)) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt('return', res.status(404).json([]));\n\n              case 4:\n                _context3.next = 6;\n                return Promise.all(materials.map(function () {\n                  var _ref3 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee2(material) {\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return getFiles(material);\n\n                          case 2:\n                            return _context2.abrupt('return', _context2.sent);\n\n                          case 3:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, undefined);\n                  }));\n\n                  return function (_x5) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }()) // not async&await as we want to get all material images in parallel\n                );\n\n              case 6:\n                response = _context3.sent;\n                return _context3.abrupt('return', res.json(response));\n\n              case 8:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, undefined);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  },\n  getNewMaterials: function getNewMaterials(req, res) {\n    var days = req.swagger.params.days.value;\n    var startDate = new Date();\n    startDate.setDate(startDate.getDate() - days);\n    Materials.find({ lastUpdate: { $gt: startDate } }).sort({ lastUpdate: -1 }).lean().exec(function () {\n      var _ref4 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee5(err, materials) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!err) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt('return', res.status(500).json({\n                  message: 'Error buscando el material',\n                  error: err\n                }));\n\n              case 2:\n                if (!(materials.length === 0)) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                return _context5.abrupt('return', res.status(404).json([]));\n\n              case 4:\n                _context5.next = 6;\n                return Promise.all(materials.map(function () {\n                  var _ref5 = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee4(material) {\n                    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            _context4.next = 2;\n                            return getFiles(material);\n\n                          case 2:\n                            return _context4.abrupt('return', _context4.sent);\n\n                          case 3:\n                          case 'end':\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4, undefined);\n                  }));\n\n                  return function (_x8) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }()) // not async&await as we want to get all material images in parallel\n                );\n\n              case 6:\n                response = _context5.sent;\n                return _context5.abrupt('return', res.json(response));\n\n              case 8:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, undefined);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  },\n  listMaterials: function listMaterials(req, res) {\n    Materials.find(function (err, materials) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los materiales',\n          error: err\n        });\n      }\n      return res.json(materials);\n    });\n  },\n  showMaterials: function showMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findOne({ _id: id }, function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        });\n      }\n      if (!material) {\n        return res.status(404).json({\n          message: 'No tenemos este material',\n          err: err\n        });\n      }\n      return res.json(material);\n    });\n  },\n  createMaterials: function createMaterials(req, res) {\n    var material = new Materials(req.body);\n    material.save(function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error al guardar el material',\n          error: err\n        });\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: material._id\n      });\n    });\n  },\n  updateMaterials: function updateMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findOne({ _id: id }, function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el material',\n          error: err\n        });\n      }\n      if (!material) {\n        return res.status(404).json({\n          message: 'No hemos encontrado el material'\n        });\n      }\n      material.Nombre = req.body.nombre;\n      material.Descripción = req.body.descripcion;\n      material.Graduacion = req.body.graduacion;\n      material.Envase = req.body.envase;\n      material.Precio = req.body.precio;\n      material.save(function (err, material) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar el material'\n          });\n        }\n        if (!material) {\n          return res.status(404).json({\n            message: 'No hemos encontrado el material'\n          });\n        }\n        return res.json(material);\n      });\n    });\n  },\n  removeMaterials: function removeMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findByIdAndRemove(id, function (err, material) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el  material',\n          error: err\n        });\n      }\n      return res.json(material);\n    });\n  }\n};\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nvar initMaterial = function initMaterial(material) {\n  material.commonFiles = [];\n  material.screenshots = {};\n  material.commonScreenshots = [];\n  material.files = {};\n  material.file = {};\n};\n\nvar getFiles = function getFiles(material) {\n  initMaterial(material);\n  return new Promise(function (resolve) {\n    var materialLocales = [material.lang];\n    var baseDir = '' + config.materialsDir + path.sep + material.idMaterial + path.sep;\n    material.translations.map(function (translation) {\n      return materialLocales.push(translation.lang);\n    });\n    recursive(baseDir, function (err, files) {\n      // if err return material, if err is different from no screenshots dir, warning through console\n      if (err) err.code != 'ENOENT' && console.warn(err);\n      if (files != null) {\n        files.map(function (file) {\n          var relativeFile = file.replace(baseDir, '');\n          var fileName = path.basename(file);\n          if (fileName == 'index.html') return; // extra files from previous app\n          var dir = path.dirname(relativeFile);\n          var subdir = path.dirname(relativeFile).split(path.sep).pop();\n          if (dir === '.') {\n            //if file is tar.gz, put it inside file json  {es: xxx-es.tgz, fr: xxx.fr.tgz...}\n            var filePattern = new RegExp('^index-[A-z]{2,3}-[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}.tgz$', 'i');\n            if (filePattern.test(fileName)) {\n              var fileLocale = fileName.split('-')[1];\n              material.file[fileLocale] = fileName;\n            } else material.commonFiles.push(fileName);\n          } else if (dir.match(/screenshots_300$/)) material.commonScreenshots.push(fileName);else if (dir.match(/screenshots_300\\/[A-z]{2,3}$/)) material.screenshots[subdir] ? material.screenshots[subdir].push(fileName) : material.screenshots[subdir] = [fileName];else if (dir.match(/^[A-z]{2,3}$/)) material.files[subdir] ? material.files[subdir].push(fileName) : material.files[subdir] = [fileName];\n        });\n      }\n      resolve(material);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFscy5qcyJdLCJuYW1lcyI6WyJNYXRlcmlhbHMiLCJyZXF1aXJlIiwiY29uZmlnIiwicmVjdXJzaXZlIiwicGF0aCIsIlByb21pc2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2V0TWF0ZXJpYWxCeUlkIiwicmVxIiwicmVzIiwiaWQiLCJzd2FnZ2VyIiwicGFyYW1zIiwiaWRNYXRlcmlhbCIsInZhbHVlIiwiZmluZE9uZSIsImxlYW4iLCJleGVjIiwiZXJyIiwibWF0ZXJpYWwiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiZ2V0RmlsZXMiLCJyZXNwb25zZSIsInNlYXJjaE1hdGVyaWFscyIsImxvY2FsZSIsInNlYXJjaFRleHQiLCJmaW5kIiwiJHRleHQiLCIkc2VhcmNoIiwiJGxhbmd1YWdlIiwic2NvcmUiLCIkbWV0YSIsInNvcnQiLCJtYXRlcmlhbHMiLCJsZW5ndGgiLCJhbGwiLCJtYXAiLCJnZXROZXdNYXRlcmlhbHMiLCJkYXlzIiwic3RhcnREYXRlIiwiRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwibGFzdFVwZGF0ZSIsIiRndCIsImxpc3RNYXRlcmlhbHMiLCJzaG93TWF0ZXJpYWxzIiwiX2lkIiwiY3JlYXRlTWF0ZXJpYWxzIiwiYm9keSIsInNhdmUiLCJ1cGRhdGVNYXRlcmlhbHMiLCJOb21icmUiLCJub21icmUiLCJEZXNjcmlwY2nDs24iLCJkZXNjcmlwY2lvbiIsIkdyYWR1YWNpb24iLCJncmFkdWFjaW9uIiwiRW52YXNlIiwiZW52YXNlIiwiUHJlY2lvIiwicHJlY2lvIiwicmVtb3ZlTWF0ZXJpYWxzIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJpc051bWVyaWMiLCJuIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJpbml0TWF0ZXJpYWwiLCJjb21tb25GaWxlcyIsInNjcmVlbnNob3RzIiwiY29tbW9uU2NyZWVuc2hvdHMiLCJmaWxlcyIsImZpbGUiLCJyZXNvbHZlIiwibWF0ZXJpYWxMb2NhbGVzIiwibGFuZyIsImJhc2VEaXIiLCJtYXRlcmlhbHNEaXIiLCJzZXAiLCJ0cmFuc2xhdGlvbnMiLCJ0cmFuc2xhdGlvbiIsInB1c2giLCJjb2RlIiwiY29uc29sZSIsIndhcm4iLCJyZWxhdGl2ZUZpbGUiLCJyZXBsYWNlIiwiZmlsZU5hbWUiLCJiYXNlbmFtZSIsImRpciIsImRpcm5hbWUiLCJzdWJkaXIiLCJzcGxpdCIsInBvcCIsImZpbGVQYXR0ZXJuIiwiUmVnRXhwIiwidGVzdCIsImZpbGVMb2NhbGUiLCJtYXRjaCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSUEsWUFBWUMsUUFBUSxxQkFBUixDQUFoQjtBQUNBLElBQU1DLFNBQVNELFFBQVEsV0FBUixDQUFmO0FBQ0EsSUFBSUUsWUFBWUYsUUFBUSxtQkFBUixDQUFoQjtBQUNBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUksVUFBVUosUUFBUSxVQUFSLENBQWQ7O0FBRUFLLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsbUJBQWlCLHlCQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM3QixRQUFJQyxLQUFLRixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJDLFVBQW5CLENBQThCQyxLQUF2QztBQUNBO0FBQ0E7QUFDQWYsY0FBVWdCLE9BQVYsQ0FBa0IsRUFBQ0YsWUFBWUgsRUFBYixFQUFsQixFQUFvQ00sSUFBcEMsR0FBMkNDLElBQTNDO0FBQUEseUVBQWdELGlCQUFPQyxHQUFQLEVBQVlDLFFBQVo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBQzNDRCxHQUQyQztBQUFBO0FBQUE7QUFBQTs7QUFBQSxpREFFckNULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsMkJBQVMsaURBRGlCO0FBRTFCQyx5QkFBT0w7QUFGbUIsaUJBQXJCLENBRnFDOztBQUFBO0FBQUEsb0JBTzFDQyxRQVAwQztBQUFBO0FBQUE7QUFB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QVQsQ0FBcUJhLElBQXJCLENBQTBCTSxRQUExQjtBQUNSLFdBUEQsTUFRSyxJQUFJRSxJQUFJUyxLQUFKLENBQVUsa0JBQVYsQ0FBSixFQUFtQ3BGLFNBQVN3RCxpQkFBVCxDQUEyQlcsSUFBM0IsQ0FBZ0NNLFFBQWhDLEVBQW5DLEtBQ0EsSUFBSUUsSUFBSVMsS0FBSixDQUFVLDhCQUFWLENBQUosRUFDSHBGLFNBQVN1RCxXQUFULENBQXFCc0IsTUFBckIsSUFDRTdFLFNBQVN1RCxXQUFULENBQXFCc0IsTUFBckIsRUFBNkJWLElBQTdCLENBQWtDTSxRQUFsQyxDQURGLEdBRUV6RSxTQUFTdUQsV0FBVCxDQUFxQnNCLE1BQXJCLElBQStCLENBQUNKLFFBQUQsQ0FGakMsQ0FERyxLQUlBLElBQUlFLElBQUlTLEtBQUosQ0FBVSxjQUFWLENBQUosRUFDSHBGLFNBQVN5RCxLQUFULENBQWVvQixNQUFmLElBQ0U3RSxTQUFTeUQsS0FBVCxDQUFlb0IsTUFBZixFQUF1QlYsSUFBdkIsQ0FBNkJNLFFBQTdCLENBREYsR0FFSXpFLFNBQVN5RCxLQUFULENBQWVvQixNQUFmLElBQXlCLENBQUNKLFFBQUQsQ0FGN0I7QUFHSCxTQXZCRDtBQXdCRDtBQUNEZCxjQUFRM0QsUUFBUjtBQUNELEtBOUJEO0FBK0JELEdBbkNNLENBQVA7QUFvQ0QsQ0F0Q0QiLCJmaWxlIjoibWF0ZXJpYWxzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBoYWJyw6EgcXVlIGNvbmNhdGVuYXIgZG9zIGZ1bmNpb25lcyBhc8OtbmNyb25hcyxcbi8vIFVuYSBwYXJhIHJlY2liaXIgbG9zIGZpY2hlcm9zIChpbWFnZW5lcyBkZSBtYXRlcmlhbGVzKSBkZWwgZGlyIGNvcnJlc3BvbmRpZW50ZVxuLy8gT3RyYSBxdWUgbGVlIGxvcyBkYXRvcyBlbiBsYSBiYmRkXG4vLyBtYW5kYXIganNvbiBjdWFuZHRvIHRvZG8gYWNhYmU6XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzI3MTY3L2hvdy1kby15b3UtZ2V0LWEtbGlzdC1vZi10aGUtbmFtZXMtb2YtYWxsLWZpbGVzLXByZXNlbnQtaW4tYS1kaXJlY3RvcnktaW4tbm9kZS1qLzM3NTMyMDI3IzM3NTMyMDI3XG5cbnZhciBNYXRlcmlhbHMgPSByZXF1aXJlKCcuLi9tb2RlbHMvTWF0ZXJpYWxzJylcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZycpXG52YXIgcmVjdXJzaXZlID0gcmVxdWlyZSgncmVjdXJzaXZlLXJlYWRkaXInKVxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbnZhciBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0TWF0ZXJpYWxCeUlkOiAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgaWQgPSByZXEuc3dhZ2dlci5wYXJhbXMuaWRNYXRlcmlhbC52YWx1ZVxuICAgIC8vIFVzZSBsZWFuIHRvIGdldCBhIHBsYWluIEpTIG9iamVjdCB0byBtb2RpZnkgaXQsIGluc3RlYWQgb2YgYSBmdWxsIG1vZGVsIGluc3RhbmNlXG4gICAgLy8gTWF0ZXJpYWxzLmZpbmRPbmUoe2lkTWF0ZXJpYWw6IGlkfSwgZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgTWF0ZXJpYWxzLmZpbmRPbmUoe2lkTWF0ZXJpYWw6IGlkfSkubGVhbigpLmV4ZWMoYXN5bmMgKGVyciwgbWF0ZXJpYWwpID0+IHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgb2J0ZW5lciBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIW1hdGVyaWFsKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyB0ZW5lbW9zIGVzdGUgbWF0ZXJpYWwnLFxuICAgICAgICAgIGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgLy8gZ2V0SW1hZ2VzKG1hdGVyaWFsLCAoKT0+KHJlcy5qc29uKG1hdGVyaWFsKSkpXG4gICAgICBjb25zdCByZXNwb25zZSA9ICBhd2FpdCBnZXRGaWxlcyhtYXRlcmlhbClcbiAgICAgIHJldHVybiByZXMuanNvbihyZXNwb25zZSlcbiAgICB9KVxuICB9LFxuICAvLyBNYXRlcmlhbHMuZmluZCh7ICR0ZXh0OiB7ICRzZWFyY2g6IHNlYXJjaFRleHQsICRsYW5ndWFnZTogbG9jYWxlIH0gfSwge3Njb3JlOiB7JG1ldGE6ICd0ZXh0U2NvcmUnfX0pLnNvcnQoe3Njb3JlOnskbWV0YTondGV4dFNjb3JlJ319LCBmdW5jdGlvbihlcnIsIG1hdGVyaWFscykge1xuICAvLyBodHRwczovL2RvY3MubW9uZ29kYi5jb20vdjMuMC9yZWZlcmVuY2Uvb3BlcmF0b3IvcXVlcnkvdGV4dC9cbiAgc2VhcmNoTWF0ZXJpYWxzOiAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgbG9jYWxlID0gcmVxLnN3YWdnZXIucGFyYW1zLmxvY2FsZS52YWx1ZVxuICAgIHZhciBzZWFyY2hUZXh0ID0gcmVxLnN3YWdnZXIucGFyYW1zLnNlYXJjaFRleHQudmFsdWVcbiAgICBNYXRlcmlhbHNcbiAgICAgIC5maW5kKHsgJHRleHQ6IHsgJHNlYXJjaDogc2VhcmNoVGV4dCwgJGxhbmd1YWdlOiBsb2NhbGUgfSB9LCB7c2NvcmU6IHskbWV0YTogJ3RleHRTY29yZSd9fSlcbiAgICAgIC5zb3J0KHsnc2NvcmUnOiB7ICckbWV0YSc6ICd0ZXh0U2NvcmUnfSB9KVxuICAgICAgLmxlYW4oKVxuICAgICAgLmV4ZWMgKGFzeW5jIChlcnIsIG1hdGVyaWFscykgPT4ge1xuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGJ1c2NhbmRvIGVsIG1hdGVyaWFsJyxcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KVxuICAgICAgICB9IFxuICAgICAgICAvLyBpZiBubyBpdGVtcywgcmV0dXJuIGVtcHR5IGFycmF5XG4gICAgICAgIGlmIChtYXRlcmlhbHMubGVuZ3RoPT09MCkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKFtdKSAvL3NlbmQgaHR0cCBjb2RlIDQwNCEhIVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIG1hdGVyaWFscy5tYXAoIGFzeW5jIChtYXRlcmlhbCkgPT4gKGF3YWl0IGdldEZpbGVzKG1hdGVyaWFsKSkpIC8vIG5vdCBhc3luYyZhd2FpdCBhcyB3ZSB3YW50IHRvIGdldCBhbGwgbWF0ZXJpYWwgaW1hZ2VzIGluIHBhcmFsbGVsXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3BvbnNlKVxuICAgICAgfSlcbiAgfSxcbiAgZ2V0TmV3TWF0ZXJpYWxzOiAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgZGF5cyA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5kYXlzLnZhbHVlXG4gICAgbGV0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKClcbiAgICBzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gZGF5cylcbiAgICBNYXRlcmlhbHNcbiAgICAgIC5maW5kKHtsYXN0VXBkYXRlOiB7JGd0OiBzdGFydERhdGV9fSlcbiAgICAgIC5zb3J0KHtsYXN0VXBkYXRlOiAtMX0pXG4gICAgICAubGVhbigpXG4gICAgICAuZXhlYyhhc3luYyhlcnIsIG1hdGVyaWFscykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBidXNjYW5kbyBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBubyBpdGVtcywgcmV0dXJuIGVtcHR5IGFycmF5XG4gICAgICAgIGlmIChtYXRlcmlhbHMubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oW10pIC8vc2VuZCBodHRwIGNvZGUgNDA0ISEhXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgbWF0ZXJpYWxzLm1hcChhc3luYyhtYXRlcmlhbCkgPT4gKGF3YWl0IGdldEZpbGVzKG1hdGVyaWFsKSkpIC8vIG5vdCBhc3luYyZhd2FpdCBhcyB3ZSB3YW50IHRvIGdldCBhbGwgbWF0ZXJpYWwgaW1hZ2VzIGluIHBhcmFsbGVsXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3BvbnNlKVxuICAgICAgfSlcbiAgfSxcbiAgbGlzdE1hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBNYXRlcmlhbHMuZmluZChmdW5jdGlvbihlcnIsIG1hdGVyaWFscyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3Igb2J0ZW5pZW5kbyBsb3MgbWF0ZXJpYWxlcycsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKG1hdGVyaWFscylcbiAgICB9KVxuICB9LFxuICBzaG93TWF0ZXJpYWxzOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBNYXRlcmlhbHMuZmluZE9uZSh7X2lkOiBpZH0sIGZ1bmN0aW9uKGVyciwgbWF0ZXJpYWwpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1NlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBhbCBvYnRlbmVyIGVsIG1hdGVyaWFsJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighbWF0ZXJpYWwpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIHRlbmVtb3MgZXN0ZSBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgfSlcbiAgfSxcbiAgY3JlYXRlTWF0ZXJpYWxzOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbHMgKHJlcS5ib2R5KVxuICAgIG1hdGVyaWFsLnNhdmUoZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKCB7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGFsIGd1YXJkYXIgZWwgbWF0ZXJpYWwnLFxuICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdzYXZlZCcsXG4gICAgICAgIF9pZDogbWF0ZXJpYWwuX2lkXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG4gIHVwZGF0ZU1hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgTWF0ZXJpYWxzLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIG1hdGVyaWFsKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgZ3VhcmRhciBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIW1hdGVyaWFsKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgbWF0ZXJpYWwnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBtYXRlcmlhbC5Ob21icmUgPSByZXEuYm9keS5ub21icmVcbiAgICAgIG1hdGVyaWFsLkRlc2NyaXBjacOzbiA9ICByZXEuYm9keS5kZXNjcmlwY2lvblxuICAgICAgbWF0ZXJpYWwuR3JhZHVhY2lvbiA9IHJlcS5ib2R5LmdyYWR1YWNpb25cbiAgICAgIG1hdGVyaWFsLkVudmFzZSA9IHJlcS5ib2R5LmVudmFzZVxuICAgICAgbWF0ZXJpYWwuUHJlY2lvID0gcmVxLmJvZHkucHJlY2lvXG4gICAgICBtYXRlcmlhbC5zYXZlKGZ1bmN0aW9uKGVyciwgbWF0ZXJpYWwpe1xuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGFsIGd1YXJkYXIgZWwgbWF0ZXJpYWwnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZighbWF0ZXJpYWwpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgbWF0ZXJpYWwnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG4gIHJlbW92ZU1hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgTWF0ZXJpYWxzLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbihlcnIsIG1hdGVyaWFsKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oNTAwLCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgIG1hdGVyaWFsJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgfSlcbiAgfVxufVxuXG5cblxuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cblxuY29uc3QgaW5pdE1hdGVyaWFsID0gKG1hdGVyaWFsKSA9PiB7XG4gIG1hdGVyaWFsLmNvbW1vbkZpbGVzPVtdXG4gIG1hdGVyaWFsLnNjcmVlbnNob3RzPXt9XG4gIG1hdGVyaWFsLmNvbW1vblNjcmVlbnNob3RzPVtdXG4gIG1hdGVyaWFsLmZpbGVzPXt9XG4gIG1hdGVyaWFsLmZpbGU9e31cbn1cblxuY29uc3QgZ2V0RmlsZXMgPSAobWF0ZXJpYWwpID0+IHtcbiAgaW5pdE1hdGVyaWFsKG1hdGVyaWFsKVxuICByZXR1cm4gbmV3IFByb21pc2UgKChyZXNvbHZlKSA9PiB7XG4gICAgbGV0IG1hdGVyaWFsTG9jYWxlcz1bbWF0ZXJpYWwubGFuZ11cbiAgICBsZXQgYmFzZURpciA9IGAke2NvbmZpZy5tYXRlcmlhbHNEaXJ9JHtwYXRoLnNlcH0ke21hdGVyaWFsLmlkTWF0ZXJpYWx9JHtwYXRoLnNlcH1gXG4gICAgbWF0ZXJpYWwudHJhbnNsYXRpb25zLm1hcCgodHJhbnNsYXRpb24pPT5tYXRlcmlhbExvY2FsZXMucHVzaCh0cmFuc2xhdGlvbi5sYW5nKSlcbiAgICByZWN1cnNpdmUoYmFzZURpciwgKGVyciwgZmlsZXMpID0+IHtcbiAgICAgIC8vIGlmIGVyciByZXR1cm4gbWF0ZXJpYWwsIGlmIGVyciBpcyBkaWZmZXJlbnQgZnJvbSBubyBzY3JlZW5zaG90cyBkaXIsIHdhcm5pbmcgdGhyb3VnaCBjb25zb2xlXG4gICAgICBpZiAoZXJyKSBlcnIuY29kZSAhPSAnRU5PRU5UJyAmJiBjb25zb2xlLndhcm4gKGVycikgXG4gICAgICBpZiAoZmlsZXMgIT0gbnVsbCkge1xuICAgICAgICBmaWxlcy5tYXAoZmlsZSA9PntcbiAgICAgICAgICBsZXQgcmVsYXRpdmVGaWxlID0gZmlsZS5yZXBsYWNlKGJhc2VEaXIsICcnKVxuICAgICAgICAgIGxldCBmaWxlTmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZSlcbiAgICAgICAgICBpZiAoZmlsZU5hbWU9PSdpbmRleC5odG1sJykgcmV0dXJuIC8vIGV4dHJhIGZpbGVzIGZyb20gcHJldmlvdXMgYXBwXG4gICAgICAgICAgbGV0IGRpciA9IHBhdGguZGlybmFtZShyZWxhdGl2ZUZpbGUpXG4gICAgICAgICAgbGV0IHN1YmRpciA9IHBhdGguZGlybmFtZShyZWxhdGl2ZUZpbGUpLnNwbGl0KHBhdGguc2VwKS5wb3AoKVxuICAgICAgICAgIGlmIChkaXI9PT0nLicpe1xuICAgICAgICAgICAgLy9pZiBmaWxlIGlzIHRhci5neiwgcHV0IGl0IGluc2lkZSBmaWxlIGpzb24gIHtlczogeHh4LWVzLnRneiwgZnI6IHh4eC5mci50Z3ouLi59XG4gICAgICAgICAgICBsZXQgZmlsZVBhdHRlcm4gPSBuZXcgUmVnRXhwKCdeaW5kZXgtW0Etel17MiwzfS1bMC05QS1GXXs4fS1bMC05QS1GXXs0fS1bNF1bMC05QS1GXXszfS1bODlBQl1bMC05QS1GXXszfS1bMC05QS1GXXsxMn0udGd6JCcsICdpJylcbiAgICAgICAgICAgIGlmIChmaWxlUGF0dGVybi50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgICAgICAgICBsZXQgZmlsZUxvY2FsZSA9IGZpbGVOYW1lLnNwbGl0KCctJylbMV1cbiAgICAgICAgICAgICAgbWF0ZXJpYWwuZmlsZVtmaWxlTG9jYWxlXT1maWxlTmFtZVxuICAgICAgICAgICAgfSBlbHNlIG1hdGVyaWFsLmNvbW1vbkZpbGVzLnB1c2goZmlsZU5hbWUpXG4gICAgICAgICAgfSBcbiAgICAgICAgICBlbHNlIGlmIChkaXIubWF0Y2goL3NjcmVlbnNob3RzXzMwMCQvKSkgbWF0ZXJpYWwuY29tbW9uU2NyZWVuc2hvdHMucHVzaChmaWxlTmFtZSlcbiAgICAgICAgICBlbHNlIGlmIChkaXIubWF0Y2goL3NjcmVlbnNob3RzXzMwMFxcL1tBLXpdezIsM30kLykpIFxuICAgICAgICAgICAgbWF0ZXJpYWwuc2NyZWVuc2hvdHNbc3ViZGlyXSA/IFxuICAgICAgICAgICAgICBtYXRlcmlhbC5zY3JlZW5zaG90c1tzdWJkaXJdLnB1c2goZmlsZU5hbWUpIFxuICAgICAgICAgICAgOiBtYXRlcmlhbC5zY3JlZW5zaG90c1tzdWJkaXJdID0gW2ZpbGVOYW1lXVxuICAgICAgICAgIGVsc2UgaWYgKGRpci5tYXRjaCgvXltBLXpdezIsM30kLykpIFxuICAgICAgICAgICAgbWF0ZXJpYWwuZmlsZXNbc3ViZGlyXSA/XG4gICAgICAgICAgICAgIG1hdGVyaWFsLmZpbGVzW3N1YmRpcl0ucHVzaCAoZmlsZU5hbWUpXG4gICAgICAgICAgICAgIDogbWF0ZXJpYWwuZmlsZXNbc3ViZGlyXSA9IFtmaWxlTmFtZV1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJlc29sdmUobWF0ZXJpYWwpXG4gICAgfSlcbiAgfSlcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "materials.js"
      ],
      "names": [
        "Materials",
        "require",
        "config",
        "recursive",
        "path",
        "Promise",
        "module",
        "exports",
        "getMaterialById",
        "req",
        "res",
        "id",
        "swagger",
        "params",
        "idMaterial",
        "value",
        "findOne",
        "lean",
        "exec",
        "err",
        "material",
        "status",
        "json",
        "message",
        "error",
        "getFiles",
        "response",
        "searchMaterials",
        "locale",
        "searchText",
        "find",
        "$text",
        "$search",
        "$language",
        "score",
        "$meta",
        "sort",
        "materials",
        "length",
        "all",
        "map",
        "getNewMaterials",
        "days",
        "startDate",
        "Date",
        "setDate",
        "getDate",
        "lastUpdate",
        "$gt",
        "listMaterials",
        "showMaterials",
        "_id",
        "createMaterials",
        "body",
        "save",
        "updateMaterials",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "removeMaterials",
        "findByIdAndRemove",
        "isNumeric",
        "n",
        "isNaN",
        "parseFloat",
        "isFinite",
        "initMaterial",
        "commonFiles",
        "screenshots",
        "commonScreenshots",
        "files",
        "file",
        "resolve",
        "materialLocales",
        "lang",
        "baseDir",
        "materialsDir",
        "sep",
        "translations",
        "translation",
        "push",
        "code",
        "console",
        "warn",
        "relativeFile",
        "replace",
        "fileName",
        "basename",
        "dir",
        "dirname",
        "subdir",
        "split",
        "pop",
        "filePattern",
        "RegExp",
        "test",
        "fileLocale",
        "match"
      ],
      "mappings": "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",
      "file": "materials.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "// habrá que concatenar dos funciones asíncronas,\n// Una para recibir los ficheros (imagenes de materiales) del dir correspondiente\n// Otra que lee los datos en la bbdd\n// mandar json cuandto todo acabe:\n// https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j/37532027#37532027\n\nvar Materials = require('../models/Materials')\nconst config = require('../config')\nvar recursive = require('recursive-readdir')\nvar path = require('path')\nvar Promise = require('bluebird')\n\nmodule.exports = {\n  getMaterialById: (req, res) => {\n    var id = req.swagger.params.idMaterial.value\n    // Use lean to get a plain JS object to modify it, instead of a full model instance\n    // Materials.findOne({idMaterial: id}, function(err, material){\n    Materials.findOne({idMaterial: id}).lean().exec(async (err, material) => {\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json( {\n          message: 'No tenemos este material',\n          err\n        })\n      }\n      // getImages(material, ()=>(res.json(material)))\n      const response =  await getFiles(material)\n      return res.json(response)\n    })\n  },\n  // Materials.find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}}).sort({score:{$meta:'textScore'}}, function(err, materials) {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  searchMaterials: (req, res) => {\n    var locale = req.swagger.params.locale.value\n    var searchText = req.swagger.params.searchText.value\n    Materials\n      .find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}})\n      .sort({'score': { '$meta': 'textScore'} })\n      .lean()\n      .exec (async (err, materials) => {\n        if(err) {\n          return res.status(500).json({\n            message: 'Error buscando el material',\n            error: err\n          })\n        } \n        // if no items, return empty array\n        if (materials.length===0) return res.status(404).json([]) //send http code 404!!!\n        const response = await Promise.all(\n          materials.map( async (material) => (await getFiles(material))) // not async&await as we want to get all material images in parallel\n        )\n        return res.json(response)\n      })\n  },\n  getNewMaterials: (req, res) => {\n    let days = req.swagger.params.days.value\n    let startDate = new Date()\n    startDate.setDate(startDate.getDate() - days)\n    Materials\n      .find({lastUpdate: {$gt: startDate}})\n      .sort({lastUpdate: -1})\n      .lean()\n      .exec(async(err, materials) => {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error buscando el material',\n            error: err\n          })\n        }\n        // if no items, return empty array\n        if (materials.length === 0) return res.status(404).json([]) //send http code 404!!!\n        const response = await Promise.all(\n          materials.map(async(material) => (await getFiles(material))) // not async&await as we want to get all material images in parallel\n        )\n        return res.json(response)\n      })\n  },\n  listMaterials: function(req, res) {\n    Materials.find(function(err, materials){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los materiales',\n          error: err\n        })\n      }\n      return res.json(materials)\n    })\n  },\n  showMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findOne({_id: id}, function(err, material){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json( {\n          message: 'No tenemos este material',\n          err\n        })\n      }\n      return res.json(material)\n    })\n  },\n  createMaterials: function(req, res) {\n    var material = new Materials (req.body)\n    material.save(function(err, material){\n      if(err) {\n        return res.status(500).json( {\n          message: 'Error al guardar el material',\n          error: err\n        })\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: material._id\n      })\n    })\n  },\n  updateMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findOne({_id: id}, function(err, material){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json({\n          message: 'No hemos encontrado el material'\n        })\n      }\n      material.Nombre = req.body.nombre\n      material.Descripción =  req.body.descripcion\n      material.Graduacion = req.body.graduacion\n      material.Envase = req.body.envase\n      material.Precio = req.body.precio\n      material.save(function(err, material){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar el material'\n          })\n        }\n        if(!material) {\n          return res.status(404).json({\n            message: 'No hemos encontrado el material'\n          })\n        }\n        return res.json(material)\n      })\n    })\n  },\n  removeMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findByIdAndRemove(id, function(err, material){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el  material',\n          error: err\n        })\n      }\n      return res.json(material)\n    })\n  }\n}\n\n\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nconst initMaterial = (material) => {\n  material.commonFiles=[]\n  material.screenshots={}\n  material.commonScreenshots=[]\n  material.files={}\n  material.file={}\n}\n\nconst getFiles = (material) => {\n  initMaterial(material)\n  return new Promise ((resolve) => {\n    let materialLocales=[material.lang]\n    let baseDir = `${config.materialsDir}${path.sep}${material.idMaterial}${path.sep}`\n    material.translations.map((translation)=>materialLocales.push(translation.lang))\n    recursive(baseDir, (err, files) => {\n      // if err return material, if err is different from no screenshots dir, warning through console\n      if (err) err.code != 'ENOENT' && console.warn (err) \n      if (files != null) {\n        files.map(file =>{\n          let relativeFile = file.replace(baseDir, '')\n          let fileName = path.basename(file)\n          if (fileName=='index.html') return // extra files from previous app\n          let dir = path.dirname(relativeFile)\n          let subdir = path.dirname(relativeFile).split(path.sep).pop()\n          if (dir==='.'){\n            //if file is tar.gz, put it inside file json  {es: xxx-es.tgz, fr: xxx.fr.tgz...}\n            let filePattern = new RegExp('^index-[A-z]{2,3}-[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}.tgz$', 'i')\n            if (filePattern.test(fileName)) {\n              let fileLocale = fileName.split('-')[1]\n              material.file[fileLocale]=fileName\n            } else material.commonFiles.push(fileName)\n          } \n          else if (dir.match(/screenshots_300$/)) material.commonScreenshots.push(fileName)\n          else if (dir.match(/screenshots_300\\/[A-z]{2,3}$/)) \n            material.screenshots[subdir] ? \n              material.screenshots[subdir].push(fileName) \n            : material.screenshots[subdir] = [fileName]\n          else if (dir.match(/^[A-z]{2,3}$/)) \n            material.files[subdir] ?\n              material.files[subdir].push (fileName)\n              : material.files[subdir] = [fileName]\n        })\n      }\n      resolve(material)\n    })\n  })\n}\n"
      ]
    },
    "mtime": 1513163670000
  },
  "{\"filename\":\"/app/models/Materials.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/Materials.js",
      "filenameRelative": "/app/models/Materials.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Materials.js",
      "sourceFileName": "Materials.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Materials"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar materialSchema = new Schema({\n  Nombre: String,\n  Descripción: String,\n  Graduacion: String,\n  Envase: String,\n  Precio: String\n});\n\nvar Material = mongoose.model('Material', materialSchema, 'materials');\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Material;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hdGVyaWFscy5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJtYXRlcmlhbFNjaGVtYSIsIk5vbWJyZSIsIlN0cmluZyIsIkRlc2NyaXBjacOzbiIsIkdyYWR1YWNpb24iLCJFbnZhc2UiLCJQcmVjaW8iLCJNYXRlcmlhbCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBLElBQUlDLGlCQUFpQixJQUFJRCxNQUFKLENBQVc7QUFDOUJFLFVBQVFDLE1BRHNCO0FBRTlCQyxlQUFhRCxNQUZpQjtBQUc5QkUsY0FBWUYsTUFIa0I7QUFJOUJHLFVBQVFILE1BSnNCO0FBSzlCSSxVQUFRSjtBQUxzQixDQUFYLENBQXJCOztBQVFBLElBQUlLLFdBQVdWLFNBQVNXLEtBQVQsQ0FBZSxVQUFmLEVBQTJCUixjQUEzQixFQUEyQyxXQUEzQyxDQUFmOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBUyxPQUFPQyxPQUFQLEdBQWlCSCxRQUFqQiIsImZpbGUiOiJNYXRlcmlhbHMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbnZhciBtYXRlcmlhbFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBOb21icmU6IFN0cmluZywgXG4gIERlc2NyaXBjacOzbjogU3RyaW5nLCBcbiAgR3JhZHVhY2lvbjogU3RyaW5nLFxuICBFbnZhc2U6IFN0cmluZyxcbiAgUHJlY2lvOiBTdHJpbmcgXG59KVxuXG52YXIgTWF0ZXJpYWwgPSBtb25nb29zZS5tb2RlbCgnTWF0ZXJpYWwnLCBtYXRlcmlhbFNjaGVtYSwgJ21hdGVyaWFscycpXG5cbi8qXG5cbkVzdG8gZGEgZXJyb3IgZW4gdXBkYXRlIHkgY3JlYXRlOlxuY2VydmV6YVNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgQ2VydmV6YS5jb3VudCh7Y2VydmV6YTogc2VsZi5uYW1lfSwgZnVuY3Rpb24gKGVyciwgY291bnQpIHtcbiAgICBpZiAoY291bnQ+MCl7XG4gICAgICBuZXh0KG5ldyBFcnJvcignwqFZYSBleGlzdGUgZXN0YSBjZXJ2ZXphIScpKVxuICAgIH1lbHNleyAgICAgICAgICAgICAgICBcbiAgICAgIG5leHQoKVxuICAgIH1cbiAgfSlcbn0pIFxuXG4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGVyaWFsXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Materials.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "materialSchema",
        "Nombre",
        "String",
        "Descripción",
        "Graduacion",
        "Envase",
        "Precio",
        "Material",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,iBAAiB,IAAID,MAAJ,CAAW;AAC9BE,UAAQC,MADsB;AAE9BC,eAAaD,MAFiB;AAG9BE,cAAYF,MAHkB;AAI9BG,UAAQH,MAJsB;AAK9BI,UAAQJ;AALsB,CAAX,CAArB;;AAQA,IAAIK,WAAWV,SAASW,KAAT,CAAe,UAAf,EAA2BR,cAA3B,EAA2C,WAA3C,CAAf;;AAEA;;;;;;;;;;;;;;;;AAgBAS,OAAOC,OAAP,GAAiBH,QAAjB",
      "file": "Materials.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar materialSchema = new Schema({\n  Nombre: String, \n  Descripción: String, \n  Graduacion: String,\n  Envase: String,\n  Precio: String \n})\n\nvar Material = mongoose.model('Material', materialSchema, 'materials')\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Material\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/pictogramSearches.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/pictogramSearches.js",
      "filenameRelative": "/app/controllers/pictogramSearches.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "pictogramSearches.js",
      "sourceFileName": "pictogramSearches.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "pictogramSearches"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar PictogramSearches = require('../models/PictogramSearches');\n//based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\nmodule.exports = {\n  show: function show(req, res) {\n    var searchText = req.params.searchText;\n    // return res.json(searchText)\n    PictogramSearches.list(searchText, function (err, regs) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el listado'\n        });\n      }\n      if (!regs) {\n        return res.status(404).json({\n          message: 'No tenemos ese registro'\n        });\n      }\n      return res.json(regs.map(function (reg) {\n        return reg.nombre;\n      }));\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3RvZ3JhbVNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbIlBpY3RvZ3JhbVNlYXJjaGVzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJzaG93IiwicmVxIiwicmVzIiwic2VhcmNoVGV4dCIsInBhcmFtcyIsImxpc3QiLCJlcnIiLCJyZWdzIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtYXAiLCJyZWciLCJub21icmUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsb0JBQW9CQyxRQUFRLDZCQUFSLENBQXhCO0FBQ0E7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxRQUFNLGNBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN2QixRQUFJQyxhQUFhRixJQUFJRyxNQUFKLENBQVdELFVBQTVCO0FBQ0E7QUFDQVAsc0JBQWtCUyxJQUFsQixDQUF1QkYsVUFBdkIsRUFBbUMsVUFBU0csR0FBVCxFQUFjQyxJQUFkLEVBQW1CO0FBQ3BELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9KLElBQUlNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVM7QUFEaUIsU0FBckIsQ0FBUDtBQUdEO0FBQ0QsVUFBRyxDQUFDSCxJQUFKLEVBQVU7QUFDUixlQUFPTCxJQUFJTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0I7QUFDM0JDLG1CQUFTO0FBRGtCLFNBQXRCLENBQVA7QUFHRDtBQUNELGFBQU9SLElBQUlPLElBQUosQ0FBU0YsS0FBS0ksR0FBTCxDQUFTLFVBQVNDLEdBQVQsRUFBYztBQUFDLGVBQU9BLElBQUlDLE1BQVg7QUFBa0IsT0FBMUMsQ0FBVCxDQUFQO0FBQ0QsS0FaRDtBQWFEO0FBakJjLENBQWpCIiwiZmlsZSI6InBpY3RvZ3JhbVNlYXJjaGVzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUGljdG9ncmFtU2VhcmNoZXMgPSByZXF1aXJlKCcuLi9tb2RlbHMvUGljdG9ncmFtU2VhcmNoZXMnKVxuLy9iYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4ODkxMTY1L3VzaW5nLXdlaWdodHMtZm9yLXNlYXJjaGluZy1pbi1tb25nb29zZVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIHNlYXJjaFRleHQgPSByZXEucGFyYW1zLnNlYXJjaFRleHRcbiAgICAvLyByZXR1cm4gcmVzLmpzb24oc2VhcmNoVGV4dClcbiAgICBQaWN0b2dyYW1TZWFyY2hlcy5saXN0KHNlYXJjaFRleHQsIGZ1bmN0aW9uKGVyciwgcmVncyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yIGFsIG9idGVuZXIgZWwgbGlzdGFkbydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmKCFyZWdzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyB0ZW5lbW9zIGVzZSByZWdpc3RybydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihyZWdzLm1hcChmdW5jdGlvbihyZWcpIHtyZXR1cm4gcmVnLm5vbWJyZX0pKVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "pictogramSearches.js"
      ],
      "names": [
        "PictogramSearches",
        "require",
        "module",
        "exports",
        "show",
        "req",
        "res",
        "searchText",
        "params",
        "list",
        "err",
        "regs",
        "status",
        "json",
        "message",
        "map",
        "reg",
        "nombre"
      ],
      "mappings": ";;AAAA,IAAIA,oBAAoBC,QAAQ,6BAAR,CAAxB;AACA;AACAC,OAAOC,OAAP,GAAiB;AACfC,QAAM,cAASC,GAAT,EAAcC,GAAd,EAAmB;AACvB,QAAIC,aAAaF,IAAIG,MAAJ,CAAWD,UAA5B;AACA;AACAP,sBAAkBS,IAAlB,CAAuBF,UAAvB,EAAmC,UAASG,GAAT,EAAcC,IAAd,EAAmB;AACpD,UAAGD,GAAH,EAAQ;AACN,eAAOJ,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACD,UAAG,CAACH,IAAJ,EAAU;AACR,eAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAC3BC,mBAAS;AADkB,SAAtB,CAAP;AAGD;AACD,aAAOR,IAAIO,IAAJ,CAASF,KAAKI,GAAL,CAAS,UAASC,GAAT,EAAc;AAAC,eAAOA,IAAIC,MAAX;AAAkB,OAA1C,CAAT,CAAP;AACD,KAZD;AAaD;AAjBc,CAAjB",
      "file": "pictogramSearches.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var PictogramSearches = require('../models/PictogramSearches')\n//based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\nmodule.exports = {\n  show: function(req, res) {\n    var searchText = req.params.searchText\n    // return res.json(searchText)\n    PictogramSearches.list(searchText, function(err, regs){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el listado'\n        })\n      }\n      if(!regs) {\n        return res.status(404).json( {\n          message: 'No tenemos ese registro'\n        })\n      }\n      return res.json(regs.map(function(reg) {return reg.nombre}))\n    })\n  }\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/models/PictogramSearches.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/PictogramSearches.js",
      "filenameRelative": "/app/models/PictogramSearches.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "PictogramSearches.js",
      "sourceFileName": "PictogramSearches.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "PictogramSearches"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar pictogramSearchSchema = new Schema({\n  searchText: String,\n  lastSearch: { type: Date, default: Date.now },\n  count: Number\n});\n\n// method based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\npictogramSearchSchema.statics.list = function (textSearch, cb) {\n  // Perform the query\n\n  return this.find({ name: new RegExp(textSearch, 'i') }, cb);\n};\n\nvar PictogramSearch = mongoose.model('PictogramSearch', pictogramSearchSchema);\n\nmodule.exports = PictogramSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBpY3RvZ3JhbVNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsInBpY3RvZ3JhbVNlYXJjaFNjaGVtYSIsInNlYXJjaFRleHQiLCJTdHJpbmciLCJsYXN0U2VhcmNoIiwidHlwZSIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwiY291bnQiLCJOdW1iZXIiLCJzdGF0aWNzIiwibGlzdCIsInRleHRTZWFyY2giLCJjYiIsImZpbmQiLCJuYW1lIiwiUmVnRXhwIiwiUGljdG9ncmFtU2VhcmNoIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0YsU0FBU0UsTUFBdEI7O0FBRUEsSUFBSUMsd0JBQXdCLElBQUlELE1BQUosQ0FBVztBQUNyQ0UsY0FBWUMsTUFEeUI7QUFFckNDLGNBQVksRUFBRUMsTUFBT0MsSUFBVCxFQUFlQyxTQUFVRCxLQUFLRSxHQUE5QixFQUZ5QjtBQUdyQ0MsU0FBT0M7QUFIOEIsQ0FBWCxDQUE1Qjs7QUFPQTtBQUNBVCxzQkFBc0JVLE9BQXRCLENBQThCQyxJQUE5QixHQUFxQyxVQUFTQyxVQUFULEVBQXFCQyxFQUFyQixFQUF5QjtBQUM5RDs7QUFFRSxTQUFPLEtBQUtDLElBQUwsQ0FBVSxFQUFFQyxNQUFNLElBQUlDLE1BQUosQ0FBV0osVUFBWCxFQUF1QixHQUF2QixDQUFSLEVBQVYsRUFBaURDLEVBQWpELENBQVA7QUFDRCxDQUpEOztBQVdBLElBQUlJLGtCQUFrQnBCLFNBQVNxQixLQUFULENBQWUsaUJBQWYsRUFBa0NsQixxQkFBbEMsQ0FBdEI7O0FBRUFtQixPQUFPQyxPQUFQLEdBQWlCSCxlQUFqQiIsImZpbGUiOiJQaWN0b2dyYW1TZWFyY2hlcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJylcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxudmFyIHBpY3RvZ3JhbVNlYXJjaFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBzZWFyY2hUZXh0OiBTdHJpbmcsIFxuICBsYXN0U2VhcmNoOiB7IHR5cGUgOiBEYXRlLCBkZWZhdWx0IDogRGF0ZS5ub3cgfSxcbiAgY291bnQ6IE51bWJlclxufSlcblxuXG4vLyBtZXRob2QgYmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODg5MTE2NS91c2luZy13ZWlnaHRzLWZvci1zZWFyY2hpbmctaW4tbW9uZ29vc2VcbnBpY3RvZ3JhbVNlYXJjaFNjaGVtYS5zdGF0aWNzLmxpc3QgPSBmdW5jdGlvbih0ZXh0U2VhcmNoLCBjYikge1xuLy8gUGVyZm9ybSB0aGUgcXVlcnlcblxuICByZXR1cm4gdGhpcy5maW5kKHsgbmFtZTogbmV3IFJlZ0V4cCh0ZXh0U2VhcmNoLCAnaScpIH0sIGNiKVxufVxuXG5cblxuXG5cblxudmFyIFBpY3RvZ3JhbVNlYXJjaCA9IG1vbmdvb3NlLm1vZGVsKCdQaWN0b2dyYW1TZWFyY2gnLCBwaWN0b2dyYW1TZWFyY2hTY2hlbWEpXG5cbm1vZHVsZS5leHBvcnRzID0gUGljdG9ncmFtU2VhcmNoXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "PictogramSearches.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "pictogramSearchSchema",
        "searchText",
        "String",
        "lastSearch",
        "type",
        "Date",
        "default",
        "now",
        "count",
        "Number",
        "statics",
        "list",
        "textSearch",
        "cb",
        "find",
        "name",
        "RegExp",
        "PictogramSearch",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,wBAAwB,IAAID,MAAJ,CAAW;AACrCE,cAAYC,MADyB;AAErCC,cAAY,EAAEC,MAAOC,IAAT,EAAeC,SAAUD,KAAKE,GAA9B,EAFyB;AAGrCC,SAAOC;AAH8B,CAAX,CAA5B;;AAOA;AACAT,sBAAsBU,OAAtB,CAA8BC,IAA9B,GAAqC,UAASC,UAAT,EAAqBC,EAArB,EAAyB;AAC9D;;AAEE,SAAO,KAAKC,IAAL,CAAU,EAAEC,MAAM,IAAIC,MAAJ,CAAWJ,UAAX,EAAuB,GAAvB,CAAR,EAAV,EAAiDC,EAAjD,CAAP;AACD,CAJD;;AAWA,IAAII,kBAAkBpB,SAASqB,KAAT,CAAe,iBAAf,EAAkClB,qBAAlC,CAAtB;;AAEAmB,OAAOC,OAAP,GAAiBH,eAAjB",
      "file": "PictogramSearches.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar pictogramSearchSchema = new Schema({\n  searchText: String, \n  lastSearch: { type : Date, default : Date.now },\n  count: Number\n})\n\n\n// method based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\npictogramSearchSchema.statics.list = function(textSearch, cb) {\n// Perform the query\n\n  return this.find({ name: new RegExp(textSearch, 'i') }, cb)\n}\n\n\n\n\n\n\nvar PictogramSearch = mongoose.model('PictogramSearch', pictogramSearchSchema)\n\nmodule.exports = PictogramSearch\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/sessions.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/sessions.js",
      "filenameRelative": "/app/controllers/sessions.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "sessions.js",
      "sourceFileName": "sessions.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "sessions"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar jwt = require('jsonwebtoken');\nvar User = require('../models/User');\nvar config = require('../config');\n\nfunction createToken(user) {\n  return jwt.sign({ user: user.name, profile: user.profile }, config.jwtSecret, { expiresInMinutes: 60 * 5 });\n}\n\nmodule.exports = {\n  createSession: function createSession(req, res) {\n    var user = req.swagger.params.username.value;\n    console.log('user es :' + user);\n    var password = req.swagger.params.password.value;\n    User.findOne({ username: user }, function (err, user) {\n      if (err) {\n        return res.status(500).json({ error: err.message });\n      }\n      if (!user) {\n        return res.status(404).send({ message: 'User not found' });\n      }\n      console.log(user);\n      if (!user.authenticate(password)) {\n        return res.status(401).send({ message: 'User unauthorized' });\n      }\n      res.status(201).send({ token: createToken(user) });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb25zLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJVc2VyIiwiY29uZmlnIiwiY3JlYXRlVG9rZW4iLCJ1c2VyIiwic2lnbiIsIm5hbWUiLCJwcm9maWxlIiwiand0U2VjcmV0IiwiZXhwaXJlc0luTWludXRlcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjcmVhdGVTZXNzaW9uIiwicmVxIiwicmVzIiwic3dhZ2dlciIsInBhcmFtcyIsInVzZXJuYW1lIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwicGFzc3dvcmQiLCJmaW5kT25lIiwiZXJyIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWVzc2FnZSIsInNlbmQiLCJhdXRoZW50aWNhdGUiLCJ0b2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxNQUFNQyxRQUFRLGNBQVIsQ0FBVjtBQUNBLElBQUlDLE9BQU9ELFFBQVEsZ0JBQVIsQ0FBWDtBQUNBLElBQUlFLFNBQVNGLFFBQVEsV0FBUixDQUFiOztBQUVBLFNBQVNHLFdBQVQsQ0FBcUJDLElBQXJCLEVBQTJCO0FBQ3pCLFNBQU9MLElBQUlNLElBQUosQ0FBUyxFQUFFRCxNQUFNQSxLQUFLRSxJQUFiLEVBQW1CQyxTQUFTSCxLQUFLRyxPQUFqQyxFQUFULEVBQXFETCxPQUFPTSxTQUE1RCxFQUF1RSxFQUFFQyxrQkFBa0IsS0FBRyxDQUF2QixFQUF2RSxDQUFQO0FBQ0Q7O0FBRURDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsaUJBQWUsdUJBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNoQyxRQUFJVixPQUFPUyxJQUFJRSxPQUFKLENBQVlDLE1BQVosQ0FBbUJDLFFBQW5CLENBQTRCQyxLQUF2QztBQUNBQyxZQUFRQyxHQUFSLENBQWEsY0FBY2hCLElBQTNCO0FBQ0EsUUFBSWlCLFdBQVdSLElBQUlFLE9BQUosQ0FBWUMsTUFBWixDQUFtQkssUUFBbkIsQ0FBNEJILEtBQTNDO0FBQ0FqQixTQUFLcUIsT0FBTCxDQUFhLEVBQUNMLFVBQVViLElBQVgsRUFBYixFQUErQixVQUFDbUIsR0FBRCxFQUFNbkIsSUFBTixFQUFlO0FBQzVDLFVBQUdtQixHQUFILEVBQVE7QUFDTixlQUFPVCxJQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ0MsT0FBT0gsSUFBSUksT0FBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxVQUFJLENBQUN2QixJQUFMLEVBQVc7QUFDVCxlQUFPVSxJQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkksSUFBaEIsQ0FBcUIsRUFBQ0QsU0FBUyxnQkFBVixFQUFyQixDQUFQO0FBQ0Q7QUFDRFIsY0FBUUMsR0FBUixDQUFZaEIsSUFBWjtBQUNBLFVBQUksQ0FBQ0EsS0FBS3lCLFlBQUwsQ0FBa0JSLFFBQWxCLENBQUwsRUFBa0M7QUFDaEMsZUFBT1AsSUFBSVUsTUFBSixDQUFXLEdBQVgsRUFBZ0JJLElBQWhCLENBQXFCLEVBQUNELFNBQVMsbUJBQVYsRUFBckIsQ0FBUDtBQUNEO0FBQ0RiLFVBQUlVLE1BQUosQ0FBVyxHQUFYLEVBQWdCSSxJQUFoQixDQUFxQixFQUFDRSxPQUFPM0IsWUFBWUMsSUFBWixDQUFSLEVBQXJCO0FBQ0QsS0FaRDtBQWFEO0FBbEJjLENBQWpCIiwiZmlsZSI6InNlc3Npb25zLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcbnZhciBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL1VzZXInKVxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZycpXG5cbmZ1bmN0aW9uIGNyZWF0ZVRva2VuKHVzZXIpIHtcbiAgcmV0dXJuIGp3dC5zaWduKHsgdXNlcjogdXNlci5uYW1lLCBwcm9maWxlOiB1c2VyLnByb2ZpbGUgfSwgY29uZmlnLmp3dFNlY3JldCwgeyBleHBpcmVzSW5NaW51dGVzOiA2MCo1IH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVTZXNzaW9uOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciB1c2VyID0gcmVxLnN3YWdnZXIucGFyYW1zLnVzZXJuYW1lLnZhbHVlXG4gICAgY29uc29sZS5sb2cgKCd1c2VyIGVzIDonICsgdXNlcilcbiAgICB2YXIgcGFzc3dvcmQgPSByZXEuc3dhZ2dlci5wYXJhbXMucGFzc3dvcmQudmFsdWVcbiAgICBVc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiB1c2VyfSwgKGVyciwgdXNlcikgPT4ge1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6IGVyci5tZXNzYWdlfSlcbiAgICAgIH1cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCd9KVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2codXNlcilcbiAgICAgIGlmICghdXNlci5hdXRoZW50aWNhdGUocGFzc3dvcmQpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTogJ1VzZXIgdW5hdXRob3JpemVkJ30pXG4gICAgICB9XG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7dG9rZW46IGNyZWF0ZVRva2VuKHVzZXIpfSlcbiAgICB9KVxuICB9XG59ICBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "sessions.js"
      ],
      "names": [
        "jwt",
        "require",
        "User",
        "config",
        "createToken",
        "user",
        "sign",
        "name",
        "profile",
        "jwtSecret",
        "expiresInMinutes",
        "module",
        "exports",
        "createSession",
        "req",
        "res",
        "swagger",
        "params",
        "username",
        "value",
        "console",
        "log",
        "password",
        "findOne",
        "err",
        "status",
        "json",
        "error",
        "message",
        "send",
        "authenticate",
        "token"
      ],
      "mappings": ";;AAAA,IAAIA,MAAMC,QAAQ,cAAR,CAAV;AACA,IAAIC,OAAOD,QAAQ,gBAAR,CAAX;AACA,IAAIE,SAASF,QAAQ,WAAR,CAAb;;AAEA,SAASG,WAAT,CAAqBC,IAArB,EAA2B;AACzB,SAAOL,IAAIM,IAAJ,CAAS,EAAED,MAAMA,KAAKE,IAAb,EAAmBC,SAASH,KAAKG,OAAjC,EAAT,EAAqDL,OAAOM,SAA5D,EAAuE,EAAEC,kBAAkB,KAAG,CAAvB,EAAvE,CAAP;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACfC,iBAAe,uBAASC,GAAT,EAAcC,GAAd,EAAmB;AAChC,QAAIV,OAAOS,IAAIE,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BC,KAAvC;AACAC,YAAQC,GAAR,CAAa,cAAchB,IAA3B;AACA,QAAIiB,WAAWR,IAAIE,OAAJ,CAAYC,MAAZ,CAAmBK,QAAnB,CAA4BH,KAA3C;AACAjB,SAAKqB,OAAL,CAAa,EAACL,UAAUb,IAAX,EAAb,EAA+B,UAACmB,GAAD,EAAMnB,IAAN,EAAe;AAC5C,UAAGmB,GAAH,EAAQ;AACN,eAAOT,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,OAAOH,IAAII,OAAZ,EAArB,CAAP;AACD;AACD,UAAI,CAACvB,IAAL,EAAW;AACT,eAAOU,IAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACD,SAAS,gBAAV,EAArB,CAAP;AACD;AACDR,cAAQC,GAAR,CAAYhB,IAAZ;AACA,UAAI,CAACA,KAAKyB,YAAL,CAAkBR,QAAlB,CAAL,EAAkC;AAChC,eAAOP,IAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACD,SAAS,mBAAV,EAArB,CAAP;AACD;AACDb,UAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACE,OAAO3B,YAAYC,IAAZ,CAAR,EAArB;AACD,KAZD;AAaD;AAlBc,CAAjB",
      "file": "sessions.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var jwt = require('jsonwebtoken')\nvar User = require('../models/User')\nvar config = require('../config')\n\nfunction createToken(user) {\n  return jwt.sign({ user: user.name, profile: user.profile }, config.jwtSecret, { expiresInMinutes: 60*5 })\n}\n\nmodule.exports = {\n  createSession: function(req, res) {\n    var user = req.swagger.params.username.value\n    console.log ('user es :' + user)\n    var password = req.swagger.params.password.value\n    User.findOne({username: user}, (err, user) => {\n      if(err) {\n        return res.status(500).json({error: err.message})\n      }\n      if (!user) {\n        return res.status(404).send({message: 'User not found'})\n      }\n      console.log(user)\n      if (!user.authenticate(password)) {\n        return res.status(401).send({message: 'User unauthorized'})\n      }\n      res.status(201).send({token: createToken(user)})\n    })\n  }\n}  \n"
      ]
    },
    "mtime": 1511457129000
  },
  "{\"filename\":\"/app/models/User.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/User.js",
      "filenameRelative": "/app/models/User.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "User.js",
      "sourceFileName": "User.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "User"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar crypto = require('crypto');\n\nvar Schema = mongoose.Schema;\n\nvar oAuthTypes = ['github', 'twitter', 'facebook', 'google', 'linkedin'];\n\nvar userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  hashed_password: { type: String, default: '' },\n  salt: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type: Date, default: Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  }\n});\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Virtuals\n */\n\nuserSchema.virtual('password').set(function (password) {\n  this._password = password;\n  this.salt = this.makeSalt();\n  this.hashed_password = this.encryptPassword(password);\n}).get(function () {\n  return this._password;\n});\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true;\n  return name.length;\n}, 'Name cannot be blank');\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true;\n  return email.length;\n}, 'Email cannot be blank');\n\nuserSchema.path('email').validate(function (email, fn) {\n  var User = mongoose.model('User');\n  if (this.skipValidation()) fn(true);\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0);\n    });\n  } else fn(true);\n}, 'Email already exists');\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true;\n  return username.length;\n}, 'Username cannot be blank');\n\nuserSchema.path('hashed_password').validate(function (hashed_password) {\n  if (this.skipValidation()) return true;\n  return hashed_password.length && this._password.length;\n}, 'Password cannot be blank');\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next();\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'));\n  } else {\n    next();\n  }\n});\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password;\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function makeSalt() {\n    return Math.round(new Date().valueOf() * Math.random()) + '';\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function encryptPassword(password) {\n    if (!password) return '';\n    try {\n      return crypto.createHmac('sha1', this.salt).update(password).digest('hex');\n    } catch (err) {\n      return '';\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function skipValidation() {\n    return ~oAuthTypes.indexOf(this.provider);\n  }\n\n  /**\n   * Statics\n   */\n\n};userSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function load(options, cb) {\n    options.select = options.select || 'name username';\n    return this.findOne(options.criteria).select(options.select).exec(cb);\n  }\n};\n\nvar User = mongoose.model('User', userSchema, 'users');\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiY3J5cHRvIiwiU2NoZW1hIiwib0F1dGhUeXBlcyIsInVzZXJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsImRlZmF1bHQiLCJlbWFpbCIsInVzZXJuYW1lIiwicHJvdmlkZXIiLCJsb2NhbGUiLCJoYXNoZWRfcGFzc3dvcmQiLCJzYWx0IiwiYXV0aFRva2VuIiwibGFzdGxvZ2luIiwiRGF0ZSIsIm5vdyIsImZhY2Vib29rIiwiaWQiLCJ0b2tlbiIsImdvb2dsZSIsInZhbGlkYXRlUHJlc2VuY2VPZiIsInZhbHVlIiwibGVuZ3RoIiwidmlydHVhbCIsInNldCIsInBhc3N3b3JkIiwiX3Bhc3N3b3JkIiwibWFrZVNhbHQiLCJlbmNyeXB0UGFzc3dvcmQiLCJnZXQiLCJwYXRoIiwidmFsaWRhdGUiLCJza2lwVmFsaWRhdGlvbiIsImZuIiwiVXNlciIsIm1vZGVsIiwiaXNOZXciLCJpc01vZGlmaWVkIiwiZmluZCIsImV4ZWMiLCJlcnIiLCJ1c2VycyIsInByZSIsIm5leHQiLCJFcnJvciIsIm1ldGhvZHMiLCJhdXRoZW50aWNhdGUiLCJwbGFpblRleHQiLCJNYXRoIiwicm91bmQiLCJ2YWx1ZU9mIiwicmFuZG9tIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsImluZGV4T2YiLCJzdGF0aWNzIiwibG9hZCIsIm9wdGlvbnMiLCJjYiIsInNlbGVjdCIsImZpbmRPbmUiLCJjcml0ZXJpYSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsV0FBV0MsUUFBUSxVQUFSLENBQWY7QUFDQSxJQUFNQyxTQUFTRCxRQUFRLFFBQVIsQ0FBZjs7QUFFQSxJQUFJRSxTQUFTSCxTQUFTRyxNQUF0Qjs7QUFFQSxJQUFNQyxhQUFhLENBQ2pCLFFBRGlCLEVBRWpCLFNBRmlCLEVBR2pCLFVBSGlCLEVBSWpCLFFBSmlCLEVBS2pCLFVBTGlCLENBQW5COztB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Ozs7OztBQVFBdkIsbUJBQWlCLHlCQUFVSCxRQUFWLEVBQW9CO0FBQ25DLFFBQUksQ0FBQ0EsUUFBTCxFQUFlLE9BQU8sRUFBUDtBQUNmLFFBQUk7QUFDRixhQUFPM0IsT0FDSnNELFVBREksQ0FDTyxNQURQLEVBQ2UsS0FBS3pDLElBRHBCLEVBRUowQyxNQUZJLENBRUc1QixRQUZILEVBR0o2QixNQUhJLENBR0csS0FISCxDQUFQO0FBSUQsS0FMRCxDQUtFLE9BQU9kLEdBQVAsRUFBWTtBQUNaLGFBQU8sRUFBUDtBQUNEO0FBQ0YsR0EzQ2tCOztBQTZDbkI7Ozs7QUFJQVIsa0JBQWdCLDBCQUFZO0FBQzFCLFdBQU8sQ0FBQ2hDLFdBQVd1RCxPQUFYLENBQW1CLEtBQUsvQyxRQUF4QixDQUFSO0FBQ0Q7O0FBR0g7Ozs7QUF0RHFCLENBQXJCLENBMERBUCxXQUFXdUQsT0FBWCxHQUFxQjs7QUFFbkI7Ozs7Ozs7O0FBUUFDLFFBQU0sY0FBVUMsT0FBVixFQUFtQkMsRUFBbkIsRUFBdUI7QUFDM0JELFlBQVFFLE1BQVIsR0FBaUJGLFFBQVFFLE1BQVIsSUFBa0IsZUFBbkM7QUFDQSxXQUFPLEtBQUtDLE9BQUwsQ0FBYUgsUUFBUUksUUFBckIsRUFDSkYsTUFESSxDQUNHRixRQUFRRSxNQURYLEVBRUpyQixJQUZJLENBRUNvQixFQUZELENBQVA7QUFHRDtBQWZrQixDQUFyQjs7QUFrQkEsSUFBSXpCLE9BQU90QyxTQUFTdUMsS0FBVCxDQUFlLE1BQWYsRUFBdUJsQyxVQUF2QixFQUFtQyxPQUFuQyxDQUFYOztBQUVBOEQsT0FBT0MsT0FBUCxHQUFpQjlCLElBQWpCIiwiZmlsZSI6IlVzZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKVxuXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IG9BdXRoVHlwZXMgPSBbXG4gICdnaXRodWInLFxuICAndHdpdHRlcicsXG4gICdmYWNlYm9vaycsXG4gICdnb29nbGUnLFxuICAnbGlua2VkaW4nXG5dXG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBwcm92aWRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxvY2FsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdlbicgfSxcbiAgaGFzaGVkX3Bhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgc2FsdDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGF1dGhUb2tlbjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxhc3Rsb2dpbjogeyB0eXBlIDogRGF0ZSwgZGVmYXVsdCA6IERhdGUubm93IH0sXG4gIGZhY2Vib29rOiB7XG4gICAgaWQgICAgICAgICAgIDogU3RyaW5nLFxuICAgIHRva2VuICAgICAgICA6IFN0cmluZyxcbiAgICBlbWFpbCAgICAgICAgOiBTdHJpbmcsXG4gICAgbmFtZSAgICAgICAgIDogU3RyaW5nXG4gIH0sXG4gIGdvb2dsZToge1xuICAgIGlkICAgICAgICAgICA6IFN0cmluZyxcbiAgICB0b2tlbiAgICAgICAgOiBTdHJpbmcsXG4gICAgZW1haWwgICAgICAgIDogU3RyaW5nLFxuICAgIG5hbWUgICAgICAgICA6IFN0cmluZ1xuICB9XG59KVxuXG5jb25zdCB2YWxpZGF0ZVByZXNlbmNlT2YgPSB2YWx1ZSA9PiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGhcblxuLyoqXG4gKiBWaXJ0dWFsc1xuICovXG5cbnVzZXJTY2hlbWFcbiAgLnZpcnR1YWwoJ3Bhc3N3b3JkJylcbiAgLnNldChmdW5jdGlvbiAocGFzc3dvcmQpIHtcbiAgICB0aGlzLl9wYXNzd29yZCA9IHBhc3N3b3JkXG4gICAgdGhpcy5zYWx0ID0gdGhpcy5tYWtlU2FsdCgpXG4gICAgdGhpcy5oYXNoZWRfcGFzc3dvcmQgPSB0aGlzLmVuY3J5cHRQYXNzd29yZChwYXNzd29yZClcbiAgfSlcbiAgLmdldChmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3Bhc3N3b3JkXG4gIH0pXG5cbi8qKlxuICogVmFsaWRhdGlvbnNcbiAqL1xuXG4vLyB0aGUgYmVsb3cgNSB2YWxpZGF0aW9ucyBvbmx5IGFwcGx5IGlmIHlvdSBhcmUgc2lnbmluZyB1cCB0cmFkaXRpb25hbGx5XG5cbnVzZXJTY2hlbWEucGF0aCgnbmFtZScpLnZhbGlkYXRlKGZ1bmN0aW9uIChuYW1lKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiBuYW1lLmxlbmd0aFxufSwgJ05hbWUgY2Fubm90IGJlIGJsYW5rJylcblxudXNlclNjaGVtYS5wYXRoKCdlbWFpbCcpLnZhbGlkYXRlKGZ1bmN0aW9uIChlbWFpbCkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gZW1haWwubGVuZ3RoXG59LCAnRW1haWwgY2Fubm90IGJlIGJsYW5rJylcblxudXNlclNjaGVtYS5wYXRoKCdlbWFpbCcpLnZhbGlkYXRlKGZ1bmN0aW9uIChlbWFpbCwgZm4pIHtcbiAgY29uc3QgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJylcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgZm4odHJ1ZSlcblxuICAvLyBDaGVjayBvbmx5IHdoZW4gaXQgaXMgYSBuZXcgdXNlciBvciB3aGVuIGVtYWlsIGZpZWxkIGlzIG1vZGlmaWVkXG4gIGlmICh0aGlzLmlzTmV3IHx8IHRoaXMuaXNNb2RpZmllZCgnZW1haWwnKSkge1xuICAgIFVzZXIuZmluZCh7IGVtYWlsOiBlbWFpbCB9KS5leGVjKGZ1bmN0aW9uIChlcnIsIHVzZXJzKSB7XG4gICAgICBmbighZXJyICYmIHVzZXJzLmxlbmd0aCA9PT0gMClcbiAgICB9KVxuICB9IGVsc2UgZm4odHJ1ZSlcbn0sICdFbWFpbCBhbHJlYWR5IGV4aXN0cycpXG5cbnVzZXJTY2hlbWEucGF0aCgndXNlcm5hbWUnKS52YWxpZGF0ZShmdW5jdGlvbiAodXNlcm5hbWUpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIHVzZXJuYW1lLmxlbmd0aFxufSwgJ1VzZXJuYW1lIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnaGFzaGVkX3Bhc3N3b3JkJykudmFsaWRhdGUoZnVuY3Rpb24gKGhhc2hlZF9wYXNzd29yZCkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gaGFzaGVkX3Bhc3N3b3JkLmxlbmd0aCAmJiB0aGlzLl9wYXNzd29yZC5sZW5ndGhcbn0sICdQYXNzd29yZCBjYW5ub3QgYmUgYmxhbmsnKVxuXG5cbi8qKlxuICogUHJlLXNhdmUgaG9va1xuICovXG5cbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgaWYgKCF0aGlzLmlzTmV3KSByZXR1cm4gbmV4dCgpXG5cbiAgaWYgKCF2YWxpZGF0ZVByZXNlbmNlT2YodGhpcy5wYXNzd29yZCkgJiYgIXRoaXMuc2tpcFZhbGlkYXRpb24oKSkge1xuICAgIG5leHQobmV3IEVycm9yKCdJbnZhbGlkIHBhc3N3b3JkJykpXG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpXG4gIH1cbn0pXG5cbi8qKlxuICogTWV0aG9kc1xuICovXG5cbnVzZXJTY2hlbWEubWV0aG9kcyA9IHtcblxuICAvKipcbiAgICogQXV0aGVudGljYXRlIC0gY2hlY2sgaWYgdGhlIHBhc3N3b3JkcyBhcmUgdGhlIHNhbWVcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBsYWluVGV4dFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhdXRoZW50aWNhdGU6IGZ1bmN0aW9uIChwbGFpblRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5lbmNyeXB0UGFzc3dvcmQocGxhaW5UZXh0KSA9PT0gdGhpcy5oYXNoZWRfcGFzc3dvcmRcbiAgfSxcblxuICAvKipcbiAgICogTWFrZSBzYWx0XG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgbWFrZVNhbHQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgobmV3IERhdGUoKS52YWx1ZU9mKCkgKiBNYXRoLnJhbmRvbSgpKSkgKyAnJ1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbmNyeXB0IHBhc3N3b3JkXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGVuY3J5cHRQYXNzd29yZDogZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gICAgaWYgKCFwYXNzd29yZCkgcmV0dXJuICcnXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjcnlwdG9cbiAgICAgICAgLmNyZWF0ZUhtYWMoJ3NoYTEnLCB0aGlzLnNhbHQpXG4gICAgICAgIC51cGRhdGUocGFzc3dvcmQpXG4gICAgICAgIC5kaWdlc3QoJ2hleCcpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gaXMgbm90IHJlcXVpcmVkIGlmIHVzaW5nIE9BdXRoXG4gICAqL1xuXG4gIHNraXBWYWxpZGF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5vQXV0aFR5cGVzLmluZGV4T2YodGhpcy5wcm92aWRlcilcbiAgfVxufVxuXG4vKipcbiAqIFN0YXRpY3NcbiAqL1xuXG51c2VyU2NoZW1hLnN0YXRpY3MgPSB7XG5cbiAgLyoqXG4gICAqIExvYWRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxvYWQ6IGZ1bmN0aW9uIChvcHRpb25zLCBjYikge1xuICAgIG9wdGlvbnMuc2VsZWN0ID0gb3B0aW9ucy5zZWxlY3QgfHwgJ25hbWUgdXNlcm5hbWUnXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZShvcHRpb25zLmNyaXRlcmlhKVxuICAgICAgLnNlbGVjdChvcHRpb25zLnNlbGVjdClcbiAgICAgIC5leGVjKGNiKVxuICB9XG59XG5cbnZhciBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInLCB1c2VyU2NoZW1hLCAndXNlcnMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFVzZXJcblxuXG5cblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "mongoose",
        "require",
        "crypto",
        "Schema",
        "oAuthTypes",
        "userSchema",
        "name",
        "type",
        "String",
        "default",
        "email",
        "username",
        "provider",
        "locale",
        "hashed_password",
        "salt",
        "authToken",
        "lastlogin",
        "Date",
        "now",
        "facebook",
        "id",
        "token",
        "google",
        "validatePresenceOf",
        "value",
        "length",
        "virtual",
        "set",
        "password",
        "_password",
        "makeSalt",
        "encryptPassword",
        "get",
        "path",
        "validate",
        "skipValidation",
        "fn",
        "User",
        "model",
        "isNew",
        "isModified",
        "find",
        "exec",
        "err",
        "users",
        "pre",
        "next",
        "Error",
        "methods",
        "authenticate",
        "plainText",
        "Math",
        "round",
        "valueOf",
        "random",
        "createHmac",
        "update",
        "digest",
        "indexOf",
        "statics",
        "load",
        "options",
        "cb",
        "select",
        "findOne",
        "criteria",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "User.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nconst crypto = require('crypto')\n\nvar Schema = mongoose.Schema\n\nconst oAuthTypes = [\n  'github',\n  'twitter',\n  'facebook',\n  'google',\n  'linkedin'\n]\n\nconst userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  hashed_password: { type: String, default: '' },\n  salt: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type : Date, default : Date.now },\n  facebook: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  google: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  }\n})\n\nconst validatePresenceOf = value => value && value.length\n\n/**\n * Virtuals\n */\n\nuserSchema\n  .virtual('password')\n  .set(function (password) {\n    this._password = password\n    this.salt = this.makeSalt()\n    this.hashed_password = this.encryptPassword(password)\n  })\n  .get(function () {\n    return this._password\n  })\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true\n  return name.length\n}, 'Name cannot be blank')\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true\n  return email.length\n}, 'Email cannot be blank')\n\nuserSchema.path('email').validate(function (email, fn) {\n  const User = mongoose.model('User')\n  if (this.skipValidation()) fn(true)\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0)\n    })\n  } else fn(true)\n}, 'Email already exists')\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true\n  return username.length\n}, 'Username cannot be blank')\n\nuserSchema.path('hashed_password').validate(function (hashed_password) {\n  if (this.skipValidation()) return true\n  return hashed_password.length && this._password.length\n}, 'Password cannot be blank')\n\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next()\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'))\n  } else {\n    next()\n  }\n})\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function (plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function () {\n    return Math.round((new Date().valueOf() * Math.random())) + ''\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function (password) {\n    if (!password) return ''\n    try {\n      return crypto\n        .createHmac('sha1', this.salt)\n        .update(password)\n        .digest('hex')\n    } catch (err) {\n      return ''\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function () {\n    return ~oAuthTypes.indexOf(this.provider)\n  }\n}\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function (options, cb) {\n    options.select = options.select || 'name username'\n    return this.findOne(options.criteria)\n      .select(options.select)\n      .exec(cb)\n  }\n}\n\nvar User = mongoose.model('User', userSchema, 'users')\n\nmodule.exports = User\n\n\n\n\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/users.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/users.js",
      "filenameRelative": "/app/controllers/users.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "users.js",
      "sourceFileName": "users.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "users"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar User = require('../models/User');\nvar mailing = require('../mail');\nvar nev = mailing('en');\nvar auth = require(\"../helpers/auth\");\n\nmodule.exports = {\n  createUser: createUser,\n  activateUser: activateUser,\n  listUser: listUser,\n  removeUser: removeUser,\n  getUser: getUser,\n  updateUser: updateUser,\n  loginUser: loginUser\n};\n\nfunction createUser(req, res) {\n  var user = new User(req.body);\n\n  nev.createTempUser(user, function (err, existingPersistentUser, newTempUser) {\n\n    if (err) {\n      return res.status(404).json({\n        message: err\n      });\n    }\n    // user already exists in persistent collection\n    if (existingPersistentUser) {\n      return res.status(409).json({\n        message: 'You have already signed up and confirmed your account. Did you forget your password?'\n      });\n    }\n    // new user created\n    if (newTempUser) {\n      var URL = newTempUser[nev.options.URLFieldName];\n      nev.sendVerificationEmail(newTempUser.email, URL, function (err, info) {\n        if (err) {\n          return res.status(500).json({\n            message: 'ERROR: sending verification email FAILED ' + info\n          });\n        }\n      });\n\n      res.status(200).json({\n        success: 1,\n        message: 'An email has been sent to you. Please check it to verify your account.'\n      });\n\n      // user already exists in temporary collection!\n    } else {\n      return res.status(409).json({\n        message: 'You have already signed up. Please check your email to verify your account.'\n      });\n    }\n  });\n}\nfunction activateUser(req, res) {\n  var url = req.swagger.params.url.value;\n  nev.confirmTempUser(url, function (err, user) {\n    if (user) {\n      nev.sendConfirmationEmail(user.email, function (err, info) {\n        if (err) {\n          return res.status(404).json({\n            message: 'ERROR: sending confirmation email FAILED ' + info\n          });\n        }\n        res.status(200).json({\n          success: 1,\n          message: 'CONFIRMED!'\n        });\n      });\n    } else {\n      return res.status(404).json({\n        message: 'ERROR: confirming temp user FAILED ' + err\n      });\n    }\n  });\n}\nfunction listUser(req, res) {\n  User.find(function (err, Users) {\n    if (err) {\n      return res.status(500).json({\n        message: 'Error getting user list. ' + err\n      });\n    }\n    return res.status(200).json(Users);\n  });\n}\nfunction removeUser(req, res) {\n  var id = req.swagger.params.id.value;\n  User.findByIdAndRemove(id, function (err, users) {\n    if (err) {\n      return res.status(404).json({\n        message: 'User not found. User Id: ' + id\n      });\n    }\n    return res.status(200).json(users);\n  });\n}\nfunction getUser(req, res) {\n  var id = req.swagger.params.id.value;\n  User.findOne({ _id: id }, function (err, users) {\n    if (err) {\n      return res.status(500).json({\n        message: 'Error getting user. ' + err\n      });\n    }\n    if (!users) {\n      return res.status(404).json({\n        message: 'User does not exist. User Id: ' + id\n      });\n    }\n    return res.status(200).json(users);\n  });\n}\nfunction updateUser(req, res) {\n  var id = req.swagger.params.id.value;\n  User.findOne({ _id: id }, function (err, users) {\n    if (err) {\n      return res.status(500).json({\n        message: 'Error updating user. ' + err\n      });\n    }\n    if (!users) {\n      return res.status(404).json({\n        message: 'Unable to find user. User Id: ' + id\n      });\n    }\n    users.name = req.body.name;\n    users.username = req.body.username;\n    users.email = req.body.email;\n    users.locale = req.body.locale;\n    users.save(function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error saving user ' + err\n        });\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'Unable to find user. User id: ' + id\n        });\n      }\n    });\n    return res.status(200).json(users);\n  });\n}\nfunction loginUser(args, res) {\n  var role = args.swagger.params.role.value;\n  var username = args.body.username;\n  var password = args.body.password;\n  console.log(role + username + password);\n\n  if (role != \"user\" && role != \"admin\") {\n    return res.status(400).json({\n      message: 'Error: Role must be either \"admin\" or \"user\"'\n    });\n  }\n\n  if (username == \"username\" && password == \"password\" && role) {\n    var tokenString = auth.issueToken(username, role);\n    res.status(200).json({\n      token: tokenString,\n      message: \"User successfully authenticated\"\n    });\n  } else {\n    res.status(403).json({\n      message: \"Error: Credentials incorrect\"\n    });\n  }\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwibWFpbGluZyIsIm5ldiIsImF1dGgiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlVXNlciIsImFjdGl2YXRlVXNlciIsImxpc3RVc2VyIiwicmVtb3ZlVXNlciIsImdldFVzZXIiLCJ1cGRhdGVVc2VyIiwibG9naW5Vc2VyIiwicmVxIiwicmVzIiwidXNlciIsImJvZHkiLCJjcmVhdGVUZW1wVXNlciIsImVyciIsImV4aXN0aW5nUGVyc2lzdGVudFVzZXIiLCJuZXdUZW1wVXNlciIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiVVJMIiwib3B0aW9ucyIsIlVSTEZpZWxkTmFtZSIsInNlbmRWZXJpZmljYXRpb25FbWFpbCIsImVtYWlsIiwiaW5mbyIsInN1Y2Nlc3MiLCJ1cmwiLCJzd2FnZ2VyIiwicGFyYW1zIiwidmFsdWUiLCJjb25maXJtVGVtcFVzZXIiLCJzZW5kQ29uZmlybWF0aW9uRW1haWwiLCJmaW5kIiwiVXNlcnMiLCJpZCIsImZpbmRCeUlkQW5kUmVtb3ZlIiwidXNlcnMiLCJmaW5kT25lIiwiX2lkIiwibmFtZSIsInVzZXJuYW1lIiwibG9jYWxlIiwic2F2ZSIsImFyZ3MiLCJyb2xlIiwicGFzc3dvcmQiLCJjb25zb2xlIiwibG9nIiwidG9rZW5TdHJpbmciLCJpc3N1ZVRva2VuIiwidG9rZW4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBT0MsUUFBUSxnQkFBUixDQUFYO0FBQ0EsSUFBSUMsVUFBVUQsUUFBUSxTQUFSLENBQWQ7QUFDQSxJQUFJRSxNQUFNRCxRQUFRLElBQVIsQ0FBVjtBQUNBLElBQUlFLE9BQU9ILFFBQVEsaUJBQVIsQ0FBWDs7QUFFQUksT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxjQUFZQSxVQURHO0FBRWZDLGdCQUFjQSxZQUZDO0FBR2ZDLFlBQVVBLFFBSEs7QUFJZkMsY0FBWUEsVUFKRztBQUtmQyxXQUFTQSxPQUxNO0FBTWZDLGNBQVlB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cHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJyk7XG52YXIgbWFpbGluZyA9IHJlcXVpcmUoJy4uL21haWwnKTtcbnZhciBuZXYgPSBtYWlsaW5nKCdlbicpO1xudmFyIGF1dGggPSByZXF1aXJlKFwiLi4vaGVscGVycy9hdXRoXCIpO1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlVXNlcjogY3JlYXRlVXNlcixcbiAgYWN0aXZhdGVVc2VyOiBhY3RpdmF0ZVVzZXIsXG4gIGxpc3RVc2VyOiBsaXN0VXNlcixcbiAgcmVtb3ZlVXNlcjogcmVtb3ZlVXNlcixcbiAgZ2V0VXNlcjogZ2V0VXNlcixcbiAgdXBkYXRlVXNlcjogdXBkYXRlVXNlcixcbiAgbG9naW5Vc2VyOiBsb2dpblVzZXJcbn07XG5cbmZ1bmN0aW9uIGNyZWF0ZVVzZXIocmVxLCByZXMpIHtcbiAgdmFyIHVzZXIgPSBuZXcgVXNlcihyZXEuYm9keSk7XG5cbiAgbmV2LmNyZWF0ZVRlbXBVc2VyKHVzZXIsIGZ1bmN0aW9uIChlcnIsIGV4aXN0aW5nUGVyc2lzdGVudFVzZXIsIG5ld1RlbXBVc2VyKSB7XG5cbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgICAvLyB1c2VyIGFscmVhZHkgZXhpc3RzIGluIHBlcnNpc3RlbnQgY29sbGVjdGlvblxuICAgIGlmIChleGlzdGluZ1BlcnNpc3RlbnRVc2VyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnWW91IGhhdmUgYWxyZWFkeSBzaWduZWQgdXAgYW5kIGNvbmZpcm1lZCB5b3VyIGFjY291bnQuIERpZCB5b3UgZm9yZ2V0IHlvdXIgcGFzc3dvcmQ/J1xuICAgICAgfSk7XG4gICAgfVxuICAgIC8vIG5ldyB1c2VyIGNyZWF0ZWRcbiAgICBpZiAobmV3VGVtcFVzZXIpIHtcbiAgICAgIHZhciBVUkwgPSBuZXdUZW1wVXNlcltuZXYub3B0aW9ucy5VUkxGaWVsZE5hbWVdO1xuICAgICAgbmV2LnNlbmRWZXJpZmljYXRpb25FbWFpbChuZXdUZW1wVXNlci5lbWFpbCwgVVJMLCBmdW5jdGlvbiAoZXJyLCBpbmZvKSB7XG4gICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0VSUk9SOiBzZW5kaW5nIHZlcmlmaWNhdGlvbiBlbWFpbCBGQUlMRUQgJyArIGluZm9cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSk7XG5cbiAgICAgIHJlcy5zdGF0dXMoMjAwKS5qc29uKHtcbiAgICAgICAgc3VjY2VzczogMSxcbiAgICAgICAgbWVzc2FnZTogJ0FuIGVtYWlsIGhhcyBiZWVuIHNlbnQgdG8geW91LiBQbGVhc2UgY2hlY2sgaXQgdG8gdmVyaWZ5IHlvdXIgYWNjb3VudC4nXG4gICAgICB9KTtcblxuICAgICAgLy8gdXNlciBhbHJlYWR5IGV4aXN0cyBpbiB0ZW1wb3JhcnkgY29sbGVjdGlvbiFcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA5KS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwLiBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCB0byB2ZXJpZnkgeW91ciBhY2NvdW50LidcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBhY3RpdmF0ZVVzZXIocmVxLCByZXMpIHtcbiAgdmFyIHVybCA9IHJlcS5zd2FnZ2VyLnBhcmFtcy51cmwudmFsdWU7XG4gIG5ldi5jb25maXJtVGVtcFVzZXIodXJsLCBmdW5jdGlvbiAoZXJyLCB1c2VyKSB7XG4gICAgaWYgKHVzZXIpIHtcbiAgICAgIG5ldi5zZW5kQ29uZmlybWF0aW9uRW1haWwodXNlci5lbWFpbCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFUlJPUjogc2VuZGluZyBjb25maXJtYXRpb24gZW1haWwgRkFJTEVEICcgKyBpbmZvXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICAgIHN1Y2Nlc3M6IDEsXG4gICAgICAgICAgbWVzc2FnZTogJ0NPTkZJUk1FRCEnXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFUlJPUjogY29uZmlybWluZyB0ZW1wIHVzZXIgRkFJTEVEICcgKyBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiBsaXN0VXNlcihyZXEsIHJlcykge1xuICBVc2VyLmZpbmQoZnVuY3Rpb24gKGVyciwgVXNlcnMpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnRXJyb3IgZ2V0dGluZyB1c2VyIGxpc3QuICcgKyBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oVXNlcnMpO1xuICB9KTtcbn1cbmZ1bmN0aW9uIHJlbW92ZVVzZXIocmVxLCByZXMpIHtcbiAgdmFyIGlkID0gcmVxLnN3YWdnZXIucGFyYW1zLmlkLnZhbHVlO1xuICBVc2VyLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZC4gVXNlciBJZDogJyArIGlkXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJzKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBnZXRVc2VyKHJlcSwgcmVzKSB7XG4gIHZhciBpZCA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5pZC52YWx1ZTtcbiAgVXNlci5maW5kT25lKHsgX2lkOiBpZCB9LCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciBnZXR0aW5nIHVzZXIuICcgKyBlcnJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoIXVzZXJzKSB7XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnVXNlciBkb2VzIG5vdCBleGlzdC4gVXNlciBJZDogJyArIGlkXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJzKTtcbiAgfSk7XG59XG5mdW5jdGlvbiB1cGRhdGVVc2VyKHJlcSwgcmVzKSB7XG4gIHZhciBpZCA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5pZC52YWx1ZTtcbiAgVXNlci5maW5kT25lKHsgX2lkOiBpZCB9LCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvciB1cGRhdGluZyB1c2VyLiAnICsgZXJyXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKCF1c2Vycykge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgbWVzc2FnZTogJ1VuYWJsZSB0byBmaW5kIHVzZXIuIFVzZXIgSWQ6ICcgKyBpZFxuICAgICAgfSk7XG4gICAgfVxuICAgIHVzZXJzLm5hbWUgPSByZXEuYm9keS5uYW1lO1xuICAgIHVzZXJzLnVzZXJuYW1lID0gcmVxLmJvZHkudXNlcm5hbWU7XG4gICAgdXNlcnMuZW1haWwgPSByZXEuYm9keS5lbWFpbDtcbiAgICB1c2Vycy5sb2NhbGUgPSByZXEuYm9keS5sb2NhbGU7XG4gICAgdXNlcnMuc2F2ZShmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBzYXZpbmcgdXNlciAnICsgZXJyXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKCF1c2Vycykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdVbmFibGUgdG8gZmluZCB1c2VyLiBVc2VyIGlkOiAnICsgaWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJzKTtcbiAgfSk7XG59XG5mdW5jdGlvbiBsb2dpblVzZXIoYXJncywgcmVzKSB7XG4gIHZhciByb2xlID0gYXJncy5zd2FnZ2VyLnBhcmFtcy5yb2xlLnZhbHVlO1xuICB2YXIgdXNlcm5hbWUgPSBhcmdzLmJvZHkudXNlcm5hbWU7XG4gIHZhciBwYXNzd29yZCA9IGFyZ3MuYm9keS5wYXNzd29yZDtcbiAgY29uc29sZS5sb2cocm9sZSArIHVzZXJuYW1lICsgcGFzc3dvcmQpO1xuXG4gIGlmIChyb2xlICE9IFwidXNlclwiICYmIHJvbGUgIT0gXCJhZG1pblwiKSB7XG4gICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6ICdFcnJvcjogUm9sZSBtdXN0IGJlIGVpdGhlciBcImFkbWluXCIgb3IgXCJ1c2VyXCInXG4gICAgfSk7XG4gIH1cblxuICBpZiAodXNlcm5hbWUgPT0gXCJ1c2VybmFtZVwiICYmIHBhc3N3b3JkID09IFwicGFzc3dvcmRcIiAmJiByb2xlKSB7XG4gICAgdmFyIHRva2VuU3RyaW5nID0gYXV0aC5pc3N1ZVRva2VuKHVzZXJuYW1lLCByb2xlKTtcbiAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICB0b2tlbjogdG9rZW5TdHJpbmcsXG4gICAgICBtZXNzYWdlOiBcIlVzZXIgc3VjY2Vzc2Z1bGx5IGF1dGhlbnRpY2F0ZWRcIlxuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIHJlcy5zdGF0dXMoNDAzKS5qc29uKHtcbiAgICAgIG1lc3NhZ2U6IFwiRXJyb3I6IENyZWRlbnRpYWxzIGluY29ycmVjdFwiXG4gICAgfSk7XG4gIH1cbn0iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "User",
        "require",
        "mailing",
        "nev",
        "auth",
        "module",
        "exports",
        "createUser",
        "activateUser",
        "listUser",
        "removeUser",
        "getUser",
        "updateUser",
        "loginUser",
        "req",
        "res",
        "user",
        "body",
        "createTempUser",
        "err",
        "existingPersistentUser",
        "newTempUser",
        "status",
        "json",
        "message",
        "URL",
        "options",
        "URLFieldName",
        "sendVerificationEmail",
        "email",
        "info",
        "success",
        "url",
        "swagger",
        "params",
        "value",
        "confirmTempUser",
        "sendConfirmationEmail",
        "find",
        "Users",
        "id",
        "findByIdAndRemove",
        "users",
        "findOne",
        "_id",
        "name",
        "username",
        "locale",
        "save",
        "args",
        "role",
        "password",
        "console",
        "log",
        "tokenString",
        "issueToken",
        "token"
      ],
      "mappings": "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",
      "file": "users.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var User = require('../models/User');\nvar mailing = require('../mail');\nvar nev = mailing('en');\nvar auth = require(\"../helpers/auth\");\n\nmodule.exports = {\n  createUser: createUser,\n  activateUser: activateUser,\n  listUser: listUser,\n  removeUser: removeUser,\n  getUser: getUser,\n  updateUser: updateUser,\n  loginUser: loginUser\n};\n\nfunction createUser(req, res) {\n  var user = new User(req.body);\n\n  nev.createTempUser(user, function (err, existingPersistentUser, newTempUser) {\n\n    if (err) {\n      return res.status(404).json({\n        message: err\n      });\n    }\n    // user already exists in persistent collection\n    if (existingPersistentUser) {\n      return res.status(409).json({\n        message: 'You have already signed up and confirmed your account. Did you forget your password?'\n      });\n    }\n    // new user created\n    if (newTempUser) {\n      var URL = newTempUser[nev.options.URLFieldName];\n      nev.sendVerificationEmail(newTempUser.email, URL, function (err, info) {\n        if (err) {\n          return res.status(500).json({\n            message: 'ERROR: sending verification email FAILED ' + info\n          });\n        }\n      });\n\n      res.status(200).json({\n        success: 1,\n        message: 'An email has been sent to you. Please check it to verify your account.'\n      });\n\n      // user already exists in temporary collection!\n    } else {\n      return res.status(409).json({\n        message: 'You have already signed up. Please check your email to verify your account.'\n      });\n    }\n  });\n}\nfunction activateUser(req, res) {\n  var url = req.swagger.params.url.value;\n  nev.confirmTempUser(url, function (err, user) {\n    if (user) {\n      nev.sendConfirmationEmail(user.email, function (err, info) {\n        if (err) {\n          return res.status(404).json({\n            message: 'ERROR: sending confirmation email FAILED ' + info\n          });\n        }\n        res.status(200).json({\n          success: 1,\n          message: 'CONFIRMED!'\n        });\n      });\n    } else {\n      return res.status(404).json({\n        message: 'ERROR: confirming temp user FAILED ' + err\n      });\n    }\n  });\n}\nfunction listUser(req, res) {\n  User.find(function (err, Users) {\n    if (err) {\n      return res.status(500).json({\n        message: 'Error getting user list. ' + err\n      });\n    }\n    return res.status(200).json(Users);\n  });\n}\nfunction removeUser(req, res) {\n  var id = req.swagger.params.id.value;\n  User.findByIdAndRemove(id, function (err, users) {\n    if (err) {\n      return res.status(404).json({\n        message: 'User not found. User Id: ' + id\n      });\n    }\n    return res.status(200).json(users);\n  });\n}\nfunction getUser(req, res) {\n  var id = req.swagger.params.id.value;\n  User.findOne({ _id: id }, function (err, users) {\n    if (err) {\n      return res.status(500).json({\n        message: 'Error getting user. ' + err\n      });\n    }\n    if (!users) {\n      return res.status(404).json({\n        message: 'User does not exist. User Id: ' + id\n      });\n    }\n    return res.status(200).json(users);\n  });\n}\nfunction updateUser(req, res) {\n  var id = req.swagger.params.id.value;\n  User.findOne({ _id: id }, function (err, users) {\n    if (err) {\n      return res.status(500).json({\n        message: 'Error updating user. ' + err\n      });\n    }\n    if (!users) {\n      return res.status(404).json({\n        message: 'Unable to find user. User Id: ' + id\n      });\n    }\n    users.name = req.body.name;\n    users.username = req.body.username;\n    users.email = req.body.email;\n    users.locale = req.body.locale;\n    users.save(function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error saving user ' + err\n        });\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'Unable to find user. User id: ' + id\n        });\n      }\n    });\n    return res.status(200).json(users);\n  });\n}\nfunction loginUser(args, res) {\n  var role = args.swagger.params.role.value;\n  var username = args.body.username;\n  var password = args.body.password;\n  console.log(role + username + password);\n\n  if (role != \"user\" && role != \"admin\") {\n    return res.status(400).json({\n      message: 'Error: Role must be either \"admin\" or \"user\"'\n    });\n  }\n\n  if (username == \"username\" && password == \"password\" && role) {\n    var tokenString = auth.issueToken(username, role);\n    res.status(200).json({\n      token: tokenString,\n      message: \"User successfully authenticated\"\n    });\n  } else {\n    res.status(403).json({\n      message: \"Error: Credentials incorrect\"\n    });\n  }\n}"
      ]
    },
    "mtime": 1516135215000
  },
  "{\"filename\":\"/app/models/TempUser.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/TempUser.js",
      "filenameRelative": "/app/models/TempUser.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "TempUser.js",
      "sourceFileName": "TempUser.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "TempUser"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar crypto = require('crypto');\n\nvar Schema = mongoose.Schema;\n\nvar oAuthTypes = ['github', 'twitter', 'facebook', 'google', 'linkedin'];\n\nvar userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type: Date, default: Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  GENERATED_VERIFYING_URL: { type: String }\n});\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true;\n  return name.length;\n}, 'Name cannot be blank');\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true;\n  return email.length;\n}, 'Email cannot be blank');\n\nuserSchema.path('email').validate(function (email, fn) {\n  var User = mongoose.model('User');\n  if (this.skipValidation()) fn(true);\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0);\n    });\n  } else fn(true);\n}, 'Email already exists');\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true;\n  return username.length;\n}, 'Username cannot be blank');\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true;\n  return password.length;\n}, 'Password cannot be blank');\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next();\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'));\n  } else {\n    next();\n  }\n});\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password;\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function makeSalt() {\n    return Math.round(new Date().valueOf() * Math.random()) + '';\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function encryptPassword(password) {\n    if (!password) return '';\n    try {\n      return crypto.createHmac('sha1', this.salt).update(password).digest('hex');\n    } catch (err) {\n      return '';\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function skipValidation() {\n    return ~oAuthTypes.indexOf(this.provider);\n  }\n\n  /**\n   * Statics\n   */\n\n};userSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function load(options, cb) {\n    options.select = options.select || 'name username';\n    return this.findOne(options.criteria).select(options.select).exec(cb);\n  }\n};\n\nvar TempUser = mongoose.model('TempUser', userSchema);\n\nmodule.exports = TempUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRlbXBVc2VyLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNyeXB0byIsIlNjaGVtYSIsIm9BdXRoVHlwZXMiLCJ1c2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiZW1haWwiLCJ1c2VybmFtZSIsInByb3ZpZGVyIiwibG9jYWxlIiwicGFzc3dvcmQiLCJhdXRoVG9rZW4iLCJsYXN0bG9naW4iLCJEYXRlIiwibm93IiwiZmFjZWJvb2siLCJpZCIsInRva2VuIiwiZ29vZ2xlIiwiR0VORVJBVEVEX1ZFUklGWUlOR19VUkwiLCJ2YWxpZGF0ZVByZXNlbmNlT2YiLCJ2YWx1ZSIsImxlbmd0aCIsInBhdGgiLCJ2YWxpZGF0ZSIsInNraXBWYWxpZGF0aW9uIiwiZm4iLCJVc2VyIiwibW9kZWwiLCJpc05ldyIsImlzTW9kaWZpZWQiLCJmaW5kIiwiZXhlYyIsImVyciIsInVzZXJzIiwicHJlIiwibmV4dCIsIkVycm9yIiwibWV0aG9kcyIsImF1dGhlbnRpY2F0ZSIsInBsYWluVGV4dCIsImVuY3J5cHRQYXNzd29yZCIsImhhc2hlZF9wYXNzd29yZCIsIm1ha2VTYWx0IiwiTWF0aCIsInJvdW5kIiwidmFsdWVPZiIsInJhbmRvbSIsImNyZWF0ZUhtYWMiLCJzYWx0IiwidXBkYXRlIiwiZGlnZXN0IiwiaW5kZXhPZiIsInN0YXRpY3MiLCJsb2FkIiwib3B0aW9ucyIsImNiIiwic2VsZWN0IiwiZmluZE9uZSIsImNyaXRlcmlhIiwiVGVtcFVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBTUMsU0FBU0QsUUFBUSxRQUFSLENBQWY7O0FBRUEsSUFBSUUsU0FBU0gsU0FBU0csTUFBdEI7O0FBRUEsSUFBTUMsYUFBYSxDQUNqQixRQURpQixFQUVqQixTQUZpQixFQUdqQixVQUhpQixFQUlqQixRQUppQixFQUtqQixVQUxpQixD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WCxDQUFtQixLQUFLNUMsUUFBeEIsQ0FBUjtBQUNEOztBQUdIOzs7O0FBdERxQixDQUFyQixDQTBEQVAsV0FBV29ELE9BQVgsR0FBcUI7O0FBRW5COzs7Ozs7OztBQVFBQyxRQUFNLGNBQVVDLE9BQVYsRUFBbUJDLEVBQW5CLEVBQXVCO0FBQzNCRCxZQUFRRSxNQUFSLEdBQWlCRixRQUFRRSxNQUFSLElBQWtCLGVBQW5DO0FBQ0EsV0FBTyxLQUFLQyxPQUFMLENBQWFILFFBQVFJLFFBQXJCLEVBQ0pGLE1BREksQ0FDR0YsUUFBUUUsTUFEWCxFQUVKekIsSUFGSSxDQUVDd0IsRUFGRCxDQUFQO0FBR0Q7QUFma0IsQ0FBckI7O0FBbUJBLElBQUlJLFdBQVdoRSxTQUFTZ0MsS0FBVCxDQUFlLFVBQWYsRUFBMkIzQixVQUEzQixDQUFmOztBQUVBNEQsT0FBT0MsT0FBUCxHQUFpQkYsUUFBakIiLCJmaWxlIjoiVGVtcFVzZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKVxuXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IG9BdXRoVHlwZXMgPSBbXG4gICdnaXRodWInLFxuICAndHdpdHRlcicsXG4gICdmYWNlYm9vaycsXG4gICdnb29nbGUnLFxuICAnbGlua2VkaW4nXG5dXG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBwcm92aWRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxvY2FsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdlbicgfSxcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBhdXRoVG9rZW46IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBsYXN0bG9naW46IHsgdHlwZSA6IERhdGUsIGRlZmF1bHQgOiBEYXRlLm5vdyB9LFxuICBmYWNlYm9vazoge1xuICAgIGlkICAgICAgICAgICA6IFN0cmluZyxcbiAgICB0b2tlbiAgICAgICAgOiBTdHJpbmcsXG4gICAgZW1haWwgICAgICAgIDogU3RyaW5nLFxuICAgIG5hbWUgICAgICAgICA6IFN0cmluZ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBpZCAgICAgICAgICAgOiBTdHJpbmcsXG4gICAgdG9rZW4gICAgICAgIDogU3RyaW5nLFxuICAgIGVtYWlsICAgICAgICA6IFN0cmluZyxcbiAgICBuYW1lICAgICAgICAgOiBTdHJpbmdcbiAgfSxcbiAgR0VORVJBVEVEX1ZFUklGWUlOR19VUkw6IHt0eXBlOiBTdHJpbmd9XG59KVxuXG5jb25zdCB2YWxpZGF0ZVByZXNlbmNlT2YgPSB2YWx1ZSA9PiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGhcblxuXG4vKipcbiAqIFZhbGlkYXRpb25zXG4gKi9cblxuLy8gdGhlIGJlbG93IDUgdmFsaWRhdGlvbnMgb25seSBhcHBseSBpZiB5b3UgYXJlIHNpZ25pbmcgdXAgdHJhZGl0aW9uYWxseVxuXG51c2VyU2NoZW1hLnBhdGgoJ25hbWUnKS52YWxpZGF0ZShmdW5jdGlvbiAobmFtZSkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gbmFtZS5sZW5ndGhcbn0sICdOYW1lIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZShmdW5jdGlvbiAoZW1haWwpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIGVtYWlsLmxlbmd0aFxufSwgJ0VtYWlsIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZShmdW5jdGlvbiAoZW1haWwsIGZuKSB7XG4gIGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicpXG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIGZuKHRydWUpXG5cbiAgLy8gQ2hlY2sgb25seSB3aGVuIGl0IGlzIGEgbmV3IHVzZXIgb3Igd2hlbiBlbWFpbCBmaWVsZCBpcyBtb2RpZmllZFxuICBpZiAodGhpcy5pc05ldyB8fCB0aGlzLmlzTW9kaWZpZWQoJ2VtYWlsJykpIHtcbiAgICBVc2VyLmZpbmQoeyBlbWFpbDogZW1haWwgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgZm4oIWVyciAmJiB1c2Vycy5sZW5ndGggPT09IDApXG4gICAgfSlcbiAgfSBlbHNlIGZuKHRydWUpXG59LCAnRW1haWwgYWxyZWFkeSBleGlzdHMnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ3VzZXJuYW1lJykudmFsaWRhdGUoZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiB1c2VybmFtZS5sZW5ndGhcbn0sICdVc2VybmFtZSBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ3Bhc3N3b3JkJykudmFsaWRhdGUoZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiBwYXNzd29yZC5sZW5ndGhcbn0sICdQYXNzd29yZCBjYW5ub3QgYmUgYmxhbmsnKVxuXG5cbi8qKlxuICogUHJlLXNhdmUgaG9va1xuICovXG5cbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgaWYgKCF0aGlzLmlzTmV3KSByZXR1cm4gbmV4dCgpXG5cbiAgaWYgKCF2YWxpZGF0ZVByZXNlbmNlT2YodGhpcy5wYXNzd29yZCkgJiYgIXRoaXMuc2tpcFZhbGlkYXRpb24oKSkge1xuICAgIG5leHQobmV3IEVycm9yKCdJbnZhbGlkIHBhc3N3b3JkJykpXG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpXG4gIH1cbn0pXG5cbi8qKlxuICogTWV0aG9kc1xuICovXG5cbnVzZXJTY2hlbWEubWV0aG9kcyA9IHtcblxuICAvKipcbiAgICogQXV0aGVudGljYXRlIC0gY2hlY2sgaWYgdGhlIHBhc3N3b3JkcyBhcmUgdGhlIHNhbWVcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBsYWluVGV4dFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhdXRoZW50aWNhdGU6IGZ1bmN0aW9uIChwbGFpblRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5lbmNyeXB0UGFzc3dvcmQocGxhaW5UZXh0KSA9PT0gdGhpcy5oYXNoZWRfcGFzc3dvcmRcbiAgfSxcblxuICAvKipcbiAgICogTWFrZSBzYWx0XG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgbWFrZVNhbHQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgobmV3IERhdGUoKS52YWx1ZU9mKCkgKiBNYXRoLnJhbmRvbSgpKSkgKyAnJ1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbmNyeXB0IHBhc3N3b3JkXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGVuY3J5cHRQYXNzd29yZDogZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gICAgaWYgKCFwYXNzd29yZCkgcmV0dXJuICcnXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjcnlwdG9cbiAgICAgICAgLmNyZWF0ZUhtYWMoJ3NoYTEnLCB0aGlzLnNhbHQpXG4gICAgICAgIC51cGRhdGUocGFzc3dvcmQpXG4gICAgICAgIC5kaWdlc3QoJ2hleCcpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gaXMgbm90IHJlcXVpcmVkIGlmIHVzaW5nIE9BdXRoXG4gICAqL1xuXG4gIHNraXBWYWxpZGF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5vQXV0aFR5cGVzLmluZGV4T2YodGhpcy5wcm92aWRlcilcbiAgfVxufVxuXG4vKipcbiAqIFN0YXRpY3NcbiAqL1xuXG51c2VyU2NoZW1hLnN0YXRpY3MgPSB7XG5cbiAgLyoqXG4gICAqIExvYWRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxvYWQ6IGZ1bmN0aW9uIChvcHRpb25zLCBjYikge1xuICAgIG9wdGlvbnMuc2VsZWN0ID0gb3B0aW9ucy5zZWxlY3QgfHwgJ25hbWUgdXNlcm5hbWUnXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZShvcHRpb25zLmNyaXRlcmlhKVxuICAgICAgLnNlbGVjdChvcHRpb25zLnNlbGVjdClcbiAgICAgIC5leGVjKGNiKVxuICB9XG59XG5cblxudmFyIFRlbXBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1RlbXBVc2VyJywgdXNlclNjaGVtYSlcblxubW9kdWxlLmV4cG9ydHMgPSBUZW1wVXNlclxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "TempUser.js"
      ],
      "names": [
        "mongoose",
        "require",
        "crypto",
        "Schema",
        "oAuthTypes",
        "userSchema",
        "name",
        "type",
        "String",
        "default",
        "email",
        "username",
        "provider",
        "locale",
        "password",
        "authToken",
        "lastlogin",
        "Date",
        "now",
        "facebook",
        "id",
        "token",
        "google",
        "GENERATED_VERIFYING_URL",
        "validatePresenceOf",
        "value",
        "length",
        "path",
        "validate",
        "skipValidation",
        "fn",
        "User",
        "model",
        "isNew",
        "isModified",
        "find",
        "exec",
        "err",
        "users",
        "pre",
        "next",
        "Error",
        "methods",
        "authenticate",
        "plainText",
        "encryptPassword",
        "hashed_password",
        "makeSalt",
        "Math",
        "round",
        "valueOf",
        "random",
        "createHmac",
        "salt",
        "update",
        "digest",
        "indexOf",
        "statics",
        "load",
        "options",
        "cb",
        "select",
        "findOne",
        "criteria",
        "TempUser",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "TempUser.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nconst crypto = require('crypto')\n\nvar Schema = mongoose.Schema\n\nconst oAuthTypes = [\n  'github',\n  'twitter',\n  'facebook',\n  'google',\n  'linkedin'\n]\n\nconst userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type : Date, default : Date.now },\n  facebook: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  google: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  GENERATED_VERIFYING_URL: {type: String}\n})\n\nconst validatePresenceOf = value => value && value.length\n\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true\n  return name.length\n}, 'Name cannot be blank')\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true\n  return email.length\n}, 'Email cannot be blank')\n\nuserSchema.path('email').validate(function (email, fn) {\n  const User = mongoose.model('User')\n  if (this.skipValidation()) fn(true)\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0)\n    })\n  } else fn(true)\n}, 'Email already exists')\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true\n  return username.length\n}, 'Username cannot be blank')\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true\n  return password.length\n}, 'Password cannot be blank')\n\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next()\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'))\n  } else {\n    next()\n  }\n})\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function (plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function () {\n    return Math.round((new Date().valueOf() * Math.random())) + ''\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function (password) {\n    if (!password) return ''\n    try {\n      return crypto\n        .createHmac('sha1', this.salt)\n        .update(password)\n        .digest('hex')\n    } catch (err) {\n      return ''\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function () {\n    return ~oAuthTypes.indexOf(this.provider)\n  }\n}\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function (options, cb) {\n    options.select = options.select || 'name username'\n    return this.findOne(options.criteria)\n      .select(options.select)\n      .exec(cb)\n  }\n}\n\n\nvar TempUser = mongoose.model('TempUser', userSchema)\n\nmodule.exports = TempUser\n\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/mail/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/mail\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.26.0:production": {
    "metadata": {
      "usedHelpers": [
        "typeof"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/mail/index.js",
      "filenameRelative": "/app/mail/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/mail",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/mail",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar User = require('../models/User');\nvar mongoose = require('mongoose');\nvar nev = require('email-verification')(mongoose);\nvar TempUser = require('../models/TempUser');\nvar bcrypt = require('bcryptjs');\n\nmodule.exports = function (locale) {\n\n  var myHasher = function myHasher(password, tempUserData, insertTempUser, callback) {\n    bcrypt.genSalt(8, function (err, salt) {\n      bcrypt.hash(password, salt, function (err, hash) {\n        return insertTempUser(hash, tempUserData, callback);\n      });\n    });\n  };\n\n  var subject, html, text;\n  switch (locale) {\n    case 'en':\n      subject = 'Please confirm account';\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>', text = 'Please confirm your account by clicking the following link: ${URL}';\n      break;\n    case 'es':\n      subject = 'Por favor, confirma tu cuenta', html = 'Pulsa el enlace siguiente para confirmar tu cuenta:</p><p>${URL}</p>', text = 'Por favor, confirma tu cuenta pulsando el enlace siguiente: ${URL}';\n      break;\n    default:\n      subject = 'Please confirm account';\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>', text = 'Please confirm your account by clicking the following link: ${URL}';\n  }\n\n  nev.configure({\n    verificationURL: 'http://localhost:4000/users/activate/${URL}',\n    URLLength: 48,\n    // mongo-stuff\n    persistentUserModel: User,\n    tempUserModel: TempUser,\n    tempUserCollection: 'tempusers',\n    emailFieldName: 'email',\n    passwordFieldName: 'password',\n    URLFieldName: 'GENERATED_VERIFYING_URL',\n    expirationTime: 86400, //1 día\n    // emailing options\n    transportOptions: {\n      service: 'Gmail',\n      auth: {\n        user: 'test696797518@gmail.com',\n        pass: '696797518'\n      }\n    },\n    verifyMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: subject,\n      html: html,\n      text: text\n    },\n    shouldSendConfirmation: true,\n    confirmMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: 'Successfully verified!',\n      html: '<p>Your account has been successfully verified.</p>',\n      text: 'Your account has been successfully verified.'\n    },\n    hashingFunction: myHasher\n  }, function (err, options) {\n    if (err) {\n      console.log(err);\n      return;\n    }\n    console.log('configured: ' + ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object'));\n  });\n\n  return nev;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwibW9uZ29vc2UiLCJuZXYiLCJUZW1wVXNlciIsImJjcnlwdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2NhbGUiLCJteUhhc2hlciIsInBhc3N3b3JkIiwidGVtcFVzZXJEYXRhIiwiaW5zZXJ0VGVtcFVzZXIiLCJjYWxsYmFjayIsImdlblNhbHQiLCJlcnIiLCJzYWx0IiwiaGFzaCIsInN1YmplY3QiLCJodG1sIiwidGV4dCIsImNvbmZpZ3VyZSIsInZlcmlmaWNhdGlvblVSTCIsIlVSTExlbmd0aCIsInBlcnNpc3RlbnRVc2VyTW9kZWwiLCJ0ZW1wVXNlck1vZGVsIiwidGVtcFVzZXJDb2xsZWN0aW9uIiwiZW1haWxGaWVsZE5hbWUiLCJwYXNzd29yZEZpZWxkTmFtZSIsIlVSTEZpZWxkTmFtZSIsImV4cGlyYXRpb25UaW1lIiwidHJhbnNwb3J0T3B0aW9ucyIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInBhc3MiLCJ2ZXJpZnlNYWlsT3B0aW9ucyIsImZyb20iLCJzaG91bGRTZW5kQ29uZmlybWF0aW9uIiwiY29uZmlybU1haWxPcHRpb25zIiwiaGFzaGluZ0Z1bmN0aW9uIiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxPQUFPQyxRQUFRLGdCQUFSLENBQVg7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlFLE1BQU1GLFFBQVEsb0JBQVIsRUFBOEJDLFFBQTlCLENBQVY7QUFDQSxJQUFJRSxXQUFXSCxRQUFRLG9CQUFSLENBQWY7QUFDQSxJQUFJSSxTQUFTSixRQUFRLFVBQVIsQ0FBYjs7QUFFQUssT0FBT0MsT0FBUCxHQUFpQixVQUFVQyxNQUFWLEVBQWtCOztBQUVqQyxNQUFJQyxXQUFXLFNBQVhBLFFBQVcsQ0FBU0MsUUFBVCxFQUFtQkMsWUFBbkIsRUFBaUNDLGNBQWpDLEVBQWlEQyxRQUFqRCxFQUEyRDtBQUN4RVIsV0FBT1MsT0FBUCxDQUFlLENBQWYsRUFBa0IsVUFBU0MsR0FBVCxFQUFjQyxJQUFkLEVBQW9CO0FBQ3BDWCxhQUFPWSxJQUFQLENBQVlQLFFBQVosRUFBc0JNLElBQXRCLEVBQTRCLFVBQVNELEdBQVQsRUFBY0UsSUFBZCxFQUFvQjtBQUM5QyxlQUFPTCxlQUFlSyxJQUFmLEVBQXFCTixZQUFyQixFQUFtQ0UsUUFBbkMsQ0FBUDtBQUNELE9BRkQ7QUFHRCxLQUpEO0FBS0QsR0FORDs7QUFRQSxNQUFJSyxPQUFKLEVBQWFDLElBQWIsRUFBbUJDLElBQW5CO0FBQ0EsVUFBT1osTUFBUDtBQUNFLFNBQUssSUFBTDtBQUNFVSxnQkFBVSx3QkFBVjtBQUNBQyxhQUFPLG9FQUFQLEVBQ0FDLE9BQU8sb0VBRFA7QUFFQTtBQUNGLFNBQUssSUFBTDtBQUNFRixnQkFBVSwrQkFBVixFQUNBQyxPQUFPLHNFQURQLEVBRUFDLE9BQU8sb0VBRlA7QUFHQTtBQUNGO0FBQ0VGLGdCQUFVLHdCQUFWO0FBQ0FDLGFBQU8sb0VBQVAsRUFDQUMsT0FBTyxvRUFEUDtBQWJKOztBQWlCQWpCLE1BQUlrQixTQUFKLENBQWM7QUFDWkMscUJBQWlCLDZDQURMO0FBRVpDLGVBQVcsRUFGQztBQUdaO0FBQ0FDLHlCQUFxQnhCLElBSlQ7QUFLWnlCLG1CQUFlckIsUUFMSDtBQU1ac0Isd0JBQW9CLFdBTlI7QUFPWkMsb0JBQWdCLE9BUEo7QUFRWkMsdUJBQW1CLFVBUlA7QUFTWkMsa0JBQWMseUJBVEY7QUFVWkMsb0JBQWdCLEtBVkosRUFVVztBQUN2QjtBQUNBQyxzQkFBa0I7QUFDaEJDLGVBQVMsT0FETztBQUVoQkMsWUFBTTtBQUNKQyxjQUFNLHlCQURGO0FBRUpDLGNBQU07QUFGRjtBQUZVLEtBWk47QUFtQlpDLHVCQUFtQjtBQUNqQkMsWUFBTSx3Q0FEVztBQUVqQm5CLGVBQVNBLE9BRlE7QUFHakJDLFlBQU1BLElBSFc7QUFJakJDLFlBQU1BO0FBSlcsS0FuQlA7QUF5QlprQiw0QkFBd0IsSUF6Qlo7QUEwQlpDLHdCQUFvQjtBQUNsQkYsWUFBTSx3Q0FEWTtBQUVsQm5CLGVBQVMsd0JBRlM7QUFHbEJDLFlBQU0scURBSFk7QUFJbEJDLFlBQU07QUFKWSxLQTFCUjtBQWdDWm9CLHFCQUFpQi9CO0FBaENMLEdBQWQsRUFpQ0csVUFBU00sR0FBVCxFQUFjMEIsT0FBZCxFQUFzQjtBQUN2QixRQUFJMUIsR0FBSixFQUFTO0FBQ1AyQixjQUFRQyxHQUFSLENBQVk1QixHQUFaO0FBQ0E7QUFDRDtBQUNEMkIsWUFBUUMsR0FBUixDQUFZLGtCQUFrQixRQUFPRixPQUFQLHlDQUFPQSxPQUFQLE9BQW1CLFFBQXJDLENBQVo7QUFDRCxHQXZDRDs7QUF5Q0EsU0FBT3RDLEdBQVA7QUFDRCxDQXRFRCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL21haWwiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJylcbnZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJylcbnZhciBuZXYgPSByZXF1aXJlKCdlbWFpbC12ZXJpZmljYXRpb24nKShtb25nb29zZSlcbnZhciBUZW1wVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9UZW1wVXNlcicpXG52YXIgYmNyeXB0ID0gcmVxdWlyZSgnYmNyeXB0anMnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChsb2NhbGUpIHtcblxuICB2YXIgbXlIYXNoZXIgPSBmdW5jdGlvbihwYXNzd29yZCwgdGVtcFVzZXJEYXRhLCBpbnNlcnRUZW1wVXNlciwgY2FsbGJhY2spIHtcbiAgICBiY3J5cHQuZ2VuU2FsdCg4LCBmdW5jdGlvbihlcnIsIHNhbHQpIHtcbiAgICAgIGJjcnlwdC5oYXNoKHBhc3N3b3JkLCBzYWx0LCBmdW5jdGlvbihlcnIsIGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIGluc2VydFRlbXBVc2VyKGhhc2gsIHRlbXBVc2VyRGF0YSwgY2FsbGJhY2spXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICB2YXIgc3ViamVjdCwgaHRtbCwgdGV4dFxuICBzd2l0Y2gobG9jYWxlKSB7XG4gICAgY2FzZSAnZW4nOlxuICAgICAgc3ViamVjdCA9ICdQbGVhc2UgY29uZmlybSBhY2NvdW50J1xuICAgICAgaHRtbCA9ICdDbGljayB0aGUgZm9sbG93aW5nIGxpbmsgdG8gY29uZmlybSB5b3VyIGFjY291bnQ6PC9wPjxwPiR7VVJMfTwvcD4nLFxuICAgICAgdGV4dCA9ICdQbGVhc2UgY29uZmlybSB5b3VyIGFjY291bnQgYnkgY2xpY2tpbmcgdGhlIGZvbGxvd2luZyBsaW5rOiAke1VSTH0nXG4gICAgICBicmVhaztcbiAgICBjYXNlICdlcyc6XG4gICAgICBzdWJqZWN0ID0gJ1BvciBmYXZvciwgY29uZmlybWEgdHUgY3VlbnRhJyxcbiAgICAgIGh0bWwgPSAnUHVsc2EgZWwgZW5sYWNlIHNpZ3VpZW50ZSBwYXJhIGNvbmZpcm1hciB0dSBjdWVudGE6PC9wPjxwPiR7VVJMfTwvcD4nLFxuICAgICAgdGV4dCA9ICdQb3IgZmF2b3IsIGNvbmZpcm1hIHR1IGN1ZW50YSBwdWxzYW5kbyBlbCBlbmxhY2Ugc2lndWllbnRlOiAke1VSTH0nXG4gICAgICBicmVhaztcbiAgICBkZWZhdWx0OlxuICAgICAgc3ViamVjdCA9ICdQbGVhc2UgY29uZmlybSBhY2NvdW50J1xuICAgICAgaHRtbCA9ICdDbGljayB0aGUgZm9sbG93aW5nIGxpbmsgdG8gY29uZmlybSB5b3VyIGFjY291bnQ6PC9wPjxwPiR7VVJMfTwvcD4nLFxuICAgICAgdGV4dCA9ICdQbGVhc2UgY29uZmlybSB5b3VyIGFjY291bnQgYnkgY2xpY2tpbmcgdGhlIGZvbGxvd2luZyBsaW5rOiAke1VSTH0nXG59XG5cbiAgbmV2LmNvbmZpZ3VyZSh7XG4gICAgdmVyaWZpY2F0aW9uVVJMOiAnaHR0cDovL2xvY2FsaG9zdDo0MDAwL3VzZXJzL2FjdGl2YXRlLyR7VVJMfScsXG4gICAgVVJMTGVuZ3RoOiA0OCxcbiAgICAvLyBtb25nby1zdHVmZlxuICAgIHBlcnNpc3RlbnRVc2VyTW9kZWw6IFVzZXIsXG4gICAgdGVtcFVzZXJNb2RlbDogVGVtcFVzZXIsXG4gICAgdGVtcFVzZXJDb2xsZWN0aW9uOiAndGVtcHVzZXJzJyxcbiAgICBlbWFpbEZpZWxkTmFtZTogJ2VtYWlsJyxcbiAgICBwYXNzd29yZEZpZWxkTmFtZTogJ3Bhc3N3b3JkJyxcbiAgICBVUkxGaWVsZE5hbWU6ICdHRU5FUkFURURfVkVSSUZZSU5HX1VSTCcsXG4gICAgZXhwaXJhdGlvblRpbWU6IDg2NDAwLCAvLzEgZMOtYVxuICAgIC8vIGVtYWlsaW5nIG9wdGlvbnNcbiAgICB0cmFuc3BvcnRPcHRpb25zOiB7XG4gICAgICBzZXJ2aWNlOiAnR21haWwnLFxuICAgICAgYXV0aDoge1xuICAgICAgICB1c2VyOiAndGVzdDY5Njc5NzUxOEBnbWFpbC5jb20nLFxuICAgICAgICBwYXNzOiAnNjk2Nzk3NTE4J1xuICAgICAgfVxuICAgIH0sXG4gICAgdmVyaWZ5TWFpbE9wdGlvbnM6IHtcbiAgICAgIGZyb206ICdEbyBOb3QgUmVwbHkgPHRlc3Q2OTY3OTc1MThAZ21haWwuY29tPicsXG4gICAgICBzdWJqZWN0OiBzdWJqZWN0LFxuICAgICAgaHRtbDogaHRtbCxcbiAgICAgIHRleHQ6IHRleHRcbiAgICB9LFxuICAgIHNob3VsZFNlbmRDb25maXJtYXRpb246IHRydWUsXG4gICAgY29uZmlybU1haWxPcHRpb25zOiB7XG4gICAgICBmcm9tOiAnRG8gTm90IFJlcGx5IDx0ZXN0Njk2Nzk3NTE4QGdtYWlsLmNvbT4nLFxuICAgICAgc3ViamVjdDogJ1N1Y2Nlc3NmdWxseSB2ZXJpZmllZCEnLFxuICAgICAgaHRtbDogJzxwPllvdXIgYWNjb3VudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgdmVyaWZpZWQuPC9wPicsXG4gICAgICB0ZXh0OiAnWW91ciBhY2NvdW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSB2ZXJpZmllZC4nXG4gICAgfSxcbiAgICBoYXNoaW5nRnVuY3Rpb246IG15SGFzaGVyXG4gIH0sIGZ1bmN0aW9uKGVyciwgb3B0aW9ucyl7XG4gICAgaWYgKGVycikge1xuICAgICAgY29uc29sZS5sb2coZXJyKVxuICAgICAgcmV0dXJuXG4gICAgfVxuICAgIGNvbnNvbGUubG9nKCdjb25maWd1cmVkOiAnICsgKHR5cGVvZiBvcHRpb25zID09PSAnb2JqZWN0JykpXG4gIH0pXG5cbiAgcmV0dXJuIG5ldlxufTtcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "User",
        "require",
        "mongoose",
        "nev",
        "TempUser",
        "bcrypt",
        "module",
        "exports",
        "locale",
        "myHasher",
        "password",
        "tempUserData",
        "insertTempUser",
        "callback",
        "genSalt",
        "err",
        "salt",
        "hash",
        "subject",
        "html",
        "text",
        "configure",
        "verificationURL",
        "URLLength",
        "persistentUserModel",
        "tempUserModel",
        "tempUserCollection",
        "emailFieldName",
        "passwordFieldName",
        "URLFieldName",
        "expirationTime",
        "transportOptions",
        "service",
        "auth",
        "user",
        "pass",
        "verifyMailOptions",
        "from",
        "shouldSendConfirmation",
        "confirmMailOptions",
        "hashingFunction",
        "options",
        "console",
        "log"
      ],
      "mappings": ";;;;AAAA,IAAIA,OAAOC,QAAQ,gBAAR,CAAX;AACA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;AACA,IAAIE,MAAMF,QAAQ,oBAAR,EAA8BC,QAA9B,CAAV;AACA,IAAIE,WAAWH,QAAQ,oBAAR,CAAf;AACA,IAAII,SAASJ,QAAQ,UAAR,CAAb;;AAEAK,OAAOC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;;AAEjC,MAAIC,WAAW,SAAXA,QAAW,CAASC,QAAT,EAAmBC,YAAnB,EAAiCC,cAAjC,EAAiDC,QAAjD,EAA2D;AACxER,WAAOS,OAAP,CAAe,CAAf,EAAkB,UAASC,GAAT,EAAcC,IAAd,EAAoB;AACpCX,aAAOY,IAAP,CAAYP,QAAZ,EAAsBM,IAAtB,EAA4B,UAASD,GAAT,EAAcE,IAAd,EAAoB;AAC9C,eAAOL,eAAeK,IAAf,EAAqBN,YAArB,EAAmCE,QAAnC,CAAP;AACD,OAFD;AAGD,KAJD;AAKD,GAND;;AAQA,MAAIK,OAAJ,EAAaC,IAAb,EAAmBC,IAAnB;AACA,UAAOZ,MAAP;AACE,SAAK,IAAL;AACEU,gBAAU,wBAAV;AACAC,aAAO,oEAAP,EACAC,OAAO,oEADP;AAEA;AACF,SAAK,IAAL;AACEF,gBAAU,+BAAV,EACAC,OAAO,sEADP,EAEAC,OAAO,oEAFP;AAGA;AACF;AACEF,gBAAU,wBAAV;AACAC,aAAO,oEAAP,EACAC,OAAO,oEADP;AAbJ;;AAiBAjB,MAAIkB,SAAJ,CAAc;AACZC,qBAAiB,6CADL;AAEZC,eAAW,EAFC;AAGZ;AACAC,yBAAqBxB,IAJT;AAKZyB,mBAAerB,QALH;AAMZsB,wBAAoB,WANR;AAOZC,oBAAgB,OAPJ;AAQZC,uBAAmB,UARP;AASZC,kBAAc,yBATF;AAUZC,oBAAgB,KAVJ,EAUW;AACvB;AACAC,sBAAkB;AAChBC,eAAS,OADO;AAEhBC,YAAM;AACJC,cAAM,yBADF;AAEJC,cAAM;AAFF;AAFU,KAZN;AAmBZC,uBAAmB;AACjBC,YAAM,wCADW;AAEjBnB,eAASA,OAFQ;AAGjBC,YAAMA,IAHW;AAIjBC,YAAMA;AAJW,KAnBP;AAyBZkB,4BAAwB,IAzBZ;AA0BZC,wBAAoB;AAClBF,YAAM,wCADY;AAElBnB,eAAS,wBAFS;AAGlBC,YAAM,qDAHY;AAIlBC,YAAM;AAJY,KA1BR;AAgCZoB,qBAAiB/B;AAhCL,GAAd,EAiCG,UAASM,GAAT,EAAc0B,OAAd,EAAsB;AACvB,QAAI1B,GAAJ,EAAS;AACP2B,cAAQC,GAAR,CAAY5B,GAAZ;AACA;AACD;AACD2B,YAAQC,GAAR,CAAY,kBAAkB,QAAOF,OAAP,yCAAOA,OAAP,OAAmB,QAArC,CAAZ;AACD,GAvCD;;AAyCA,SAAOtC,GAAP;AACD,CAtED",
      "file": "index.js",
      "sourceRoot": "/app/mail",
      "sourcesContent": [
        "var User = require('../models/User')\nvar mongoose = require('mongoose')\nvar nev = require('email-verification')(mongoose)\nvar TempUser = require('../models/TempUser')\nvar bcrypt = require('bcryptjs')\n\nmodule.exports = function (locale) {\n\n  var myHasher = function(password, tempUserData, insertTempUser, callback) {\n    bcrypt.genSalt(8, function(err, salt) {\n      bcrypt.hash(password, salt, function(err, hash) {\n        return insertTempUser(hash, tempUserData, callback)\n      })\n    })\n  }\n\n  var subject, html, text\n  switch(locale) {\n    case 'en':\n      subject = 'Please confirm account'\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>',\n      text = 'Please confirm your account by clicking the following link: ${URL}'\n      break;\n    case 'es':\n      subject = 'Por favor, confirma tu cuenta',\n      html = 'Pulsa el enlace siguiente para confirmar tu cuenta:</p><p>${URL}</p>',\n      text = 'Por favor, confirma tu cuenta pulsando el enlace siguiente: ${URL}'\n      break;\n    default:\n      subject = 'Please confirm account'\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>',\n      text = 'Please confirm your account by clicking the following link: ${URL}'\n}\n\n  nev.configure({\n    verificationURL: 'http://localhost:4000/users/activate/${URL}',\n    URLLength: 48,\n    // mongo-stuff\n    persistentUserModel: User,\n    tempUserModel: TempUser,\n    tempUserCollection: 'tempusers',\n    emailFieldName: 'email',\n    passwordFieldName: 'password',\n    URLFieldName: 'GENERATED_VERIFYING_URL',\n    expirationTime: 86400, //1 día\n    // emailing options\n    transportOptions: {\n      service: 'Gmail',\n      auth: {\n        user: 'test696797518@gmail.com',\n        pass: '696797518'\n      }\n    },\n    verifyMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: subject,\n      html: html,\n      text: text\n    },\n    shouldSendConfirmation: true,\n    confirmMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: 'Successfully verified!',\n      html: '<p>Your account has been successfully verified.</p>',\n      text: 'Your account has been successfully verified.'\n    },\n    hashingFunction: myHasher\n  }, function(err, options){\n    if (err) {\n      console.log(err)\n      return\n    }\n    console.log('configured: ' + (typeof options === 'object'))\n  })\n\n  return nev\n};\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/app.js",
      "filenameRelative": "/app/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar SwaggerExpress = require('swagger-express-mw');\nvar path = require('path');\nvar express = require('express');\nvar cors = require('cors');\nvar app = express();\nvar morgan = require('morgan');\n// const swaggerUi = require('swagger-ui-express')\n\n\n// private conf and envirnoment specific\n// see .env file, must rename .env-sample to .env\nrequire('dotenv').config();\n\nvar config = require('./config');\n// const errorhandler = require('errorhandler')  \n\n\nvar yaml = require('js-yaml');\nvar fs = require('fs');\ntry {\n  // eslint-disable-next-line\n  var swaggerDocument = yaml.safeLoad(fs.readFileSync(path.join(__dirname, './swagger/swagger.yaml'), 'utf8'));\n  var swaggerJSON = JSON.stringify(swaggerDocument, null, 4);\n  fs.writeFile(path.join(__dirname, './public/arasaac.json'), swaggerJSON, function (err) {\n    if (err) return console.log(err);\n    console.log('arasaac.json file generated');\n  });\n} catch (e) {\n  console.log(e);\n}\n\nvar swaggerConfig = {\n  appRoot: __dirname, // required config\n  configDir: path.resolve(__dirname, 'config'),\n  swaggerFile: __dirname + '/swagger/swagger.yaml'\n};\n\n/*bbdd configuration in its own file*/\nrequire('./db');\n\napp.use(cors());\napp.set('etag', false);\napp.use(morgan('dev'));\napp.use(express.static('./public'));\n\n// app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument))\n\nSwaggerExpress.create(swaggerConfig, function (err, swaggerExpress) {\n  if (err) {\n    throw err;\n  }\n  // install middleware\n  swaggerExpress.register(app);\n\n  var port = process.env.PORT || config.port;\n  app.listen(port);\n  console.log('App running on port ' + port);\n});\n\nmodule.exports = app; // for testing\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJTd2FnZ2VyRXhwcmVzcyIsInJlcXVpcmUiLCJwYXRoIiwiZXhwcmVzcyIsImNvcnMiLCJhcHAiLCJtb3JnYW4iLCJjb25maWciLCJ5YW1sIiwiZnMiLCJzd2FnZ2VyRG9jdW1lbnQiLCJzYWZlTG9hZCIsInJlYWRGaWxlU3luYyIsImpvaW4iLCJfX2Rpcm5hbWUiLCJzd2FnZ2VySlNPTiIsIkpTT04iLCJzdHJpbmdpZnkiLCJ3cml0ZUZpbGUiLCJlcnIiLCJjb25zb2xlIiwibG9nIiwiZSIsInN3YWdnZXJDb25maWciLCJhcHBSb290IiwiY29uZmlnRGlyIiwicmVzb2x2ZSIsInN3YWdnZXJGaWxlIiwidXNlIiwic2V0Iiwic3RhdGljIiwiY3JlYXRlIiwic3dhZ2dlckV4cHJlc3MiLCJyZWdpc3RlciIsInBvcnQiLCJwcm9jZXNzIiwiZW52IiwiUE9SVCIsImxpc3RlbiIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBTUEsaUJBQWlCQyxRQUFRLG9CQUFSLENBQXZCO0FBQ0EsSUFBTUMsT0FBT0QsUUFBUSxNQUFSLENBQWI7QUFDQSxJQUFJRSxVQUFVRixRQUFRLFNBQVIsQ0FBZDtBQUNBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUksTUFBTUYsU0FBVjtBQUNBLElBQU1HLFNBQVNMLFFBQVEsUUFBUixDQUFmO0FBQ0E7OztBQUdBO0FBQ0E7QUFDQUEsUUFBUSxRQUFSLEVBQWtCTSxNQUFsQjs7QUFFQSxJQUFNQSxTQUFTTixRQUFRLFVBQVIsQ0FBZjtBQUNBOzs7QUFHQSxJQUFNTyxPQUFPUCxRQUFRLFNBQVIsQ0FBYjtBQUNBLElBQU1RLEtBQUtSLFFBQVEsSUFBUixDQUFYO0FBQ0EsSUFBSTtBQUNGO0FBQ0EsTUFBSVMsa0JBQWtCRixLQUFLRyxRQUFMLENBQWNGLEdBQUdHLFlBQUgsQ0FBZ0JWLEtBQUtXLElBQUwsQ0FBVUMsU0FBVixFQUFxQix3QkFBckIsQ0FBaEIsRUFBZ0UsTUFBaEUsQ0FBZCxDQUF0QjtBQUNBLE1BQU1DLGNBQWNDLEtBQUtDLFNBQUwsQ0FBZVAsZUFBZixFQUFnQyxJQUFoQyxFQUFzQyxDQUF0QyxDQUFwQjtBQUNBRCxLQUFHUyxTQUFILENBQWFoQixLQUFLVyxJQUFMLENBQVVDLFNBQVYsRUFBb0IsdUJBQXBCLENBQWIsRUFBMkRDLFdBQTNELEVBQXdFLFVBQVVJLEdBQVYsRUFBZTtBQUNyRixRQUFJQSxHQUFKLEVBQVMsT0FBT0MsUUFBUUMsR0FBUixDQUFZRixHQUFaLENBQVA7QUFDVEMsWUFBUUMsR0FBUixDQUFZLDZCQUFaO0FBQ0QsR0FIRDtBQUlELENBUkQsQ0FRRSxPQUFPQyxDQUFQLEVBQVU7QUFDVkYsVUFBUUMsR0FBUixDQUFZQyxDQUFaO0FBQ0Q7O0FBRUQsSUFBSUMsZ0JBQWdCO0FBQ2xCQyxXQUFTVixTQURTLEVBQ0U7QUFDcEJXLGFBQVd2QixLQUFLd0IsT0FBTCxDQUFhWixTQUFiLEVBQXdCLFFBQXhCLENBRk87QUFHbEJhLGVBQWdCYixTQUFoQjtBQUhrQixDQUFwQjs7QUFPQTtBQUNBYixRQUFRLE1BQVI7O0FBRUFJLElBQUl1QixHQUFKLENBQVF4QixNQUFSO0FBQ0FDLElBQUl3QixHQUFKLENBQVEsTUFBUixFQUFnQixLQUFoQjtBQUNBeEIsSUFBSXVCLEdBQUosQ0FBUXRCLE9BQU8sS0FBUCxDQUFSO0FBQ0FELElBQUl1QixHQUFKLENBQVF6QixRQUFRMkIsTUFBUixDQUFlLFVBQWYsQ0FBUjs7QUFJQTs7QUFFQTlCLGVBQWUrQixNQUFmLENBQXNCUixhQUF0QixFQUFxQyxVQUFVSixHQUFWLEVBQWVhLGNBQWYsRUFBK0I7QUFDbEUsTUFBSWIsR0FBSixFQUFTO0FBQUUsVUFBTUEsR0FBTjtBQUFXO0FBQ3RCO0FBQ0FhLGlCQUFlQyxRQUFmLENBQXdCNUIsR0FBeEI7O0FBRUEsTUFBSTZCLE9BQU9DLFFBQVFDLEdBQVIsQ0FBWUMsSUFBWixJQUFvQjlCLE9BQU8yQixJQUF0QztBQUNBN0IsTUFBSWlDLE1BQUosQ0FBV0osSUFBWDtBQUNBZCxVQUFRQyxHQUFSLENBQVkseUJBQXlCYSxJQUFyQztBQUVELENBVEQ7O0FBWUFLLE9BQU9DLE9BQVAsR0FBaUJuQyxHQUFqQixDLENBQXFCIiwiZmlsZSI6ImFwcC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgU3dhZ2dlckV4cHJlc3MgPSByZXF1aXJlKCdzd2FnZ2VyLWV4cHJlc3MtbXcnKVxuY29uc3QgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxudmFyIGV4cHJlc3MgPSByZXF1aXJlKCdleHByZXNzJylcbnZhciBjb3JzID0gcmVxdWlyZSgnY29ycycpXG52YXIgYXBwID0gZXhwcmVzcygpXG5jb25zdCBtb3JnYW4gPSByZXF1aXJlKCdtb3JnYW4nKVxuLy8gY29uc3Qgc3dhZ2dlclVpID0gcmVxdWlyZSgnc3dhZ2dlci11aS1leHByZXNzJylcblxuXG4vLyBwcml2YXRlIGNvbmYgYW5kIGVudmlybm9tZW50IHNwZWNpZmljXG4vLyBzZWUgLmVudiBmaWxlLCBtdXN0IHJlbmFtZSAuZW52LXNhbXBsZSB0byAuZW52XG5yZXF1aXJlKCdkb3RlbnYnKS5jb25maWcoKVxuXG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpXG4vLyBjb25zdCBlcnJvcmhhbmRsZXIgPSByZXF1aXJlKCdlcnJvcmhhbmRsZXInKSAgXG5cblxuY29uc3QgeWFtbCA9IHJlcXVpcmUoJ2pzLXlhbWwnKVxuY29uc3QgZnMgPSByZXF1aXJlKCdmcycpXG50cnkge1xuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbiAgdmFyIHN3YWdnZXJEb2N1bWVudCA9IHlhbWwuc2FmZUxvYWQoZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihfX2Rpcm5hbWUsICcuL3N3YWdnZXIvc3dhZ2dlci55YW1sJyksICd1dGY4JykpXG4gIGNvbnN0IHN3YWdnZXJKU09OID0gSlNPTi5zdHJpbmdpZnkoc3dhZ2dlckRvY3VtZW50LCBudWxsLCA0KVxuICBmcy53cml0ZUZpbGUocGF0aC5qb2luKF9fZGlybmFtZSwnLi9wdWJsaWMvYXJhc2FhYy5qc29uJyksIHN3YWdnZXJKU09OLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNvbnNvbGUubG9nKGVycilcbiAgICBjb25zb2xlLmxvZygnYXJhc2FhYy5qc29uIGZpbGUgZ2VuZXJhdGVkJylcbiAgfSlcbn0gY2F0Y2ggKGUpIHtcbiAgY29uc29sZS5sb2coZSlcbn1cblxudmFyIHN3YWdnZXJDb25maWcgPSB7XG4gIGFwcFJvb3Q6IF9fZGlybmFtZSwgLy8gcmVxdWlyZWQgY29uZmlnXG4gIGNvbmZpZ0RpcjogcGF0aC5yZXNvbHZlKF9fZGlybmFtZSwgJ2NvbmZpZycpLFxuICBzd2FnZ2VyRmlsZTogYCR7X19kaXJuYW1lfS9zd2FnZ2VyL3N3YWdnZXIueWFtbGAgIFxufVxuXG5cbi8qYmJkZCBjb25maWd1cmF0aW9uIGluIGl0cyBvd24gZmlsZSovXG5yZXF1aXJlKCcuL2RiJylcblxuYXBwLnVzZShjb3JzKCkpXG5hcHAuc2V0KCdldGFnJywgZmFsc2UpXG5hcHAudXNlKG1vcmdhbignZGV2JykpXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKCcuL3B1YmxpYycpKVxuXG5cblxuLy8gYXBwLnVzZSgnL2FwaS1kb2NzJywgc3dhZ2dlclVpLnNlcnZlLCBzd2FnZ2VyVWkuc2V0dXAoc3dhZ2dlckRvY3VtZW50KSlcblxuU3dhZ2dlckV4cHJlc3MuY3JlYXRlKHN3YWdnZXJDb25maWcsIGZ1bmN0aW9uIChlcnIsIHN3YWdnZXJFeHByZXNzKSB7XG4gIGlmIChlcnIpIHsgdGhyb3cgZXJyIH1cbiAgLy8gaW5zdGFsbCBtaWRkbGV3YXJlXG4gIHN3YWdnZXJFeHByZXNzLnJlZ2lzdGVyKGFwcClcblxuICB2YXIgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgY29uZmlnLnBvcnRcbiAgYXBwLmxpc3Rlbihwb3J0KVxuICBjb25zb2xlLmxvZygnQXBwIHJ1bm5pbmcgb24gcG9ydCAnICsgcG9ydClcblxufSlcblxuXG5tb2R1bGUuZXhwb3J0cyA9IGFwcCAvLyBmb3IgdGVzdGluZ1xuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "SwaggerExpress",
        "require",
        "path",
        "express",
        "cors",
        "app",
        "morgan",
        "config",
        "yaml",
        "fs",
        "swaggerDocument",
        "safeLoad",
        "readFileSync",
        "join",
        "__dirname",
        "swaggerJSON",
        "JSON",
        "stringify",
        "writeFile",
        "err",
        "console",
        "log",
        "e",
        "swaggerConfig",
        "appRoot",
        "configDir",
        "resolve",
        "swaggerFile",
        "use",
        "set",
        "static",
        "create",
        "swaggerExpress",
        "register",
        "port",
        "process",
        "env",
        "PORT",
        "listen",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAMA,iBAAiBC,QAAQ,oBAAR,CAAvB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAIE,UAAUF,QAAQ,SAAR,CAAd;AACA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,MAAMF,SAAV;AACA,IAAMG,SAASL,QAAQ,QAAR,CAAf;AACA;;;AAGA;AACA;AACAA,QAAQ,QAAR,EAAkBM,MAAlB;;AAEA,IAAMA,SAASN,QAAQ,UAAR,CAAf;AACA;;;AAGA,IAAMO,OAAOP,QAAQ,SAAR,CAAb;AACA,IAAMQ,KAAKR,QAAQ,IAAR,CAAX;AACA,IAAI;AACF;AACA,MAAIS,kBAAkBF,KAAKG,QAAL,CAAcF,GAAGG,YAAH,CAAgBV,KAAKW,IAAL,CAAUC,SAAV,EAAqB,wBAArB,CAAhB,EAAgE,MAAhE,CAAd,CAAtB;AACA,MAAMC,cAAcC,KAAKC,SAAL,CAAeP,eAAf,EAAgC,IAAhC,EAAsC,CAAtC,CAApB;AACAD,KAAGS,SAAH,CAAahB,KAAKW,IAAL,CAAUC,SAAV,EAAoB,uBAApB,CAAb,EAA2DC,WAA3D,EAAwE,UAAUI,GAAV,EAAe;AACrF,QAAIA,GAAJ,EAAS,OAAOC,QAAQC,GAAR,CAAYF,GAAZ,CAAP;AACTC,YAAQC,GAAR,CAAY,6BAAZ;AACD,GAHD;AAID,CARD,CAQE,OAAOC,CAAP,EAAU;AACVF,UAAQC,GAAR,CAAYC,CAAZ;AACD;;AAED,IAAIC,gBAAgB;AAClBC,WAASV,SADS,EACE;AACpBW,aAAWvB,KAAKwB,OAAL,CAAaZ,SAAb,EAAwB,QAAxB,CAFO;AAGlBa,eAAgBb,SAAhB;AAHkB,CAApB;;AAOA;AACAb,QAAQ,MAAR;;AAEAI,IAAIuB,GAAJ,CAAQxB,MAAR;AACAC,IAAIwB,GAAJ,CAAQ,MAAR,EAAgB,KAAhB;AACAxB,IAAIuB,GAAJ,CAAQtB,OAAO,KAAP,CAAR;AACAD,IAAIuB,GAAJ,CAAQzB,QAAQ2B,MAAR,CAAe,UAAf,CAAR;;AAIA;;AAEA9B,eAAe+B,MAAf,CAAsBR,aAAtB,EAAqC,UAAUJ,GAAV,EAAea,cAAf,EAA+B;AAClE,MAAIb,GAAJ,EAAS;AAAE,UAAMA,GAAN;AAAW;AACtB;AACAa,iBAAeC,QAAf,CAAwB5B,GAAxB;;AAEA,MAAI6B,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB9B,OAAO2B,IAAtC;AACA7B,MAAIiC,MAAJ,CAAWJ,IAAX;AACAd,UAAQC,GAAR,CAAY,yBAAyBa,IAArC;AAED,CATD;;AAYAK,OAAOC,OAAP,GAAiBnC,GAAjB,C,CAAqB",
      "file": "app.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "const SwaggerExpress = require('swagger-express-mw')\nconst path = require('path')\nvar express = require('express')\nvar cors = require('cors')\nvar app = express()\nconst morgan = require('morgan')\n// const swaggerUi = require('swagger-ui-express')\n\n\n// private conf and envirnoment specific\n// see .env file, must rename .env-sample to .env\nrequire('dotenv').config()\n\nconst config = require('./config')\n// const errorhandler = require('errorhandler')  \n\n\nconst yaml = require('js-yaml')\nconst fs = require('fs')\ntry {\n  // eslint-disable-next-line\n  var swaggerDocument = yaml.safeLoad(fs.readFileSync(path.join(__dirname, './swagger/swagger.yaml'), 'utf8'))\n  const swaggerJSON = JSON.stringify(swaggerDocument, null, 4)\n  fs.writeFile(path.join(__dirname,'./public/arasaac.json'), swaggerJSON, function (err) {\n    if (err) return console.log(err)\n    console.log('arasaac.json file generated')\n  })\n} catch (e) {\n  console.log(e)\n}\n\nvar swaggerConfig = {\n  appRoot: __dirname, // required config\n  configDir: path.resolve(__dirname, 'config'),\n  swaggerFile: `${__dirname}/swagger/swagger.yaml`  \n}\n\n\n/*bbdd configuration in its own file*/\nrequire('./db')\n\napp.use(cors())\napp.set('etag', false)\napp.use(morgan('dev'))\napp.use(express.static('./public'))\n\n\n\n// app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument))\n\nSwaggerExpress.create(swaggerConfig, function (err, swaggerExpress) {\n  if (err) { throw err }\n  // install middleware\n  swaggerExpress.register(app)\n\n  var port = process.env.PORT || config.port\n  app.listen(port)\n  console.log('App running on port ' + port)\n\n})\n\n\nmodule.exports = app // for testing\n"
      ]
    },
    "mtime": 1516209528000
  },
  "{\"filename\":\"/app/config/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/index.js",
      "filenameRelative": "/app/config/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar development = require('./env/development');\nvar path = require('path');\nvar test = require('./env/test');\nvar production = require('./env/production');\n\nvar defaults = {\n  port: process.env.PORT || 8100,\n  materialsDir: path.join(process.cwd(), 'materials')\n};\n\n/**\n * Expose\n */\n\nmodule.exports = {\n  development: Object.assign({}, defaults, development),\n  test: Object.assign({}, defaults, test),\n  production: Object.assign({}, defaults, production)\n}[process.env.NODE_ENV || 'development'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbImRldmVsb3BtZW50IiwicmVxdWlyZSIsInBhdGgiLCJ0ZXN0IiwicHJvZHVjdGlvbiIsImRlZmF1bHRzIiwicG9ydCIsInByb2Nlc3MiLCJlbnYiLCJQT1JUIiwibWF0ZXJpYWxzRGlyIiwiam9pbiIsImN3ZCIsIm1vZHVsZSIsImV4cG9ydHMiLCJPYmplY3QiLCJhc3NpZ24iLCJOT0RFX0VOViJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFNQSxjQUFjQyxRQUFRLG1CQUFSLENBQXBCO0FBQ0EsSUFBTUMsT0FBT0QsUUFBUSxNQUFSLENBQWI7QUFDQSxJQUFNRSxPQUFPRixRQUFRLFlBQVIsQ0FBYjtBQUNBLElBQU1HLGFBQWFILFFBQVEsa0JBQVIsQ0FBbkI7O0FBRUEsSUFBTUksV0FBVztBQUNmQyxRQUFNQyxRQUFRQyxHQUFSLENBQVlDLElBQVosSUFBb0IsSUFEWDtBQUVmQyxnQkFBY1IsS0FBS1MsSUFBTCxDQUFVSixRQUFRSyxHQUFSLEVBQVYsRUFBeUIsV0FBekI7QUFGQyxDQUFqQjs7QUFLQTs7OztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZkLGVBQWFlLE9BQU9DLE1BQVAsQ0FBYyxFQUFkLEVBQWtCWCxRQUFsQixFQUE0QkwsV0FBNUIsQ0FERTtBQUVmRyxRQUFNWSxPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQlgsUUFBbEIsRUFBNEJGLElBQTVCLENBRlM7QUFHZkMsY0FBWVcsT0FBT0MsTUFBUCxDQUFjLEVBQWQsRUFBa0JYLFFBQWxCLEVBQTRCRCxVQUE1QjtBQUhHLEVBSWZHLFFBQVFDLEdBQVIsQ0FBWVMsUUFBWixJQUF3QixhQUpULENBQWpCIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgZGV2ZWxvcG1lbnQgPSByZXF1aXJlKCcuL2Vudi9kZXZlbG9wbWVudCcpXG5jb25zdCBwYXRoID0gcmVxdWlyZSgncGF0aCcpXG5jb25zdCB0ZXN0ID0gcmVxdWlyZSgnLi9lbnYvdGVzdCcpXG5jb25zdCBwcm9kdWN0aW9uID0gcmVxdWlyZSgnLi9lbnYvcHJvZHVjdGlvbicpXG5cbmNvbnN0IGRlZmF1bHRzID0ge1xuICBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8IDgxMDAsXG4gIG1hdGVyaWFsc0RpcjogcGF0aC5qb2luKHByb2Nlc3MuY3dkKCksICdtYXRlcmlhbHMnKVxufVxuXG4vKipcbiAqIEV4cG9zZVxuICovXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBkZXZlbG9wbWVudDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIGRldmVsb3BtZW50KSxcbiAgdGVzdDogT2JqZWN0LmFzc2lnbih7fSwgZGVmYXVsdHMsIHRlc3QpLFxuICBwcm9kdWN0aW9uOiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgcHJvZHVjdGlvbilcbn1bcHJvY2Vzcy5lbnYuTk9ERV9FTlYgfHwgJ2RldmVsb3BtZW50J11cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "development",
        "require",
        "path",
        "test",
        "production",
        "defaults",
        "port",
        "process",
        "env",
        "PORT",
        "materialsDir",
        "join",
        "cwd",
        "module",
        "exports",
        "Object",
        "assign",
        "NODE_ENV"
      ],
      "mappings": ";;AAAA,IAAMA,cAAcC,QAAQ,mBAAR,CAApB;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;AACA,IAAME,OAAOF,QAAQ,YAAR,CAAb;AACA,IAAMG,aAAaH,QAAQ,kBAAR,CAAnB;;AAEA,IAAMI,WAAW;AACfC,QAAMC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IADX;AAEfC,gBAAcR,KAAKS,IAAL,CAAUJ,QAAQK,GAAR,EAAV,EAAyB,WAAzB;AAFC,CAAjB;;AAKA;;;;AAIAC,OAAOC,OAAP,GAAiB;AACfd,eAAae,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BL,WAA5B,CADE;AAEfG,QAAMY,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BF,IAA5B,CAFS;AAGfC,cAAYW,OAAOC,MAAP,CAAc,EAAd,EAAkBX,QAAlB,EAA4BD,UAA5B;AAHG,EAIfG,QAAQC,GAAR,CAAYS,QAAZ,IAAwB,aAJT,CAAjB",
      "file": "index.js",
      "sourceRoot": "/app/config",
      "sourcesContent": [
        "const development = require('./env/development')\nconst path = require('path')\nconst test = require('./env/test')\nconst production = require('./env/production')\n\nconst defaults = {\n  port: process.env.PORT || 8100,\n  materialsDir: path.join(process.cwd(), 'materials')\n}\n\n/**\n * Expose\n */\n\nmodule.exports = {\n  development: Object.assign({}, defaults, development),\n  test: Object.assign({}, defaults, test),\n  production: Object.assign({}, defaults, production)\n}[process.env.NODE_ENV || 'development']\n"
      ]
    },
    "mtime": 1511352442000
  },
  "{\"filename\":\"/app/config/env/development.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/development.js",
      "filenameRelative": "/app/config/env/development.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "development.js",
      "sourceFileName": "development.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "development"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'development',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost:27000/arasaac',\n  jwt: { secret: process.env.JWT_SECRET || 'secret key for testing' },\n  // https://developers.facebook.com/\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID || 'Ie20AZvLJI2lQD5Dsgxgjauns',\n    clientSecret: process.env.FACEBOOK_SECRET || 'KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ',\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  // https://apps.twitter.com/\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID || 'prueba',\n    clientSecret: process.env.TWITTER_SECRET || 'prueba',\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  // https://cloud.google.com/console/project\n  google: {\n    clientID: process.env.GOOGLE_CLIENT_ID || '251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com',\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || 'Y8yR9yZAhm9jQ8FKAL8QIEcd',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldmVsb3BtZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJlbnYiLCJkYXRhYmFzZVVybCIsInByb2Nlc3MiLCJNT05HT19VUkwiLCJqd3QiLCJzZWNyZXQiLCJKV1RfU0VDUkVUIiwiZmFjZWJvb2siLCJjbGllbnRJRCIsIkZBQ0VCT09LX0NMSUVOVElEIiwiY2xpZW50U2VjcmV0IiwiRkFDRUJPT0tfU0VDUkVUIiwiY2FsbGJhY2tVUkwiLCJ0d2l0dGVyIiwiVFdJVFRFUl9DTElFTlRJRCIsIlRXSVRURVJfU0VDUkVUIiwiZ2l0aHViIiwiR0lUSFVCX0NMSUVOVElEIiwiR0lUSFVCX1NFQ1JFVCIsImxpbmtlZGluIiwiTElOS0VESU5fQ0xJRU5USUQiLCJMSU5LRURJTl9TRUNSRVQiLCJnb29nbGUiLCJHT09HTEVfQ0xJRU5UX0lEIiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsT0FBSyxhQURVO0FBRWZDLGVBQWFDLFFBQVFGLEdBQVIsQ0FBWUcsU0FBWixJQUF5QixtQ0FGdkI7QUFHZkMsT0FBSyxFQUFFQyxRQUFRSCxRQUFRRixHQUFSLENBQVlNLFVBQVosSUFBMEIsd0JBQXBDLEVBSFU7QUFJZjtBQUNBQyxZQUFVO0FBQ1JDLGNBQVVOLFFBQVFGLEdBQVIsQ0FBWVMsaUJBQVosSUFBaUMsMkJBRG5DO0FBRVJDLGtCQUFjUixRQUFRRixHQUFSLENBQVlXLGVBQVosSUFBK0Isb0RBRnJDO0FBR1JDLGlCQUFhO0FBSEwsR0FMSztBQVVmO0FBQ0FDLFdBQVM7QUFDUEwsY0FBVU4sUUFBUUYsR0FBUixDQUFZYyxnQkFBWixJQUFnQyxRQURuQztBQUVQSixrQkFBY1IsUUFBUUYsR0FBUixDQUFZZSxjQUFaLElBQThCLFFBRnJDO0FBR1BILGlCQUFhO0FBSE4sR0FYTTtBQWdCZkksVUFBUTtBQUNOUixjQUFVTixRQUFRRixHQUFSLENBQVlpQixlQURoQjtBQUVOUCxrQkFBY1IsUUFBUUYsR0FBUixDQUFZa0IsYUFGcEI7QUFHTk4saUJBQWE7QUFIUCxHQWhCTztBQXFCZk8sWUFBVTtBQUNSWCxjQUFVTixRQUFRRixHQUFSLENBQVlvQixpQkFEZDtBQUVSVixrQkFBY1IsUUFBUUYsR0FBUixDQUFZcUIsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQXJCSztBQTBCZjtBQUNBVSxVQUFRO0FBQ05kLGNBQVVOLFFBQVFGLEdBQVIsQ0FBWXVCLGdCQUFaLElBQWdDLDBFQURwQztBQUVOYixrQkFBY1IsUUFBUUYsR0FBUixDQUFZd0Isb0JBQVosSUFBb0MsMEJBRjVDO0FBR05aLGlCQUFhO0FBSFA7QUEzQk8sQ0FBakIiLCJmaWxlIjoiZGV2ZWxvcG1lbnQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb25maWcvZW52Iiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVudjogJ2RldmVsb3BtZW50JyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdDoyNzAwMC9hcmFzYWFjJyxcbiAgand0OiB7IHNlY3JldDogcHJvY2Vzcy5lbnYuSldUX1NFQ1JFVCB8fCAnc2VjcmV0IGtleSBmb3IgdGVzdGluZycgfSxcbiAgLy8gaHR0cHM6Ly9kZXZlbG9wZXJzLmZhY2Vib29rLmNvbS9cbiAgZmFjZWJvb2s6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfQ0xJRU5USUQgfHwgJ0llMjBBWnZMSkkybFFENURzZ3hnamF1bnMnLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfU0VDUkVUIHx8ICdLVFo2Y3hvS25FYWtRQ2VTcFpsYVVDSldHQWxURUJKajB5MkVNa1VCdWpBN3pXU3ZhUScsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9mYWNlYm9vay9jYWxsYmFjaydcbiAgfSxcbiAgLy8gaHR0cHM6Ly9hcHBzLnR3aXR0ZXIuY29tL1xuICB0d2l0dGVyOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LlRXSVRURVJfQ0xJRU5USUQgfHwgJ3BydWViYScsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5UV0lUVEVSX1NFQ1JFVCB8fCAncHJ1ZWJhJyxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL3R3aXR0ZXIvY2FsbGJhY2snXG4gIH0sXG4gIGdpdGh1Yjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ2l0aHViL2NhbGxiYWNrJ1xuICB9LFxuICBsaW5rZWRpbjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5MSU5LRURJTl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkxJTktFRElOX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2xpbmtlZGluL2NhbGxiYWNrJ1xuICB9LFxuICAvLyBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vY29uc29sZS9wcm9qZWN0XG4gIGdvb2dsZToge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5UX0lEIHx8ICcyNTE0MTA3MzA1NTAtYWhjZzBvdTVtZ2ZobDhobHVpMXVycnU3am41czEya20uYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgfHwgJ1k4eVI5eVpBaG05alE4RktBTDhRSUVjZCcsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9nb29nbGUvY2FsbGJhY2snXG4gIH1cbn0iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "development.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "jwt",
        "secret",
        "JWT_SECRET",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENT_ID",
        "GOOGLE_CLIENT_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,aADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,mCAFvB;AAGfC,OAAK,EAAEC,QAAQH,QAAQF,GAAR,CAAYM,UAAZ,IAA0B,wBAApC,EAHU;AAIf;AACAC,YAAU;AACRC,cAAUN,QAAQF,GAAR,CAAYS,iBAAZ,IAAiC,2BADnC;AAERC,kBAAcR,QAAQF,GAAR,CAAYW,eAAZ,IAA+B,oDAFrC;AAGRC,iBAAa;AAHL,GALK;AAUf;AACAC,WAAS;AACPL,cAAUN,QAAQF,GAAR,CAAYc,gBAAZ,IAAgC,QADnC;AAEPJ,kBAAcR,QAAQF,GAAR,CAAYe,cAAZ,IAA8B,QAFrC;AAGPH,iBAAa;AAHN,GAXM;AAgBfI,UAAQ;AACNR,cAAUN,QAAQF,GAAR,CAAYiB,eADhB;AAENP,kBAAcR,QAAQF,GAAR,CAAYkB,aAFpB;AAGNN,iBAAa;AAHP,GAhBO;AAqBfO,YAAU;AACRX,cAAUN,QAAQF,GAAR,CAAYoB,iBADd;AAERV,kBAAcR,QAAQF,GAAR,CAAYqB,eAFlB;AAGRT,iBAAa;AAHL,GArBK;AA0Bf;AACAU,UAAQ;AACNd,cAAUN,QAAQF,GAAR,CAAYuB,gBAAZ,IAAgC,0EADpC;AAENb,kBAAcR,QAAQF,GAAR,CAAYwB,oBAAZ,IAAoC,0BAF5C;AAGNZ,iBAAa;AAHP;AA3BO,CAAjB",
      "file": "development.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'development',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost:27000/arasaac',\n  jwt: { secret: process.env.JWT_SECRET || 'secret key for testing' },\n  // https://developers.facebook.com/\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID || 'Ie20AZvLJI2lQD5Dsgxgjauns',\n    clientSecret: process.env.FACEBOOK_SECRET || 'KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ',\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  // https://apps.twitter.com/\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID || 'prueba',\n    clientSecret: process.env.TWITTER_SECRET || 'prueba',\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  // https://cloud.google.com/console/project\n  google: {\n    clientID: process.env.GOOGLE_CLIENT_ID || '251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com',\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || 'Y8yR9yZAhm9jQ8FKAL8QIEcd',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1510958665000
  },
  "{\"filename\":\"/app/config/env/test.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/test.js",
      "filenameRelative": "/app/config/env/test.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "test.js",
      "sourceFileName": "test.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "test"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'test',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_tests',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImVudiIsImRhdGFiYXNlVXJsIiwicHJvY2VzcyIsIk1PTkdPX1VSTCIsImZhY2Vib29rIiwiY2xpZW50SUQiLCJGQUNFQk9PS19DTElFTlRJRCIsImNsaWVudFNlY3JldCIsIkZBQ0VCT09LX1NFQ1JFVCIsImNhbGxiYWNrVVJMIiwidHdpdHRlciIsIlRXSVRURVJfQ0xJRU5USUQiLCJUV0lUVEVSX1NFQ1JFVCIsImdpdGh1YiIsIkdJVEhVQl9DTElFTlRJRCIsIkdJVEhVQl9TRUNSRVQiLCJsaW5rZWRpbiIsIkxJTktFRElOX0NMSUVOVElEIiwiTElOS0VESU5fU0VDUkVUIiwiZ29vZ2xlIiwiR09PR0xFX0NMSUVOVElEIiwiR09PR0xFX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxPQUFLLE1BRFU7QUFFZkMsZUFBYUMsUUFBUUYsR0FBUixDQUFZRyxTQUFaLElBQXlCLCtCQUZ2QjtBQUdmQyxZQUFVO0FBQ1JDLGNBQVVILFFBQVFGLEdBQVIsQ0FBWU0saUJBRGQ7QUFFUkMsa0JBQWNMLFFBQVFGLEdBQVIsQ0FBWVEsZUFGbEI7QUFHUkMsaUJBQWE7QUFITCxHQUhLO0FBUWZDLFdBQVM7QUFDUEwsY0FBVUgsUUFBUUYsR0FBUixDQUFZVyxnQkFEZjtBQUVQSixrQkFBY0wsUUFBUUYsR0FBUixDQUFZWSxjQUZuQjtBQUdQSCxpQkFBYTtBQUhOLEdBUk07QUFhZkksVUFBUTtBQUNOUixjQUFVSCxRQUFRRixHQUFSLENBQVljLGVBRGhCO0FBRU5QLGtCQUFjTCxRQUFRRixHQUFSLENBQVllLGFBRnBCO0FBR05OLGlCQUFhO0FBSFAsR0FiTztBQWtCZk8sWUFBVTtBQUNSWCxjQUFVSCxRQUFRRixHQUFSLENBQVlpQixpQkFEZDtBQUVSVixrQkFBY0wsUUFBUUYsR0FBUixDQUFZa0IsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQWxCSztBQXVCZlUsVUFBUTtBQUNOZCxjQUFVSCxRQUFRRixHQUFSLENBQVlvQixlQURoQjtBQUVOYixrQkFBY0wsUUFBUUYsR0FBUixDQUFZcUIsYUFGcEI7QUFHTlosaUJBQWE7QUFIUDtBQXZCTyxDQUFqQiIsImZpbGUiOiJ0ZXN0LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnL2VudiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbnY6ICd0ZXN0JyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9BUElfdGVzdHMnLFxuICBmYWNlYm9vazoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2ZhY2Vib29rL2NhbGxiYWNrJ1xuICB9LFxuICB0d2l0dGVyOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LlRXSVRURVJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5UV0lUVEVSX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL3R3aXR0ZXIvY2FsbGJhY2snXG4gIH0sXG4gIGdpdGh1Yjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ2l0aHViL2NhbGxiYWNrJ1xuICB9LFxuICBsaW5rZWRpbjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5MSU5LRURJTl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkxJTktFRElOX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2xpbmtlZGluL2NhbGxiYWNrJ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2dvb2dsZS9jYWxsYmFjaydcbiAgfVxufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "test.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENTID",
        "GOOGLE_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,MADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,+BAFvB;AAGfC,YAAU;AACRC,cAAUH,QAAQF,GAAR,CAAYM,iBADd;AAERC,kBAAcL,QAAQF,GAAR,CAAYQ,eAFlB;AAGRC,iBAAa;AAHL,GAHK;AAQfC,WAAS;AACPL,cAAUH,QAAQF,GAAR,CAAYW,gBADf;AAEPJ,kBAAcL,QAAQF,GAAR,CAAYY,cAFnB;AAGPH,iBAAa;AAHN,GARM;AAafI,UAAQ;AACNR,cAAUH,QAAQF,GAAR,CAAYc,eADhB;AAENP,kBAAcL,QAAQF,GAAR,CAAYe,aAFpB;AAGNN,iBAAa;AAHP,GAbO;AAkBfO,YAAU;AACRX,cAAUH,QAAQF,GAAR,CAAYiB,iBADd;AAERV,kBAAcL,QAAQF,GAAR,CAAYkB,eAFlB;AAGRT,iBAAa;AAHL,GAlBK;AAuBfU,UAAQ;AACNd,cAAUH,QAAQF,GAAR,CAAYoB,eADhB;AAENb,kBAAcL,QAAQF,GAAR,CAAYqB,aAFpB;AAGNZ,iBAAa;AAHP;AAvBO,CAAjB",
      "file": "test.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'test',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_tests',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/config/env/production.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/production.js",
      "filenameRelative": "/app/config/env/production.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "production.js",
      "sourceFileName": "production.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "production"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'production',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://mongodb/arasaac',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3Rpb24uanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImVudiIsImRhdGFiYXNlVXJsIiwicHJvY2VzcyIsIk1PTkdPX1VSTCIsImZhY2Vib29rIiwiY2xpZW50SUQiLCJGQUNFQk9PS19DTElFTlRJRCIsImNsaWVudFNlY3JldCIsIkZBQ0VCT09LX1NFQ1JFVCIsImNhbGxiYWNrVVJMIiwidHdpdHRlciIsIlRXSVRURVJfQ0xJRU5USUQiLCJUV0lUVEVSX1NFQ1JFVCIsImdpdGh1YiIsIkdJVEhVQl9DTElFTlRJRCIsIkdJVEhVQl9TRUNSRVQiLCJsaW5rZWRpbiIsIkxJTktFRElOX0NMSUVOVElEIiwiTElOS0VESU5fU0VDUkVUIiwiZ29vZ2xlIiwiR09PR0xFX0NMSUVOVElEIiwiR09PR0xFX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxPQUFLLFlBRFU7QUFFZkMsZUFBYUMsUUFBUUYsR0FBUixDQUFZRyxTQUFaLElBQXlCLDJCQUZ2QjtBQUdmQyxZQUFVO0FBQ1JDLGNBQVVILFFBQVFGLEdBQVIsQ0FBWU0saUJBRGQ7QUFFUkMsa0JBQWNMLFFBQVFGLEdBQVIsQ0FBWVEsZUFGbEI7QUFHUkMsaUJBQWE7QUFITCxHQUhLO0FBUWZDLFdBQVM7QUFDUEwsY0FBVUgsUUFBUUYsR0FBUixDQUFZVyxnQkFEZjtBQUVQSixrQkFBY0wsUUFBUUYsR0FBUixDQUFZWSxjQUZuQjtBQUdQSCxpQkFBYTtBQUhOLEdBUk07QUFhZkksVUFBUTtBQUNOUixjQUFVSCxRQUFRRixHQUFSLENBQVljLGVBRGhCO0FBRU5QLGtCQUFjTCxRQUFRRixHQUFSLENBQVllLGFBRnBCO0FBR05OLGlCQUFhO0FBSFAsR0FiTztBQWtCZk8sWUFBVTtBQUNSWCxjQUFVSCxRQUFRRixHQUFSLENBQVlpQixpQkFEZDtBQUVSVixrQkFBY0wsUUFBUUYsR0FBUixDQUFZa0IsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQWxCSztBQXVCZlUsVUFBUTtBQUNOZCxjQUFVSCxRQUFRRixHQUFSLENBQVlvQixlQURoQjtBQUVOYixrQkFBY0wsUUFBUUYsR0FBUixDQUFZcUIsYUFGcEI7QUFHTlosaUJBQWE7QUFIUDtBQXZCTyxDQUFqQiIsImZpbGUiOiJwcm9kdWN0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnL2VudiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbnY6ICdwcm9kdWN0aW9uJyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL21vbmdvZGIvYXJhc2FhYycsXG4gIGZhY2Vib29rOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snXG4gIH0sXG4gIHR3aXR0ZXI6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuVFdJVFRFUl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LlRXSVRURVJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvdHdpdHRlci9jYWxsYmFjaydcbiAgfSxcbiAgZ2l0aHViOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9naXRodWIvY2FsbGJhY2snXG4gIH0sXG4gIGxpbmtlZGluOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkxJTktFRElOX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuTElOS0VESU5fU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvbGlua2VkaW4vY2FsbGJhY2snXG4gIH0sXG4gIGdvb2dsZToge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ29vZ2xlL2NhbGxiYWNrJ1xuICB9XG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "production.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENTID",
        "GOOGLE_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,YADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,2BAFvB;AAGfC,YAAU;AACRC,cAAUH,QAAQF,GAAR,CAAYM,iBADd;AAERC,kBAAcL,QAAQF,GAAR,CAAYQ,eAFlB;AAGRC,iBAAa;AAHL,GAHK;AAQfC,WAAS;AACPL,cAAUH,QAAQF,GAAR,CAAYW,gBADf;AAEPJ,kBAAcL,QAAQF,GAAR,CAAYY,cAFnB;AAGPH,iBAAa;AAHN,GARM;AAafI,UAAQ;AACNR,cAAUH,QAAQF,GAAR,CAAYc,eADhB;AAENP,kBAAcL,QAAQF,GAAR,CAAYe,aAFpB;AAGNN,iBAAa;AAHP,GAbO;AAkBfO,YAAU;AACRX,cAAUH,QAAQF,GAAR,CAAYiB,iBADd;AAERV,kBAAcL,QAAQF,GAAR,CAAYkB,eAFlB;AAGRT,iBAAa;AAHL,GAlBK;AAuBfU,UAAQ;AACNd,cAAUH,QAAQF,GAAR,CAAYoB,eADhB;AAENb,kBAAcL,QAAQF,GAAR,CAAYqB,aAFpB;AAGNZ,iBAAa;AAHP;AAvBO,CAAjB",
      "file": "production.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'production',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://mongodb/arasaac',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1510958647000
  },
  "{\"filename\":\"/app/db.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/db.js",
      "filenameRelative": "/app/db.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "db.js",
      "sourceFileName": "db.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "db"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar config = require('./config');\n\nmongoose.connect(config.databaseUrl);\nmongoose.connection.on('connected', function () {\n  return console.log('Connected to database: ' + config.databaseUrl);\n});\nmongoose.connection.on('error', function (err) {\n  return console.log('Database connection error: ' + err);\n});\nmongoose.connection.on('disconnected', function () {\n  return console.log('Disconnected from database');\n});\n\nprocess.on('SIGINT', function () {\n  return mongoose.connection.close(function () {\n    console.log('Finished App and disconnected from database');\n    process.exit(0);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbmZpZyIsImNvbm5lY3QiLCJkYXRhYmFzZVVybCIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJwcm9jZXNzIiwiY2xvc2UiLCJleGl0Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxVQUFSLENBQWI7O0FBRUFELFNBQVNHLE9BQVQsQ0FBaUJELE9BQU9FLFdBQXhCO0FBQ0FKLFNBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLFdBQXZCLEVBQW9DO0FBQUEsU0FBTUMsUUFBUUMsR0FBUixDQUFZLDRCQUE0Qk4sT0FBT0UsV0FBL0MsQ0FBTjtBQUFBLENBQXBDO0FBQ0FKLFNBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQStCLFVBQUNHLEdBQUQ7QUFBQSxTQUFTRixRQUFRQyxHQUFSLENBQVksZ0NBQWdDQyxHQUE1QyxDQUFUO0FBQUEsQ0FBL0I7QUFDQVQsU0FBU0ssVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUM7QUFBQSxTQUFNQyxRQUFRQyxHQUFSLENBQVksNEJBQVosQ0FBTjtBQUFBLENBQXZDOztBQUVBRSxRQUFRSixFQUFSLENBQVcsUUFBWCxFQUFxQjtBQUFBLFNBQU1OLFNBQVNLLFVBQVQsQ0FBb0JNLEtBQXBCLENBQTJCLFlBQU07QUFDMURKLFlBQVFDLEdBQVIsQ0FBWSw2Q0FBWjtBQUNBRSxZQUFRRSxJQUFSLENBQWEsQ0FBYjtBQUNELEdBSDBCLENBQU47QUFBQSxDQUFyQiIsImZpbGUiOiJkYi5qcyIsInNvdXJjZVJvb3QiOiIvYXBwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJylcblxubW9uZ29vc2UuY29ubmVjdChjb25maWcuZGF0YWJhc2VVcmwpXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIGRhdGFiYXNlOiAnICsgY29uZmlnLmRhdGFiYXNlVXJsKSlcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywoZXJyKSA9PiBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjogJyArIGVycikpXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkIGZyb20gZGF0YWJhc2UnKSlcblxucHJvY2Vzcy5vbignU0lHSU5UJywgKCkgPT4gbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSggKCkgPT4ge1xuICBjb25zb2xlLmxvZygnRmluaXNoZWQgQXBwIGFuZCBkaXNjb25uZWN0ZWQgZnJvbSBkYXRhYmFzZScpXG4gIHByb2Nlc3MuZXhpdCgwKVxufSkpIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "config",
        "connect",
        "databaseUrl",
        "connection",
        "on",
        "console",
        "log",
        "err",
        "process",
        "close",
        "exit"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASD,QAAQ,UAAR,CAAb;;AAEAD,SAASG,OAAT,CAAiBD,OAAOE,WAAxB;AACAJ,SAASK,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC;AAAA,SAAMC,QAAQC,GAAR,CAAY,4BAA4BN,OAAOE,WAA/C,CAAN;AAAA,CAApC;AACAJ,SAASK,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAA+B,UAACG,GAAD;AAAA,SAASF,QAAQC,GAAR,CAAY,gCAAgCC,GAA5C,CAAT;AAAA,CAA/B;AACAT,SAASK,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC;AAAA,SAAMC,QAAQC,GAAR,CAAY,4BAAZ,CAAN;AAAA,CAAvC;;AAEAE,QAAQJ,EAAR,CAAW,QAAX,EAAqB;AAAA,SAAMN,SAASK,UAAT,CAAoBM,KAApB,CAA2B,YAAM;AAC1DJ,YAAQC,GAAR,CAAY,6CAAZ;AACAE,YAAQE,IAAR,CAAa,CAAb;AACD,GAH0B,CAAN;AAAA,CAArB",
      "file": "db.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar config = require('./config')\n\nmongoose.connect(config.databaseUrl)\nmongoose.connection.on('connected', () => console.log('Connected to database: ' + config.databaseUrl))\nmongoose.connection.on('error',(err) => console.log('Database connection error: ' + err))\nmongoose.connection.on('disconnected', () => console.log('Disconnected from database'))\n\nprocess.on('SIGINT', () => mongoose.connection.close( () => {\n  console.log('Finished App and disconnected from database')\n  process.exit(0)\n}))"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/cervezasController.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/cervezasController.js",
      "filenameRelative": "/app/controllers/cervezasController.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "cervezasController.js",
      "sourceFileName": "cervezasController.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "cervezasController"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Cervezas = require('../models/Cervezas');\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function search(req, res) {\n    var q = req.query.q;\n    Cervezas.find({ $text: { $search: q } }, function (err, cervezas) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        });\n      }\n      return res.json(cervezas);\n    });\n  },\n  list: function list(req, res) {\n    Cervezas.find(function (err, cervezas) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo la cerveza'\n        });\n      }\n      return res.json(cervezas);\n    });\n  },\n  show: function show(req, res) {\n    var id = req.params.id;\n    Cervezas.findOne({ _id: id }, function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener la cerveza'\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No tenemos esta cerveza'\n        });\n      }\n      return res.json(cerveza);\n    });\n  },\n  create: function create(req, res) {\n    var cerveza = new Cervezas(req.body);\n    cerveza.save(function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error al guardar la cerveza',\n          error: err\n        });\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: cerveza._id\n      });\n    });\n  },\n  update: function update(req, res) {\n    var id = req.params.id;\n    Cervezas.findOne({ _id: id }, function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar la cerveza',\n          error: err\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la cerveza'\n        });\n      }\n      cerveza.Nombre = req.body.nombre;\n      cerveza.Descripción = req.body.descripcion;\n      cerveza.Graduacion = req.body.graduacion;\n      cerveza.Envase = req.body.envase;\n      cerveza.Precio = req.body.precio;\n      cerveza.save(function (err, cerveza) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar la cerveza'\n          });\n        }\n        if (!cerveza) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la cerveza'\n          });\n        }\n        return res.json(cerveza);\n      });\n    });\n  },\n  remove: function remove(req, res) {\n    var id = req.params.id;\n    Cervezas.findByIdAndRemove(id, function (err, cerveza) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado la cerveza'\n        });\n      }\n      return res.json(cerveza);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNlcnZlemFzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJDZXJ2ZXphcyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VhcmNoIiwicmVxIiwicmVzIiwicSIsInF1ZXJ5IiwiZmluZCIsIiR0ZXh0IiwiJHNlYXJjaCIsImVyciIsImNlcnZlemFzIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJsaXN0Iiwic2hvdyIsImlkIiwicGFyYW1zIiwiZmluZE9uZSIsIl9pZCIsImNlcnZlemEiLCJjcmVhdGUiLCJib2R5Iiwic2F2ZSIsImVycm9yIiwidXBkYXRlIiwiTm9tYnJlIiwibm9tYnJlIiwiRGVzY3JpcGNpw7NuIiwiZGVzY3JpcGNpb24iLCJHcmFkdWFjaW9uIiwiZ3JhZHVhY2lvbiIsIkVudmFzZSIsImVudmFzZSIsIlByZWNpbyIsInByZWNpbyIsInJlbW92ZSIsImZpbmRCeUlkQW5kUmVtb3ZlIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsb0JBQVIsQ0FBZjtBQUNBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2Y7QUFDQUMsVUFBUSxnQkFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQzFCLFFBQUlDLElBQUlGLElBQUlHLEtBQUosQ0FBVUQsQ0FBbEI7QUFDQVAsYUFBU1MsSUFBVCxDQUFjLEVBQUVDLE9BQU8sRUFBRUMsU0FBU0osQ0FBWCxFQUFULEVBQWQsRUFBeUMsVUFBU0ssR0FBVCxFQUFjQyxRQUFkLEVBQXdCO0FBQy9ELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9OLElBQUlRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVM7QUFEaUIsU0FBckIsQ0FBUDtBQUdEO0FBQ0QsYUFBT1YsSUFBSVMsSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQVBEO0FBUUQsR0FaYztBQWFmSSxRQUFNLGNBQVNaLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN2Qk4sYUFBU1Ms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LEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxZQUFHLENBQUNPLE9BQUosRUFBYTtBQUNYLGlCQUFPakIsSUFBSVEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxlQUFPVixJQUFJUyxJQUFKLENBQVNRLE9BQVQsQ0FBUDtBQUNELE9BWkQ7QUFhRCxLQTlCRDtBQStCRCxHQXZGYztBQXdGZmdCLFVBQVEsZ0JBQVNsQyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDekIsUUFBSWEsS0FBS2QsSUFBSWUsTUFBSixDQUFXRCxFQUFwQjtBQUNBbkIsYUFBU3dDLGlCQUFULENBQTJCckIsRUFBM0IsRUFBK0IsVUFBU1AsR0FBVCxFQUFjVyxPQUFkLEVBQXNCO0FBQ25ELFVBQUdYLEdBQUgsRUFBUTtBQUNOLGVBQU9OLElBQUlTLElBQUosQ0FBUyxHQUFULEVBQWM7QUFDbkJDLG1CQUFTO0FBRFUsU0FBZCxDQUFQO0FBR0Q7QUFDRCxhQUFPVixJQUFJUyxJQUFKLENBQVNRLE9BQVQsQ0FBUDtBQUNELEtBUEQ7QUFRRDtBQWxHYyxDQUFqQiIsImZpbGUiOiJjZXJ2ZXphc0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbInZhciBDZXJ2ZXphcyA9IHJlcXVpcmUoJy4uL21vZGVscy9DZXJ2ZXphcycpXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgLy8gaHR0cHM6Ly9kb2NzLm1vbmdvZGIuY29tL3YzLjAvcmVmZXJlbmNlL29wZXJhdG9yL3F1ZXJ5L3RleHQvXG4gIHNlYXJjaDogZnVuY3Rpb24gKHJlcSwgcmVzKSB7XG4gICAgdmFyIHEgPSByZXEucXVlcnkucVxuICAgIENlcnZlemFzLmZpbmQoeyAkdGV4dDogeyAkc2VhcmNoOiBxIH0gfSwgZnVuY3Rpb24oZXJyLCBjZXJ2ZXphcykge1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGVuIGxhIGLDunNxdWVkYSdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihjZXJ2ZXphcylcbiAgICB9KVxuICB9LFxuICBsaXN0OiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIENlcnZlemFzLmZpbmQoZnVuY3Rpb24oZXJyLCBjZXJ2ZXphcyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3Igb2J0ZW5pZW5kbyBsYSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNlcnZlemFzKVxuICAgIH0pXG4gIH0sXG4gIHNob3c6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIENlcnZlemFzLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1NlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBhbCBvYnRlbmVyIGxhIGNlcnZlemEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighY2VydmV6YSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oIHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gdGVuZW1vcyBlc3RhIGNlcnZlemEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oY2VydmV6YSlcbiAgICB9KVxuICB9LFxuICBjcmVhdGU6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGNlcnZlemEgPSBuZXcgQ2VydmV6YXMgKHJlcS5ib2R5KVxuICAgIGNlcnZlemEuc2F2ZShmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBhbCBndWFyZGFyIGxhIGNlcnZlemEnLFxuICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdzYXZlZCcsXG4gICAgICAgIF9pZDogY2VydmV6YS5faWRcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBDZXJ2ZXphcy5maW5kT25lKHtfaWQ6IGlkfSwgZnVuY3Rpb24oZXJyLCBjZXJ2ZXphKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgZ3VhcmRhciBsYSBjZXJ2ZXphJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighY2VydmV6YSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBoZW1vcyBlbmNvbnRyYWRvIGxhIGNlcnZlemEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBjZXJ2ZXphLk5vbWJyZSA9IHJlcS5ib2R5Lm5vbWJyZVxuICAgICAgY2VydmV6YS5EZXNjcmlwY2nDs24gPSAgcmVxLmJvZHkuZGVzY3JpcGNpb25cbiAgICAgIGNlcnZlemEuR3JhZHVhY2lvbiA9IHJlcS5ib2R5LmdyYWR1YWNpb25cbiAgICAgIGNlcnZlemEuRW52YXNlID0gcmVxLmJvZHkuZW52YXNlXG4gICAgICBjZXJ2ZXphLlByZWNpbyA9IHJlcS5ib2R5LnByZWNpb1xuICAgICAgY2VydmV6YS5zYXZlKGZ1bmN0aW9uKGVyciwgY2VydmV6YSl7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYWwgZ3VhcmRhciBsYSBjZXJ2ZXphJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYoIWNlcnZlemEpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gbGEgY2VydmV6YSdcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbihjZXJ2ZXphKVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICByZW1vdmU6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIENlcnZlemFzLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbig1MDAsIHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gaGVtb3MgZW5jb250cmFkbyBsYSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNlcnZlemEpXG4gICAgfSlcbiAgfVxufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "cervezasController.js"
      ],
      "names": [
        "Cervezas",
        "require",
        "module",
        "exports",
        "search",
        "req",
        "res",
        "q",
        "query",
        "find",
        "$text",
        "$search",
        "err",
        "cervezas",
        "status",
        "json",
        "message",
        "list",
        "show",
        "id",
        "params",
        "findOne",
        "_id",
        "cerveza",
        "create",
        "body",
        "save",
        "error",
        "update",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "remove",
        "findByIdAndRemove"
      ],
      "mappings": "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",
      "file": "cervezasController.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var Cervezas = require('../models/Cervezas')\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function (req, res) {\n    var q = req.query.q\n    Cervezas.find({ $text: { $search: q } }, function(err, cervezas) {\n      if(err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        })\n      }\n      return res.json(cervezas)\n    })\n  },\n  list: function(req, res) {\n    Cervezas.find(function(err, cervezas){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo la cerveza'\n        })\n      }\n      return res.json(cervezas)\n    })\n  },\n  show: function(req, res) {\n    var id = req.params.id\n    Cervezas.findOne({_id: id}, function(err, cerveza){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener la cerveza'\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json( {\n          message: 'No tenemos esta cerveza'\n        })\n      }\n      return res.json(cerveza)\n    })\n  },\n  create: function(req, res) {\n    var cerveza = new Cervezas (req.body)\n    cerveza.save(function(err, cerveza){\n      if(err) {\n        return res.status(500).json( {\n          message: 'Error al guardar la cerveza',\n          error: err\n        })\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: cerveza._id\n      })\n    })\n  },\n  update: function(req, res) {\n    var id = req.params.id\n    Cervezas.findOne({_id: id}, function(err, cerveza){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar la cerveza',\n          error: err\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la cerveza'\n        })\n      }\n      cerveza.Nombre = req.body.nombre\n      cerveza.Descripción =  req.body.descripcion\n      cerveza.Graduacion = req.body.graduacion\n      cerveza.Envase = req.body.envase\n      cerveza.Precio = req.body.precio\n      cerveza.save(function(err, cerveza){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar la cerveza'\n          })\n        }\n        if(!cerveza) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la cerveza'\n          })\n        }\n        return res.json(cerveza)\n      })\n    })\n  },\n  remove: function(req, res) {\n    var id = req.params.id\n    Cervezas.findByIdAndRemove(id, function(err, cerveza){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado la cerveza'\n        })\n      }\n      return res.json(cerveza)\n    })\n  }\n}"
      ]
    },
    "mtime": 1516117364000
  },
  "{\"filename\":\"/app/models/Cervezas.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/Cervezas.js",
      "filenameRelative": "/app/models/Cervezas.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Cervezas.js",
      "sourceFileName": "Cervezas.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Cervezas"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar cervezaSchema = new Schema({\n  Nombre: String,\n  Descripción: String,\n  Graduacion: String,\n  Envase: String,\n  Precio: String\n});\n\nvar Cerveza = mongoose.model('Cerveza', cervezaSchema);\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Cerveza;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNlcnZlemFzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsImNlcnZlemFTY2hlbWEiLCJOb21icmUiLCJTdHJpbmciLCJEZXNjcmlwY2nDs24iLCJHcmFkdWFjaW9uIiwiRW52YXNlIiwiUHJlY2lvIiwiQ2VydmV6YSIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBLElBQUlDLGdCQUFnQixJQUFJRCxNQUFKLENBQVc7QUFDN0JFLFVBQVFDLE1BRHFCO0FBRTdCQyxlQUFhRCxNQUZnQjtBQUc3QkUsY0FBWUYsTUFIaUI7QUFJN0JHLFVBQVFILE1BSnFCO0FBSzdCSSxVQUFRSjtBQUxxQixDQUFYLENBQXBCOztBQVFBLElBQUlLLFVBQVVWLFNBQVNXLEtBQVQsQ0FBZSxTQUFmLEVBQTBCUixhQUExQixDQUFkOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBUyxPQUFPQyxPQUFQLEdBQWlCSCxPQUFqQiIsImZpbGUiOiJDZXJ2ZXphcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJylcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxudmFyIGNlcnZlemFTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgTm9tYnJlOiBTdHJpbmcsIFxuICBEZXNjcmlwY2nDs246IFN0cmluZywgXG4gIEdyYWR1YWNpb246IFN0cmluZyxcbiAgRW52YXNlOiBTdHJpbmcsXG4gIFByZWNpbzogU3RyaW5nIFxufSlcblxudmFyIENlcnZlemEgPSBtb25nb29zZS5tb2RlbCgnQ2VydmV6YScsIGNlcnZlemFTY2hlbWEpXG5cbi8qXG5cbkVzdG8gZGEgZXJyb3IgZW4gdXBkYXRlIHkgY3JlYXRlOlxuY2VydmV6YVNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgQ2VydmV6YS5jb3VudCh7Y2VydmV6YTogc2VsZi5uYW1lfSwgZnVuY3Rpb24gKGVyciwgY291bnQpIHtcbiAgICBpZiAoY291bnQ+MCl7XG4gICAgICBuZXh0KG5ldyBFcnJvcignwqFZYSBleGlzdGUgZXN0YSBjZXJ2ZXphIScpKVxuICAgIH1lbHNleyAgICAgICAgICAgICAgICBcbiAgICAgIG5leHQoKVxuICAgIH1cbiAgfSlcbn0pIFxuXG4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IENlcnZlemFcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Cervezas.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "cervezaSchema",
        "Nombre",
        "String",
        "Descripción",
        "Graduacion",
        "Envase",
        "Precio",
        "Cerveza",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,UAAQC,MADqB;AAE7BC,eAAaD,MAFgB;AAG7BE,cAAYF,MAHiB;AAI7BG,UAAQH,MAJqB;AAK7BI,UAAQJ;AALqB,CAAX,CAApB;;AAQA,IAAIK,UAAUV,SAASW,KAAT,CAAe,SAAf,EAA0BR,aAA1B,CAAd;;AAEA;;;;;;;;;;;;;;;;AAgBAS,OAAOC,OAAP,GAAiBH,OAAjB",
      "file": "Cervezas.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar cervezaSchema = new Schema({\n  Nombre: String, \n  Descripción: String, \n  Graduacion: String,\n  Envase: String,\n  Precio: String \n})\n\nvar Cerveza = mongoose.model('Cerveza', cervezaSchema)\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Cerveza\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/hello_world.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/hello_world.js",
      "filenameRelative": "/app/controllers/hello_world.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "hello_world.js",
      "sourceFileName": "hello_world.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "hello_world"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar util = require('util');\n\n/*\n  In the starter/skeleton project the 'get' operation on the '/hello' path has an operationId named 'hello'.  Here,\n  we specify that in the exports of this module that 'hello' maps to the function named 'hello'\n */\nmodule.exports = {\n  hello: hello\n};\n\n/*\n  Functions in a127 controllers used for operations should take two parameters:\n\n  Param 1: a handle to the request object\n  Param 2: a handle to the response object\n */\nfunction hello(req, res) {\n  // variables defined in the Swagger document can be referenced using req.swagger.params.{parameter_name}\n  var name = req.swagger.params.name.value || 'stranger';\n  var hello = util.format('Hello, %s!', name);\n\n  // this sends back a JSON response which is a single string\n  res.json(hello);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbGxvX3dvcmxkLmpzIl0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImhlbGxvIiwicmVxIiwicmVzIiwibmFtZSIsInN3YWdnZXIiLCJwYXJhbXMiLCJ2YWx1ZSIsImZvcm1hdCIsImpzb24iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLE9BQU9DLFFBQVEsTUFBUixDQUFYOztBQUVBOzs7O0FBSUFDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsU0FBT0E7QUFEUSxDQUFqQjs7QUFJQTs7Ozs7O0FBTUEsU0FBU0EsS0FBVCxDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUN2QjtBQUNBLE1BQUlDLE9BQU9GLElBQUlHLE9BQUosQ0FBWUMsTUFBWixDQUFtQkYsSUFBbkIsQ0FBd0JHLEtBQXhCLElBQWlDLFVBQTVDO0FBQ0EsTUFBSU4sUUFBUUosS0FBS1csTUFBTCxDQUFZLFlBQVosRUFBMEJKLElBQTFCLENBQVo7O0FBRUE7QUFDQUQsTUFBSU0sSUFBSixDQUFTUixLQUFUO0FBQ0QiLCJmaWxlIjoiaGVsbG9fd29ybGQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIid1c2Ugc3RyaWN0J1xuXG52YXIgdXRpbCA9IHJlcXVpcmUoJ3V0aWwnKVxuXG4vKlxuICBJbiB0aGUgc3RhcnRlci9za2VsZXRvbiBwcm9qZWN0IHRoZSAnZ2V0JyBvcGVyYXRpb24gb24gdGhlICcvaGVsbG8nIHBhdGggaGFzIGFuIG9wZXJhdGlvbklkIG5hbWVkICdoZWxsbycuICBIZXJlLFxuICB3ZSBzcGVjaWZ5IHRoYXQgaW4gdGhlIGV4cG9ydHMgb2YgdGhpcyBtb2R1bGUgdGhhdCAnaGVsbG8nIG1hcHMgdG8gdGhlIGZ1bmN0aW9uIG5hbWVkICdoZWxsbydcbiAqL1xubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGhlbGxvOiBoZWxsb1xufVxuXG4vKlxuICBGdW5jdGlvbnMgaW4gYTEyNyBjb250cm9sbGVycyB1c2VkIGZvciBvcGVyYXRpb25zIHNob3VsZCB0YWtlIHR3byBwYXJhbWV0ZXJzOlxuXG4gIFBhcmFtIDE6IGEgaGFuZGxlIHRvIHRoZSByZXF1ZXN0IG9iamVjdFxuICBQYXJhbSAyOiBhIGhhbmRsZSB0byB0aGUgcmVzcG9uc2Ugb2JqZWN0XG4gKi9cbmZ1bmN0aW9uIGhlbGxvKHJlcSwgcmVzKSB7XG4gIC8vIHZhcmlhYmxlcyBkZWZpbmVkIGluIHRoZSBTd2FnZ2VyIGRvY3VtZW50IGNhbiBiZSByZWZlcmVuY2VkIHVzaW5nIHJlcS5zd2FnZ2VyLnBhcmFtcy57cGFyYW1ldGVyX25hbWV9XG4gIHZhciBuYW1lID0gcmVxLnN3YWdnZXIucGFyYW1zLm5hbWUudmFsdWUgfHwgJ3N0cmFuZ2VyJ1xuICB2YXIgaGVsbG8gPSB1dGlsLmZvcm1hdCgnSGVsbG8sICVzIScsIG5hbWUpXG5cbiAgLy8gdGhpcyBzZW5kcyBiYWNrIGEgSlNPTiByZXNwb25zZSB3aGljaCBpcyBhIHNpbmdsZSBzdHJpbmdcbiAgcmVzLmpzb24oaGVsbG8pXG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "hello_world.js"
      ],
      "names": [
        "util",
        "require",
        "module",
        "exports",
        "hello",
        "req",
        "res",
        "name",
        "swagger",
        "params",
        "value",
        "format",
        "json"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEA;;;;AAIAC,OAAOC,OAAP,GAAiB;AACfC,SAAOA;AADQ,CAAjB;;AAIA;;;;;;AAMA,SAASA,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACvB;AACA,MAAIC,OAAOF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBF,IAAnB,CAAwBG,KAAxB,IAAiC,UAA5C;AACA,MAAIN,QAAQJ,KAAKW,MAAL,CAAY,YAAZ,EAA0BJ,IAA1B,CAAZ;;AAEA;AACAD,MAAIM,IAAJ,CAASR,KAAT;AACD",
      "file": "hello_world.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "'use strict'\n\nvar util = require('util')\n\n/*\n  In the starter/skeleton project the 'get' operation on the '/hello' path has an operationId named 'hello'.  Here,\n  we specify that in the exports of this module that 'hello' maps to the function named 'hello'\n */\nmodule.exports = {\n  hello: hello\n}\n\n/*\n  Functions in a127 controllers used for operations should take two parameters:\n\n  Param 1: a handle to the request object\n  Param 2: a handle to the response object\n */\nfunction hello(req, res) {\n  // variables defined in the Swagger document can be referenced using req.swagger.params.{parameter_name}\n  var name = req.swagger.params.name.value || 'stranger'\n  var hello = util.format('Hello, %s!', name)\n\n  // this sends back a JSON response which is a single string\n  res.json(hello)\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/keywords.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/keywords.js",
      "filenameRelative": "/app/controllers/keywords.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "keywords.js",
      "sourceFileName": "keywords.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "keywords"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Keywords = require('../models/Keyword');\nmodule.exports = {\n  getAll: function getAll(req, res) {\n    var language = req.swagger.params.language.value;\n    Keywords.findOne({ language: language }, function (err, keywords) {\n      if (err) {\n        return res.status(500).json({ error: err.message });\n      }\n      console.log(keywords);\n      return res.json(keywords);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtleXdvcmRzLmpzIl0sIm5hbWVzIjpbIktleXdvcmRzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXRBbGwiLCJyZXEiLCJyZXMiLCJsYW5ndWFnZSIsInN3YWdnZXIiLCJwYXJhbXMiLCJ2YWx1ZSIsImZpbmRPbmUiLCJlcnIiLCJrZXl3b3JkcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsbUJBQVIsQ0FBZjtBQUNBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZDLFVBQVEsZ0JBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN6QixRQUFJQyxXQUFXRixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJGLFFBQW5CLENBQTRCRyxLQUEzQztBQUNBVixhQUFTVyxPQUFULENBQWlCLEVBQUNKLGtCQUFELEVBQWpCLEVBQTZCLFVBQUNLLEdBQUQsRUFBTUMsUUFBTixFQUFtQjtBQUM5QyxVQUFHRCxHQUFILEVBQVE7QUFDTixlQUFPTixJQUFJUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ0MsT0FBT0osSUFBSUssT0FBWixFQUFyQixDQUFQO0FBQ0Q7QUFDREMsY0FBUUMsR0FBUixDQUFZTixRQUFaO0FBQ0EsYUFBT1AsSUFBSVMsSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQU5EO0FBT0Q7QUFWYyxDQUFqQiIsImZpbGUiOiJrZXl3b3Jkcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEtleXdvcmRzID0gcmVxdWlyZSgnLi4vbW9kZWxzL0tleXdvcmQnKVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldEFsbDogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgbGFuZ3VhZ2UgPSByZXEuc3dhZ2dlci5wYXJhbXMubGFuZ3VhZ2UudmFsdWVcbiAgICBLZXl3b3Jkcy5maW5kT25lKHtsYW5ndWFnZX0sIChlcnIsIGtleXdvcmRzKSA9PiB7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtlcnJvcjogZXJyLm1lc3NhZ2V9KVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2coa2V5d29yZHMpXG4gICAgICByZXR1cm4gcmVzLmpzb24oa2V5d29yZHMpXG4gICAgfSlcbiAgfVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "keywords.js"
      ],
      "names": [
        "Keywords",
        "require",
        "module",
        "exports",
        "getAll",
        "req",
        "res",
        "language",
        "swagger",
        "params",
        "value",
        "findOne",
        "err",
        "keywords",
        "status",
        "json",
        "error",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,mBAAR,CAAf;AACAC,OAAOC,OAAP,GAAiB;AACfC,UAAQ,gBAASC,GAAT,EAAcC,GAAd,EAAmB;AACzB,QAAIC,WAAWF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBF,QAAnB,CAA4BG,KAA3C;AACAV,aAASW,OAAT,CAAiB,EAACJ,kBAAD,EAAjB,EAA6B,UAACK,GAAD,EAAMC,QAAN,EAAmB;AAC9C,UAAGD,GAAH,EAAQ;AACN,eAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,OAAOJ,IAAIK,OAAZ,EAArB,CAAP;AACD;AACDC,cAAQC,GAAR,CAAYN,QAAZ;AACA,aAAOP,IAAIS,IAAJ,CAASF,QAAT,CAAP;AACD,KAND;AAOD;AAVc,CAAjB",
      "file": "keywords.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var Keywords = require('../models/Keyword')\nmodule.exports = {\n  getAll: function(req, res) {\n    var language = req.swagger.params.language.value\n    Keywords.findOne({language}, (err, keywords) => {\n      if(err) {\n        return res.status(500).json({error: err.message})\n      }\n      console.log(keywords)\n      return res.json(keywords)\n    })\n  }\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/models/Keyword.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/Keyword.js",
      "filenameRelative": "/app/models/Keyword.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Keyword.js",
      "sourceFileName": "Keyword.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Keyword"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar keywordSchema = new Schema({\n  locale: String,\n  keyword: String\n});\n\nvar Keyword = mongoose.model('Keyword', keywordSchema, 'keywords');\n\nmodule.exports = Keyword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIktleXdvcmQuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwia2V5d29yZFNjaGVtYSIsImxvY2FsZSIsIlN0cmluZyIsImtleXdvcmQiLCJLZXl3b3JkIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0YsU0FBU0UsTUFBdEI7O0FBRUEsSUFBSUMsZ0JBQWdCLElBQUlELE1BQUosQ0FBVztBQUM3QkUsVUFBUUMsTUFEcUI7QUFFN0JDLFdBQVNEO0FBRm9CLENBQVgsQ0FBcEI7O0FBS0EsSUFBSUUsVUFBVVAsU0FBU1EsS0FBVCxDQUFlLFNBQWYsRUFBMEJMLGFBQTFCLEVBQXlDLFVBQXpDLENBQWQ7O0FBRUFNLE9BQU9DLE9BQVAsR0FBaUJILE9BQWpCIiwiZmlsZSI6IktleXdvcmQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbnZhciBrZXl3b3JkU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIGxvY2FsZTogU3RyaW5nLCBcbiAga2V5d29yZDogU3RyaW5nXG59KVxuXG52YXIgS2V5d29yZCA9IG1vbmdvb3NlLm1vZGVsKCdLZXl3b3JkJywga2V5d29yZFNjaGVtYSwgJ2tleXdvcmRzJylcblxubW9kdWxlLmV4cG9ydHMgPSBLZXl3b3JkXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Keyword.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "keywordSchema",
        "locale",
        "String",
        "keyword",
        "Keyword",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,UAAQC,MADqB;AAE7BC,WAASD;AAFoB,CAAX,CAApB;;AAKA,IAAIE,UAAUP,SAASQ,KAAT,CAAe,SAAf,EAA0BL,aAA1B,EAAyC,UAAzC,CAAd;;AAEAM,OAAOC,OAAP,GAAiBH,OAAjB",
      "file": "Keyword.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar keywordSchema = new Schema({\n  locale: String, \n  keyword: String\n})\n\nvar Keyword = mongoose.model('Keyword', keywordSchema, 'keywords')\n\nmodule.exports = Keyword\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/materials.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "asyncToGenerator"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/materials.js",
      "filenameRelative": "/app/controllers/materials.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "materials.js",
      "sourceFileName": "materials.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "materials"
    },
    "ignored": false,
    "code": "'use strict';\n\nfunction _asyncToGenerator(fn) { return function () { var gen = fn.apply(this, arguments); return new Promise(function (resolve, reject) { function step(key, arg) { try { var info = gen[key](arg); var value = info.value; } catch (error) { reject(error); return; } if (info.done) { resolve(value); } else { return Promise.resolve(value).then(function (value) { step(\"next\", value); }, function (err) { step(\"throw\", err); }); } } return step(\"next\"); }); }; }\n\n// habrá que concatenar dos funciones asíncronas,\n// Una para recibir los ficheros (imagenes de materiales) del dir correspondiente\n// Otra que lee los datos en la bbdd\n// mandar json cuandto todo acabe:\n// https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j/37532027#37532027\n\nvar Materials = require('../models/Materials');\nvar config = require('../config');\nvar recursive = require('recursive-readdir');\nvar path = require('path');\nvar Promise = require('bluebird');\n\nmodule.exports = {\n  getMaterialById: function getMaterialById(req, res) {\n    var id = req.swagger.params.idMaterial.value;\n    // Use lean to get a plain JS object to modify it, instead of a full model instance\n    // Materials.findOne({idMaterial: id}, function(err, material){\n    Materials.findOne({ idMaterial: id }).lean().exec(function () {\n      var _ref = _asyncToGenerator(regeneratorRuntime.mark(function _callee(err, material) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!err) {\n                  _context.next = 2;\n                  break;\n                }\n\n                return _context.abrupt('return', res.status(500).json({\n                  message: 'Se ha producido un error al obtener el material',\n                  error: err\n                }));\n\n              case 2:\n                if (material) {\n                  _context.next = 4;\n                  break;\n                }\n\n                return _context.abrupt('return', res.status(404).json({\n                  message: 'No tenemos este material',\n                  err: err\n                }));\n\n              case 4:\n                _context.next = 6;\n                return getFiles(material);\n\n              case 6:\n                response = _context.sent;\n                return _context.abrupt('return', res.json(response));\n\n              case 8:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, undefined);\n      }));\n\n      return function (_x, _x2) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  },\n  // Materials.find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}}).sort({score:{$meta:'textScore'}}, function(err, materials) {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  searchMaterials: function searchMaterials(req, res) {\n    var locale = req.swagger.params.locale.value;\n    var searchText = req.swagger.params.searchText.value;\n    Materials.find({ $text: { $search: searchText, $language: locale } }, { score: { $meta: 'textScore' } }).sort({ 'score': { '$meta': 'textScore' } }).lean().exec(function () {\n      var _ref2 = _asyncToGenerator(regeneratorRuntime.mark(function _callee3(err, materials) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                if (!err) {\n                  _context3.next = 2;\n                  break;\n                }\n\n                return _context3.abrupt('return', res.status(500).json({\n                  message: 'Error buscando el material',\n                  error: err\n                }));\n\n              case 2:\n                if (!(materials.length === 0)) {\n                  _context3.next = 4;\n                  break;\n                }\n\n                return _context3.abrupt('return', res.status(404).json([]));\n\n              case 4:\n                _context3.next = 6;\n                return Promise.all(materials.map(function () {\n                  var _ref3 = _asyncToGenerator(regeneratorRuntime.mark(function _callee2(material) {\n                    return regeneratorRuntime.wrap(function _callee2$(_context2) {\n                      while (1) {\n                        switch (_context2.prev = _context2.next) {\n                          case 0:\n                            _context2.next = 2;\n                            return getFiles(material);\n\n                          case 2:\n                            return _context2.abrupt('return', _context2.sent);\n\n                          case 3:\n                          case 'end':\n                            return _context2.stop();\n                        }\n                      }\n                    }, _callee2, undefined);\n                  }));\n\n                  return function (_x5) {\n                    return _ref3.apply(this, arguments);\n                  };\n                }()) // not async&await as we want to get all material images in parallel\n                );\n\n              case 6:\n                response = _context3.sent;\n                return _context3.abrupt('return', res.json(response));\n\n              case 8:\n              case 'end':\n                return _context3.stop();\n            }\n          }\n        }, _callee3, undefined);\n      }));\n\n      return function (_x3, _x4) {\n        return _ref2.apply(this, arguments);\n      };\n    }());\n  },\n  getNewMaterials: function getNewMaterials(req, res) {\n    var days = req.swagger.params.days.value;\n    var startDate = new Date();\n    startDate.setDate(startDate.getDate() - days);\n    Materials.find({ lastUpdate: { $gt: startDate } }).sort({ lastUpdate: -1 }).lean().exec(function () {\n      var _ref4 = _asyncToGenerator(regeneratorRuntime.mark(function _callee5(err, materials) {\n        var response;\n        return regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!err) {\n                  _context5.next = 2;\n                  break;\n                }\n\n                return _context5.abrupt('return', res.status(500).json({\n                  message: 'Error buscando el material',\n                  error: err\n                }));\n\n              case 2:\n                if (!(materials.length === 0)) {\n                  _context5.next = 4;\n                  break;\n                }\n\n                return _context5.abrupt('return', res.status(404).json([]));\n\n              case 4:\n                _context5.next = 6;\n                return Promise.all(materials.map(function () {\n                  var _ref5 = _asyncToGenerator(regeneratorRuntime.mark(function _callee4(material) {\n                    return regeneratorRuntime.wrap(function _callee4$(_context4) {\n                      while (1) {\n                        switch (_context4.prev = _context4.next) {\n                          case 0:\n                            _context4.next = 2;\n                            return getFiles(material);\n\n                          case 2:\n                            return _context4.abrupt('return', _context4.sent);\n\n                          case 3:\n                          case 'end':\n                            return _context4.stop();\n                        }\n                      }\n                    }, _callee4, undefined);\n                  }));\n\n                  return function (_x8) {\n                    return _ref5.apply(this, arguments);\n                  };\n                }()) // not async&await as we want to get all material images in parallel\n                );\n\n              case 6:\n                response = _context5.sent;\n                return _context5.abrupt('return', res.json(response));\n\n              case 8:\n              case 'end':\n                return _context5.stop();\n            }\n          }\n        }, _callee5, undefined);\n      }));\n\n      return function (_x6, _x7) {\n        return _ref4.apply(this, arguments);\n      };\n    }());\n  },\n  listMaterials: function listMaterials(req, res) {\n    Materials.find(function (err, materials) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los materiales',\n          error: err\n        });\n      }\n      return res.json(materials);\n    });\n  },\n  showMaterials: function showMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findOne({ _id: id }, function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        });\n      }\n      if (!material) {\n        return res.status(404).json({\n          message: 'No tenemos este material',\n          err: err\n        });\n      }\n      return res.json(material);\n    });\n  },\n  createMaterials: function createMaterials(req, res) {\n    var material = new Materials(req.body);\n    material.save(function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error al guardar el material',\n          error: err\n        });\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: material._id\n      });\n    });\n  },\n  updateMaterials: function updateMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findOne({ _id: id }, function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el material',\n          error: err\n        });\n      }\n      if (!material) {\n        return res.status(404).json({\n          message: 'No hemos encontrado el material'\n        });\n      }\n      material.Nombre = req.body.nombre;\n      material.Descripción = req.body.descripcion;\n      material.Graduacion = req.body.graduacion;\n      material.Envase = req.body.envase;\n      material.Precio = req.body.precio;\n      material.save(function (err, material) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar el material'\n          });\n        }\n        if (!material) {\n          return res.status(404).json({\n            message: 'No hemos encontrado el material'\n          });\n        }\n        return res.json(material);\n      });\n    });\n  },\n  removeMaterials: function removeMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findByIdAndRemove(id, function (err, material) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el  material',\n          error: err\n        });\n      }\n      return res.json(material);\n    });\n  }\n};\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nvar initMaterial = function initMaterial(material) {\n  material.commonFiles = [];\n  material.screenshots = {};\n  material.commonScreenshots = [];\n  material.files = {};\n  material.file = {};\n};\n\nvar getFiles = function getFiles(material) {\n  initMaterial(material);\n  return new Promise(function (resolve) {\n    var materialLocales = [material.lang];\n    var baseDir = '' + config.materialsDir + path.sep + material.idMaterial + path.sep;\n    material.translations.map(function (translation) {\n      return materialLocales.push(translation.lang);\n    });\n    recursive(baseDir, function (err, files) {\n      // if err return material, if err is different from no screenshots dir, warning through console\n      if (err) err.code != 'ENOENT' && console.warn(err);\n      if (files != null) {\n        files.map(function (file) {\n          var relativeFile = file.replace(baseDir, '');\n          var fileName = path.basename(file);\n          if (fileName == 'index.html') return; // extra files from previous app\n          var dir = path.dirname(relativeFile);\n          var subdir = path.dirname(relativeFile).split(path.sep).pop();\n          if (dir === '.') {\n            //if file is tar.gz, put it inside file json  {es: xxx-es.tgz, fr: xxx.fr.tgz...}\n            var filePattern = new RegExp('^index-[A-z]{2,3}-[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}.tgz$', 'i');\n            if (filePattern.test(fileName)) {\n              var fileLocale = fileName.split('-')[1];\n              material.file[fileLocale] = fileName;\n            } else material.commonFiles.push(fileName);\n          } else if (dir.match(/screenshots_300$/)) material.commonScreenshots.push(fileName);else if (dir.match(/screenshots_300\\/[A-z]{2,3}$/)) material.screenshots[subdir] ? material.screenshots[subdir].push(fileName) : material.screenshots[subdir] = [fileName];else if (dir.match(/^[A-z]{2,3}$/)) material.files[subdir] ? material.files[subdir].push(fileName) : material.files[subdir] = [fileName];\n        });\n      }\n      resolve(material);\n    });\n  });\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFscy5qcyJdLCJuYW1lcyI6WyJNYXRlcmlhbHMiLCJyZXF1aXJlIiwiY29uZmlnIiwicmVjdXJzaXZlIiwicGF0aCIsIlByb21pc2UiLCJtb2R1bGUiLCJleHBvcnRzIiwiZ2V0TWF0ZXJpYWxCeUlkIiwicmVxIiwicmVzIiwiaWQiLCJzd2FnZ2VyIiwicGFyYW1zIiwiaWRNYXRlcmlhbCIsInZhbHVlIiwiZmluZE9uZSIsImxlYW4iLCJleGVjIiwiZXJyIiwibWF0ZXJpYWwiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImVycm9yIiwiZ2V0RmlsZXMiLCJyZXNwb25zZSIsInNlYXJjaE1hdGVyaWFscyIsImxvY2FsZSIsInNlYXJjaFRleHQiLCJmaW5kIiwiJHRleHQiLCIkc2VhcmNoIiwiJGxhbmd1YWdlIiwic2NvcmUiLCIkbWV0YSIsInNvcnQiLCJtYXRlcmlhbHMiLCJsZW5ndGgiLCJhbGwiLCJtYXAiLCJnZXROZXdNYXRlcmlhbHMiLCJkYXlzIiwic3RhcnREYXRlIiwiRGF0ZSIsInNldERhdGUiLCJnZXREYXRlIiwibGFzdFVwZGF0ZSIsIiRndCIsImxpc3RNYXRlcmlhbHMiLCJzaG93TWF0ZXJpYWxzIiwiX2lkIiwiY3JlYXRlTWF0ZXJpYWxzIiwiYm9keSIsInNhdmUiLCJ1cGRhdGVNYXRlcmlhbHMiLCJOb21icmUiLCJub21icmUiLCJEZXNjcmlwY2nDs24iLCJkZXNjcmlwY2lvbiIsIkdyYWR1YWNpb24iLCJncmFkdWFjaW9uIiwiRW52YXNlIiwiZW52YXNlIiwiUHJlY2lvIiwicHJlY2lvIiwicmVtb3ZlTWF0ZXJpYWxzIiwiZmluZEJ5SWRBbmRSZW1vdmUiLCJpc051bWVyaWMiLCJuIiwiaXNOYU4iLCJwYXJzZUZsb2F0IiwiaXNGaW5pdGUiLCJpbml0TWF0ZXJpYWwiLCJjb21tb25GaWxlcyIsInNjcmVlbnNob3RzIiwiY29tbW9uU2NyZWVuc2hvdHMiLCJmaWxlcyIsImZpbGUiLCJyZXNvbHZlIiwibWF0ZXJpYWxMb2NhbGVzIiwibGFuZyIsImJhc2VEaXIiLCJtYXRlcmlhbHNEaXIiLCJzZXAiLCJ0cmFuc2xhdGlvbnMiLCJ0cmFuc2xhdGlvbiIsInB1c2giLCJjb2RlIiwiY29uc29sZSIsIndhcm4iLCJyZWxhdGl2ZUZpbGUiLCJyZXBsYWNlIiwiZmlsZU5hbWUiLCJiYXNlbmFtZSIsImRpciIsImRpcm5hbWUiLCJzdWJkaXIiLCJzcGxpdCIsInBvcCIsImZpbGVQYXR0ZXJuIiwiUmVnRXhwIiwidGVzdCIsImZpbGVMb2NhbGUiLCJtYXRjaCJdLCJtYXBwaW5ncyI6Ijs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsSUFBSUEsWUFBWUMsUUFBUSxxQkFBUixDQUFoQjtBQUNBLElBQU1DLFNBQVNELFFBQVEsV0FBUixDQUFmO0FBQ0EsSUFBSUUsWUFBWUYsUUFBUSxtQkFBUixDQUFoQjtBQUNBLElBQUlHLE9BQU9ILFFBQVEsTUFBUixDQUFYO0FBQ0EsSUFBSUksVUFBVUosUUFBUSxVQUFSLENBQWQ7O0FBRUFLLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsbUJBQWlCLHlCQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM3QixRQUFJQyxLQUFLRixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJDLFVBQW5CLENBQThCQyxLQUF2QztBQUNBO0FBQ0E7QUFDQWYsY0FBVWdCLE9BQVYsQ0FBa0IsRUFBQ0YsWUFBWUgsRUFBYixFQUFsQixFQUFvQ00sSUFBcEMsR0FBMkNDLElBQTNDO0FBQUEsMkRBQWdELGlCQUFPQyxHQUFQLEVBQVlDLFFBQVo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEscUJBQzNDRCxHQUQyQztBQUFBO0FBQUE7QUFBQTs7QUFBQSxpREFFckNULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsMkJBQVMsaURBRGlCO0FBRTFCQyx5QkFBT0w7QUFGbUIsaUJBQXJCLENBRnFDOztBQUFBO0FBQUEsb0JBTzFDQyxRQVAwQztBQUFBO0FBQUE7QUFBQTs7QUFBQSxpREFRckNWLElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFzQjtBQUMzQkMsMkJBQVMsMEJBRGtCO0FBRTNCSjtBQUYyQixpQkFBdEIsQ0FScUM7O0FBQUE7QUFBQTtBQUFBLHVCQWN0Qk0sU0FBU0wsUUFBVCxDQWRzQjs7QUFBQTtBQWN4Q00sd0JBZHdDO0FBQUEsaURBZXZDaEIsSUFBSVksSUFBSixDQUFTSSxRQUFULENBZnVDOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLE9BQWhEOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBaUJELEdBdEJjO0FBdUJmO0FBQ0E7QUFDQUMsbUJBQWlCLHlCQUFDbEIsR0FBRCxFQUFNQyxHQUFOLEVBQWM7QUFDN0IsUUFBSWtCLFNBQVNuQixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJlLE1BQW5CLENBQTBCYixLQUF2QztBQUNBLFFBQUljLGFBQWFwQixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJnQixVQUFuQixDQUE4QmQsS0FBL0M7QUFDQWYsY0FDRzhCLElBREgsQ0FDUSxFQUFFQyxPQUFPLEVBQUVDLFNBQVNILFVBQVgsRUFBdUJJLFdBQVdMLE1BQWxDLEVBQVQsRUFEUixFQUMrRCxFQUFDTSxPQUFPLEVBQUNDLE9BQU8sV0FBUixFQUFSLEVBRC9ELEVBRUdDLElBRkgsQ0FFUSxFQUFDLFNBQVMsRUFBRSxTQUFTLFdBQVgsRUFBVixFQUZSLEVBR0duQixJQUhILEdBSUdDLElBSkg7QUFBQSw0REFJUyxrQkFBT0MsR0FBUCxFQUFZa0IsU0FBWjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFDRmxCLEdBREU7QUFBQTtBQUFBO0FBQUE7O0FBQUEsa0RBRUlULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsMkJBQVMsNEJBRGlCO0FBRTFCQyx5QkFBT0w7QUFGbUIsaUJBQXJCLENBRko7O0FBQUE7QUFBQSxzQkFRRGtCLFVBQVVDLE1BQVYsS0FBbUIsQ0FSbEI7QUFBQTtBQUFBO0FBQUE7O0FBQUEsa0RBUTRCNUIsSUFBSVcsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQXJCLENBUjVCOztBQUFBO0FBQUE7QUFBQSx1QkFTa0JqQixRQUFRa0MsR0FBUixDQUNyQkYsVUFBVUcsR0FBVjtBQUFBLHdFQUFlLGtCQUFPcEIsUUFBUDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQ0FBMkJLLFNBQVNMLFFBQVQsQ0FBM0I7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFBZjs7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQkFEcUIsQ0FDMEM7QUFEMUMsaUJBVGxCOztBQUFBO0FBU0NNLHdCQVREO0FBQUEsa0RBWUVoQixJQUFJWSxJQUFKLENBQVNJLFFBQVQsQ0FaRjs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUpUOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBa0JELEdBOUNjO0FBK0NmZSxtQkFBaUIseUJBQUNoQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUM3QixRQUFJZ0MsT0FBT2pDLElBQUlHLE9BQUosQ0FBWUMsTUFBWixDQUFtQjZCLElBQW5CLENBQXdCM0IsS0FBbkM7QUFDQSxRQUFJNEIsWUFBWSxJQUFJQyxJQUFKLEVBQWhCO0FBQ0FELGNBQVVFLE9BQVYsQ0FBa0JGLFVBQVVHLE9BQVYsS0FBc0JKLElBQXhDO0FBQ0ExQyxjQUNHOEIsSUFESCxDQUNRLEVBQUNpQixZQUFZLEVBQUNDLEtBQUtMLFNBQU4sRUFBYixFQURSLEVBRUdQLElBRkgsQ0FFUSxFQUFDVyxZQUFZLENBQUMsQ0FBZCxFQUZSLEVBR0c5QixJQUhILEdBSUdDLElBSkg7QUFBQSw0REFJUSxrQkFBTUMsR0FBTixFQUFXa0IsU0FBWDtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxxQkFDQWxCLEdBREE7QUFBQTtBQUFBO0FBQUE7O0FBQUEsa0RBRUtULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsMkJBQVMsNEJBRGlCO0FBRTFCQyx5QkFBT0w7QUFGbUIsaUJBQXJCLENBRkw7O0FBQUE7QUFBQSxzQkFRQWtCLFVBQVVDLE1BQVYsS0FBcUIsQ0FSckI7QUFBQTtBQUFBO0FBQUE7O0FBQUEsa0RBUStCNUIsSUFBSVcsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCLEVBQXJCLENBUi9COztBQUFBO0FBQUE7QUFBQSx1QkFTbUJqQixRQUFRa0MsR0FBUixDQUNyQkYsVUFBVUcsR0FBVjtBQUFBLHdFQUFjLGtCQUFNcEIsUUFBTjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQ0FBMEJLLFNBQVNMLFFBQVQsQ0FBMUI7O0FBQUE7QUFBQTs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxtQkFBZDs7QUFBQTtBQUFBO0FBQUE7QUFBQSxvQkFEcUIsQ0FDd0M7QUFEeEMsaUJBVG5COztBQUFBO0FBU0VNLHdCQVRGO0FBQUEsa0RBWUdoQixJQUFJWSxJQUFKLENBQVNJLFFBQVQsQ0FaSDs7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxPQUpSOztBQUFBO0FBQUE7QUFBQTtBQUFBO0FBa0JELEdBckVjO0FBc0VmdUIsaUJBQWUsdUJBQVN4QyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDaENWLGNBQVU4QixJQUFWLENBQWUsVUFBU1gsR0FBVCxFQUFja0IsU0FBZCxFQUF3QjtBQUNyQyxVQUFHbEIsR0FBSCxFQUFRO0FBQ04sZUFBT1QsSUFBSVcsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxtQkFBUyxpQ0FEaUI7QUFFMUJDLGlCQUFPTDtBQUZtQixTQUFyQixDQUFQO0FBSUQ7QUFDRCxhQUFPVCxJQUFJWSxJQUFKLENBQVNlLFNBQVQsQ0FBUDtBQUNELEtBUkQ7QUFTRCxHQWhGYztBQWlGZmEsaUJBQWUsdUJBQVN6QyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDaEMsUUFBSUMsS0FBS0YsSUFBSUksTUFBSixDQUFXRixFQUFwQjtBQUNBWCxjQUFVZ0IsT0FBVixDQUFrQixFQUFDbUMsS0FBS3hDLEVBQU4sRUFBbEIsRUFBNkIsVUFBU1EsR0FBVCxFQUFjQyxRQUFkLEVBQXVCO0FBQ2xELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9ULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVMsaURBRGlCO0FBRTFCQyxpQkFBT0w7QUFGbUIsU0FBckIsQ0FBUDtBQUlEO0FBQ0QsVUFBRyxDQUFDQyxRQUFKLEVBQWM7QUFDWixlQUFPVixJQUFJVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0I7QUFDM0JDLG1CQUFTLDBCQURrQjtBQUUzQko7QUFGMkIsU0FBdEIsQ0FBUDtBQUlEO0FBQ0QsYUFBT1QsSUFBSVksSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQWREO0FBZUQsR0FsR2M7QUFtR2ZnQyxtQkFBaUIseUJBQVMzQyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDbEMsUUFBSVUsV0FBVyxJQUFJcEIsU0FBSixDQUFlUyxJQUFJNEMsSUFBbkIsQ0FBZjtBQUNBakMsYUFBU2tDLElBQVQsQ0FBYyxVQUFTbkMsR0FBVCxFQUFjQyxRQUFkLEVBQXVCO0FBQ25DLFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9ULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFzQjtBQUMzQkMsbUJBQVMsOEJBRGtCO0FBRTNCQyxpQkFBT0w7QUFGb0IsU0FBdEIsQ0FBUDtBQUlEO0FBQ0QsYUFBT1QsSUFBSVcsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxpQkFBUyxPQURpQjtBQUUxQjRCLGFBQUsvQixTQUFTK0I7QUFGWSxPQUFyQixDQUFQO0FBSUQsS0FYRDtBQVlELEdBakhjO0FBa0hmSSxtQkFBaUIseUJBQVM5QyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDbEMsUUFBSUMsS0FBS0YsSUFBSUksTUFBSixDQUFXRixFQUFwQjtBQUNBWCxjQUFVZ0IsT0FBVixDQUFrQixFQUFDbUMsS0FBS3hDLEVBQU4sRUFBbEIsRUFBNkIsVUFBU1EsR0FBVCxFQUFjQyxRQUFkLEVBQXVCO0FBQ2xELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9ULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVMsaURBRGlCO0FBRTFCQyxpQkFBT0w7QUFGbUIsU0FBckIsQ0FBUDtBQUlEO0FBQ0QsVUFBRyxDQUFDQyxRQUFKLEVBQWM7QUFDWixlQUFPVixJQUFJVyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDMUJDLG1CQUFTO0FBRGlCLFNBQXJCLENBQVA7QUFHRDtBQUNESCxlQUFTb0MsTUFBVCxHQUFrQi9DLElBQUk0QyxJQUFKLENBQVNJLE1BQTNCO0FBQ0FyQyxlQUFTc0MsV0FBVCxHQUF3QmpELElBQUk0QyxJQUFKLENBQVNNLFdBQWpDO0FBQ0F2QyxlQUFTd0MsVUFBVCxHQUFzQm5ELElBQUk0QyxJQUFKLENBQVNRLFVBQS9CO0FBQ0F6QyxlQUFTMEMsTUFBVCxHQUFrQnJELElBQUk0QyxJQUFKLENBQVNVLE1BQTNCO0FBQ0EzQyxlQUFTNEMsTUFBVCxHQUFrQnZELElBQUk0QyxJQUFKLENBQVNZLE1BQTNCO0FBQ0E3QyxlQUFTa0MsSUFBVCxDQUFjLFVBQVNuQyxHQUFULEVBQWNDLFFBQWQsRUFBdUI7QUFDbkMsWUFBR0QsR0FBSCxFQUFRO0FBQ04saUJBQU9ULElBQUlXLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMscUJBQVM7QUFEaUIsV0FBckIsQ0FBUDtBQUdEO0FBQ0QsWUFBRyxDQUFDSCxRQUFKLEVBQWM7QUFDWixpQkFBT1YsSUFBSVcsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxlQUFPYixJQUFJWSxJQUFKLENBQVNGLFFBQVQsQ0FBUDtBQUNELE9BWkQ7QUFhRCxLQTlCRDtBQStCRCxHQW5KYztBQW9KZjhDLG1CQUFpQix5QkFBU3pELEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNsQyxRQUFJQyxLQUFLRixJQUFJSSxNQUFKLENBQVdGLEVBQXBCO0FBQ0FYLGNBQVVtRSxpQkFBVixDQUE0QnhELEVBQTVCLEVBQWdDLFVBQVNRLEdBQVQsRUFBY0MsUUFBZCxFQUF1QjtBQUNyRCxVQUFHRCxHQUFILEVBQVE7QUFDTixlQUFPVCxJQUFJWSxJQUFKLENBQVMsR0FBVCxFQUFjO0FBQ25CQyxtQkFBUyxrQ0FEVTtBQUVuQkMsaUJBQU9MO0FBRlksU0FBZCxDQUFQO0FBSUQ7QUFDRCxhQUFPVCxJQUFJWSxJQUFKLENBQVNGLFFBQVQsQ0FBUDtBQUNELEtBUkQ7QUFTRDtBQS9KYyxDQUFqQjs7QUFvS0EsU0FBU2dELFNBQVQsQ0FBbUJDLENBQW5CLEVBQXNCO0FBQ3BCLFNBQU8sQ0FBQ0MsTUFBTUMsV0FBV0YsQ0FBWCxDQUFOLENBQUQsSUFBeUJHLFNBQVNILENBQVQsQ0FBaEM7QUFDRDs7QUFFRCxJQUFNSSxlQUFlLFNBQWZBLFlBQWUsQ0FBQ3JELFFBQUQsRUFBYztBQUNqQ0EsV0FBU3NELFdBQVQsR0FBcUIsRUFBckI7QUFDQXRELFdBQVN1RCxXQUFULEdBQXFCLEVBQXJCO0FBQ0F2RCxXQUFTd0QsaUJBQVQsR0FBMkIsRUFBM0I7QUFDQXhELFdBQVN5RCxLQUFULEdBQWUsRUFBZjtBQUNBekQsV0FBUzBELElBQVQsR0FBYyxFQUFkO0FBQ0QsQ0FORDs7QUFRQSxJQUFNckQsV0FBVyxTQUFYQSxRQUFXLENBQUNMLFFBQUQsRUFBYztBQUM3QnFELGVBQWFyRCxRQUFiO0FBQ0EsU0FBTyxJQUFJZixPQUFKLENBQWEsVUFBQzBFLE9BQUQsRUFBYTtBQUMvQixRQUFJQyxrQkFBZ0IsQ0FBQzVELFNBQVM2RCxJQUFWLENBQXBCO0FBQ0EsUUFBSUMsZUFBYWhGLE9BQU9pRixZQUFwQixHQUFtQy9FLEtBQUtnRixHQUF4QyxHQUE4Q2hFLFNBQVNOLFVBQXZELEdBQW9FVixLQUFLZ0YsR0FBN0U7QUFDQWhFLGFBQVNpRSxZQUFULENBQXNCN0MsR0FBdEIsQ0FBMEIsVUFBQzhDLFdBQUQ7QUFBQSxhQUFlTixnQkFBZ0JPLElBQWhCLENBQXFCRCxZQUFZTCxJQUFqQyxDQUFmO0FBQUEsS0FBMUI7QUFDQTlFLGNBQVUrRSxPQUFWLEVBQW1CLFVBQUMvRCxHQUFELEVBQU0wRCxLQUFOLEVBQWdCO0FBQ2pDO0FBQ0EsVUFBSTFELEdBQUosRUFBU0EsSUFBSXFFLElBQUosSUFBWSxRQUFaLElBQXdCQyxRQUFRQyxJQUFSLENBQWN2RSxHQUFkLENBQXhCO0FBQ1QsVUFBSTBELFNBQVMsSUFBYixFQUFtQjtBQUNqQkEsY0FBTXJDLEdBQU4sQ0FBVSxnQkFBTztBQUNmLGNBQUltRCxlQUFlYixLQUFLYyxPQUFMLENBQWFWLE9BQWIsRUFBc0IsRUFBdEIsQ0FBbkI7QUFDQSxjQUFJVyxXQUFXekYsS0FBSzBGLFFBQUwsQ0FBY2hCLElBQWQsQ0FBZjtBQUNBLGNBQUllLFlBQVUsWUFBZCxFQUE0QixPQUhiLENBR29CO0FBQ25DLGNBQUlFLE1BQU0zRixLQUFLNEYsT0FBTCxDQUFhTCxZQUFiLENBQVY7QUFDQSxjQUFJTSxTQUFTN0YsS0FBSzRGLE9BQUwsQ0FBYUwsWUFBYixFQUEyQk8sS0FBM0IsQ0FBaUM5RixLQUFLZ0YsR0FBdEMsRUFBMkNlLEdBQTNDLEVBQWI7QUFDQSxjQUFJSixRQUFNLEdBQVYsRUFBYztBQUNaO0FBQ0EsZ0JBQUlLLGNBQWMsSUFBSUMsTUFBSixDQUFXLDhGQUFYLEVBQTJHLEdBQTNHLENBQWxCO0FBQ0EsZ0JBQUlELFlBQVlFLElBQVosQ0FBaUJULFFBQWpCLENBQUosRUFBZ0M7QUFDOUIsa0JBQUlVLGFBQWFWLFNBQVNLLEtBQVQsQ0FBZSxHQUFmLEVBQW9CLENBQXBCLENBQWpCO0FBQ0E5RSx1QkFBUzBELElBQVQsQ0FBY3lCLFVBQWQsSUFBMEJWLFFBQTFCO0FBQ0QsYUFIRCxNQUdPekUsU0FBU3NELFdBQVQsQ0FBcUJhLElBQXJCLENBQTBCTSxRQUExQjtBQUNSLFdBUEQsTUFRSyxJQUFJRSxJQUFJUyxLQUFKLENBQVUsa0JBQVYsQ0FBSixFQUFtQ3BGLFNBQVN3RCxpQkFBVCxDQUEyQlcsSUFBM0IsQ0FBZ0NNLFFBQWhDLEVBQW5DLEtBQ0EsSUFBSUUsSUFBSVMsS0FBSixDQUFVLDhCQUFWLENBQUosRUFDSHBGLFNBQVN1RCxXQUFULENBQXFCc0IsTUFBckIsSUFDRTdFLFNBQVN1RCxXQUFULENBQXFCc0IsTUFBckIsRUFBNkJWLElBQTdCLENBQWtDTSxRQUFsQyxDQURGLEdBRUV6RSxTQUFTdUQsV0FBVCxDQUFxQnNCLE1BQXJCLElBQStCLENBQUNKLFFBQUQsQ0FGakMsQ0FERyxLQUlBLElBQUlFLElBQUlTLEtBQUosQ0FBVSxjQUFWLENBQUosRUFDSHBGLFNBQVN5RCxLQUFULENBQWVvQixNQUFmLElBQ0U3RSxTQUFTeUQsS0FBVCxDQUFlb0IsTUFBZixFQUF1QlYsSUFBdkIsQ0FBNkJNLFFBQTdCLENBREYsR0FFSXpFLFNBQVN5RCxLQUFULENBQWVvQixNQUFmLElBQXlCLENBQUNKLFFBQUQsQ0FGN0I7QUFHSCxTQXZCRDtBQXdCRDtBQUNEZCxjQUFRM0QsUUFBUjtBQUNELEtBOUJEO0FBK0JELEdBbkNNLENBQVA7QUFvQ0QsQ0F0Q0QiLCJmaWxlIjoibWF0ZXJpYWxzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBoYWJyw6EgcXVlIGNvbmNhdGVuYXIgZG9zIGZ1bmNpb25lcyBhc8OtbmNyb25hcyxcbi8vIFVuYSBwYXJhIHJlY2liaXIgbG9zIGZpY2hlcm9zIChpbWFnZW5lcyBkZSBtYXRlcmlhbGVzKSBkZWwgZGlyIGNvcnJlc3BvbmRpZW50ZVxuLy8gT3RyYSBxdWUgbGVlIGxvcyBkYXRvcyBlbiBsYSBiYmRkXG4vLyBtYW5kYXIganNvbiBjdWFuZHRvIHRvZG8gYWNhYmU6XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yNzI3MTY3L2hvdy1kby15b3UtZ2V0LWEtbGlzdC1vZi10aGUtbmFtZXMtb2YtYWxsLWZpbGVzLXByZXNlbnQtaW4tYS1kaXJlY3RvcnktaW4tbm9kZS1qLzM3NTMyMDI3IzM3NTMyMDI3XG5cbnZhciBNYXRlcmlhbHMgPSByZXF1aXJlKCcuLi9tb2RlbHMvTWF0ZXJpYWxzJylcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZycpXG52YXIgcmVjdXJzaXZlID0gcmVxdWlyZSgncmVjdXJzaXZlLXJlYWRkaXInKVxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJylcbnZhciBQcm9taXNlID0gcmVxdWlyZSgnYmx1ZWJpcmQnKVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgZ2V0TWF0ZXJpYWxCeUlkOiAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgaWQgPSByZXEuc3dhZ2dlci5wYXJhbXMuaWRNYXRlcmlhbC52YWx1ZVxuICAgIC8vIFVzZSBsZWFuIHRvIGdldCBhIHBsYWluIEpTIG9iamVjdCB0byBtb2RpZnkgaXQsIGluc3RlYWQgb2YgYSBmdWxsIG1vZGVsIGluc3RhbmNlXG4gICAgLy8gTWF0ZXJpYWxzLmZpbmRPbmUoe2lkTWF0ZXJpYWw6IGlkfSwgZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgTWF0ZXJpYWxzLmZpbmRPbmUoe2lkTWF0ZXJpYWw6IGlkfSkubGVhbigpLmV4ZWMoYXN5bmMgKGVyciwgbWF0ZXJpYWwpID0+IHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgb2J0ZW5lciBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIW1hdGVyaWFsKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyB0ZW5lbW9zIGVzdGUgbWF0ZXJpYWwnLFxuICAgICAgICAgIGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgLy8gZ2V0SW1hZ2VzKG1hdGVyaWFsLCAoKT0+KHJlcy5qc29uKG1hdGVyaWFsKSkpXG4gICAgICBjb25zdCByZXNwb25zZSA9ICBhd2FpdCBnZXRGaWxlcyhtYXRlcmlhbClcbiAgICAgIHJldHVybiByZXMuanNvbihyZXNwb25zZSlcbiAgICB9KVxuICB9LFxuICAvLyBNYXRlcmlhbHMuZmluZCh7ICR0ZXh0OiB7ICRzZWFyY2g6IHNlYXJjaFRleHQsICRsYW5ndWFnZTogbG9jYWxlIH0gfSwge3Njb3JlOiB7JG1ldGE6ICd0ZXh0U2NvcmUnfX0pLnNvcnQoe3Njb3JlOnskbWV0YTondGV4dFNjb3JlJ319LCBmdW5jdGlvbihlcnIsIG1hdGVyaWFscykge1xuICAvLyBodHRwczovL2RvY3MubW9uZ29kYi5jb20vdjMuMC9yZWZlcmVuY2Uvb3BlcmF0b3IvcXVlcnkvdGV4dC9cbiAgc2VhcmNoTWF0ZXJpYWxzOiAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgbG9jYWxlID0gcmVxLnN3YWdnZXIucGFyYW1zLmxvY2FsZS52YWx1ZVxuICAgIHZhciBzZWFyY2hUZXh0ID0gcmVxLnN3YWdnZXIucGFyYW1zLnNlYXJjaFRleHQudmFsdWVcbiAgICBNYXRlcmlhbHNcbiAgICAgIC5maW5kKHsgJHRleHQ6IHsgJHNlYXJjaDogc2VhcmNoVGV4dCwgJGxhbmd1YWdlOiBsb2NhbGUgfSB9LCB7c2NvcmU6IHskbWV0YTogJ3RleHRTY29yZSd9fSlcbiAgICAgIC5zb3J0KHsnc2NvcmUnOiB7ICckbWV0YSc6ICd0ZXh0U2NvcmUnfSB9KVxuICAgICAgLmxlYW4oKVxuICAgICAgLmV4ZWMgKGFzeW5jIChlcnIsIG1hdGVyaWFscykgPT4ge1xuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGJ1c2NhbmRvIGVsIG1hdGVyaWFsJyxcbiAgICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgICB9KVxuICAgICAgICB9IFxuICAgICAgICAvLyBpZiBubyBpdGVtcywgcmV0dXJuIGVtcHR5IGFycmF5XG4gICAgICAgIGlmIChtYXRlcmlhbHMubGVuZ3RoPT09MCkgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKFtdKSAvL3NlbmQgaHR0cCBjb2RlIDQwNCEhIVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IFByb21pc2UuYWxsKFxuICAgICAgICAgIG1hdGVyaWFscy5tYXAoIGFzeW5jIChtYXRlcmlhbCkgPT4gKGF3YWl0IGdldEZpbGVzKG1hdGVyaWFsKSkpIC8vIG5vdCBhc3luYyZhd2FpdCBhcyB3ZSB3YW50IHRvIGdldCBhbGwgbWF0ZXJpYWwgaW1hZ2VzIGluIHBhcmFsbGVsXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3BvbnNlKVxuICAgICAgfSlcbiAgfSxcbiAgZ2V0TmV3TWF0ZXJpYWxzOiAocmVxLCByZXMpID0+IHtcbiAgICBsZXQgZGF5cyA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5kYXlzLnZhbHVlXG4gICAgbGV0IHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKClcbiAgICBzdGFydERhdGUuc2V0RGF0ZShzdGFydERhdGUuZ2V0RGF0ZSgpIC0gZGF5cylcbiAgICBNYXRlcmlhbHNcbiAgICAgIC5maW5kKHtsYXN0VXBkYXRlOiB7JGd0OiBzdGFydERhdGV9fSlcbiAgICAgIC5zb3J0KHtsYXN0VXBkYXRlOiAtMX0pXG4gICAgICAubGVhbigpXG4gICAgICAuZXhlYyhhc3luYyhlcnIsIG1hdGVyaWFscykgPT4ge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBidXNjYW5kbyBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICAvLyBpZiBubyBpdGVtcywgcmV0dXJuIGVtcHR5IGFycmF5XG4gICAgICAgIGlmIChtYXRlcmlhbHMubGVuZ3RoID09PSAwKSByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oW10pIC8vc2VuZCBodHRwIGNvZGUgNDA0ISEhXG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgICAgICAgbWF0ZXJpYWxzLm1hcChhc3luYyhtYXRlcmlhbCkgPT4gKGF3YWl0IGdldEZpbGVzKG1hdGVyaWFsKSkpIC8vIG5vdCBhc3luYyZhd2FpdCBhcyB3ZSB3YW50IHRvIGdldCBhbGwgbWF0ZXJpYWwgaW1hZ2VzIGluIHBhcmFsbGVsXG4gICAgICAgIClcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHJlc3BvbnNlKVxuICAgICAgfSlcbiAgfSxcbiAgbGlzdE1hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBNYXRlcmlhbHMuZmluZChmdW5jdGlvbihlcnIsIG1hdGVyaWFscyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3Igb2J0ZW5pZW5kbyBsb3MgbWF0ZXJpYWxlcycsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKG1hdGVyaWFscylcbiAgICB9KVxuICB9LFxuICBzaG93TWF0ZXJpYWxzOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBNYXRlcmlhbHMuZmluZE9uZSh7X2lkOiBpZH0sIGZ1bmN0aW9uKGVyciwgbWF0ZXJpYWwpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1NlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBhbCBvYnRlbmVyIGVsIG1hdGVyaWFsJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighbWF0ZXJpYWwpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIHRlbmVtb3MgZXN0ZSBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgfSlcbiAgfSxcbiAgY3JlYXRlTWF0ZXJpYWxzOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbHMgKHJlcS5ib2R5KVxuICAgIG1hdGVyaWFsLnNhdmUoZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKCB7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGFsIGd1YXJkYXIgZWwgbWF0ZXJpYWwnLFxuICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdzYXZlZCcsXG4gICAgICAgIF9pZDogbWF0ZXJpYWwuX2lkXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG4gIHVwZGF0ZU1hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgTWF0ZXJpYWxzLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIG1hdGVyaWFsKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgZ3VhcmRhciBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIW1hdGVyaWFsKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgbWF0ZXJpYWwnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBtYXRlcmlhbC5Ob21icmUgPSByZXEuYm9keS5ub21icmVcbiAgICAgIG1hdGVyaWFsLkRlc2NyaXBjacOzbiA9ICByZXEuYm9keS5kZXNjcmlwY2lvblxuICAgICAgbWF0ZXJpYWwuR3JhZHVhY2lvbiA9IHJlcS5ib2R5LmdyYWR1YWNpb25cbiAgICAgIG1hdGVyaWFsLkVudmFzZSA9IHJlcS5ib2R5LmVudmFzZVxuICAgICAgbWF0ZXJpYWwuUHJlY2lvID0gcmVxLmJvZHkucHJlY2lvXG4gICAgICBtYXRlcmlhbC5zYXZlKGZ1bmN0aW9uKGVyciwgbWF0ZXJpYWwpe1xuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGFsIGd1YXJkYXIgZWwgbWF0ZXJpYWwnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZighbWF0ZXJpYWwpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgbWF0ZXJpYWwnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG4gIHJlbW92ZU1hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgTWF0ZXJpYWxzLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbihlcnIsIG1hdGVyaWFsKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oNTAwLCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgIG1hdGVyaWFsJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgfSlcbiAgfVxufVxuXG5cblxuZnVuY3Rpb24gaXNOdW1lcmljKG4pIHtcbiAgcmV0dXJuICFpc05hTihwYXJzZUZsb2F0KG4pKSAmJiBpc0Zpbml0ZShuKTtcbn1cblxuY29uc3QgaW5pdE1hdGVyaWFsID0gKG1hdGVyaWFsKSA9PiB7XG4gIG1hdGVyaWFsLmNvbW1vbkZpbGVzPVtdXG4gIG1hdGVyaWFsLnNjcmVlbnNob3RzPXt9XG4gIG1hdGVyaWFsLmNvbW1vblNjcmVlbnNob3RzPVtdXG4gIG1hdGVyaWFsLmZpbGVzPXt9XG4gIG1hdGVyaWFsLmZpbGU9e31cbn1cblxuY29uc3QgZ2V0RmlsZXMgPSAobWF0ZXJpYWwpID0+IHtcbiAgaW5pdE1hdGVyaWFsKG1hdGVyaWFsKVxuICByZXR1cm4gbmV3IFByb21pc2UgKChyZXNvbHZlKSA9PiB7XG4gICAgbGV0IG1hdGVyaWFsTG9jYWxlcz1bbWF0ZXJpYWwubGFuZ11cbiAgICBsZXQgYmFzZURpciA9IGAke2NvbmZpZy5tYXRlcmlhbHNEaXJ9JHtwYXRoLnNlcH0ke21hdGVyaWFsLmlkTWF0ZXJpYWx9JHtwYXRoLnNlcH1gXG4gICAgbWF0ZXJpYWwudHJhbnNsYXRpb25zLm1hcCgodHJhbnNsYXRpb24pPT5tYXRlcmlhbExvY2FsZXMucHVzaCh0cmFuc2xhdGlvbi5sYW5nKSlcbiAgICByZWN1cnNpdmUoYmFzZURpciwgKGVyciwgZmlsZXMpID0+IHtcbiAgICAgIC8vIGlmIGVyciByZXR1cm4gbWF0ZXJpYWwsIGlmIGVyciBpcyBkaWZmZXJlbnQgZnJvbSBubyBzY3JlZW5zaG90cyBkaXIsIHdhcm5pbmcgdGhyb3VnaCBjb25zb2xlXG4gICAgICBpZiAoZXJyKSBlcnIuY29kZSAhPSAnRU5PRU5UJyAmJiBjb25zb2xlLndhcm4gKGVycikgXG4gICAgICBpZiAoZmlsZXMgIT0gbnVsbCkge1xuICAgICAgICBmaWxlcy5tYXAoZmlsZSA9PntcbiAgICAgICAgICBsZXQgcmVsYXRpdmVGaWxlID0gZmlsZS5yZXBsYWNlKGJhc2VEaXIsICcnKVxuICAgICAgICAgIGxldCBmaWxlTmFtZSA9IHBhdGguYmFzZW5hbWUoZmlsZSlcbiAgICAgICAgICBpZiAoZmlsZU5hbWU9PSdpbmRleC5odG1sJykgcmV0dXJuIC8vIGV4dHJhIGZpbGVzIGZyb20gcHJldmlvdXMgYXBwXG4gICAgICAgICAgbGV0IGRpciA9IHBhdGguZGlybmFtZShyZWxhdGl2ZUZpbGUpXG4gICAgICAgICAgbGV0IHN1YmRpciA9IHBhdGguZGlybmFtZShyZWxhdGl2ZUZpbGUpLnNwbGl0KHBhdGguc2VwKS5wb3AoKVxuICAgICAgICAgIGlmIChkaXI9PT0nLicpe1xuICAgICAgICAgICAgLy9pZiBmaWxlIGlzIHRhci5neiwgcHV0IGl0IGluc2lkZSBmaWxlIGpzb24gIHtlczogeHh4LWVzLnRneiwgZnI6IHh4eC5mci50Z3ouLi59XG4gICAgICAgICAgICBsZXQgZmlsZVBhdHRlcm4gPSBuZXcgUmVnRXhwKCdeaW5kZXgtW0Etel17MiwzfS1bMC05QS1GXXs4fS1bMC05QS1GXXs0fS1bNF1bMC05QS1GXXszfS1bODlBQl1bMC05QS1GXXszfS1bMC05QS1GXXsxMn0udGd6JCcsICdpJylcbiAgICAgICAgICAgIGlmIChmaWxlUGF0dGVybi50ZXN0KGZpbGVOYW1lKSkge1xuICAgICAgICAgICAgICBsZXQgZmlsZUxvY2FsZSA9IGZpbGVOYW1lLnNwbGl0KCctJylbMV1cbiAgICAgICAgICAgICAgbWF0ZXJpYWwuZmlsZVtmaWxlTG9jYWxlXT1maWxlTmFtZVxuICAgICAgICAgICAgfSBlbHNlIG1hdGVyaWFsLmNvbW1vbkZpbGVzLnB1c2goZmlsZU5hbWUpXG4gICAgICAgICAgfSBcbiAgICAgICAgICBlbHNlIGlmIChkaXIubWF0Y2goL3NjcmVlbnNob3RzXzMwMCQvKSkgbWF0ZXJpYWwuY29tbW9uU2NyZWVuc2hvdHMucHVzaChmaWxlTmFtZSlcbiAgICAgICAgICBlbHNlIGlmIChkaXIubWF0Y2goL3NjcmVlbnNob3RzXzMwMFxcL1tBLXpdezIsM30kLykpIFxuICAgICAgICAgICAgbWF0ZXJpYWwuc2NyZWVuc2hvdHNbc3ViZGlyXSA/IFxuICAgICAgICAgICAgICBtYXRlcmlhbC5zY3JlZW5zaG90c1tzdWJkaXJdLnB1c2goZmlsZU5hbWUpIFxuICAgICAgICAgICAgOiBtYXRlcmlhbC5zY3JlZW5zaG90c1tzdWJkaXJdID0gW2ZpbGVOYW1lXVxuICAgICAgICAgIGVsc2UgaWYgKGRpci5tYXRjaCgvXltBLXpdezIsM30kLykpIFxuICAgICAgICAgICAgbWF0ZXJpYWwuZmlsZXNbc3ViZGlyXSA/XG4gICAgICAgICAgICAgIG1hdGVyaWFsLmZpbGVzW3N1YmRpcl0ucHVzaCAoZmlsZU5hbWUpXG4gICAgICAgICAgICAgIDogbWF0ZXJpYWwuZmlsZXNbc3ViZGlyXSA9IFtmaWxlTmFtZV1cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJlc29sdmUobWF0ZXJpYWwpXG4gICAgfSlcbiAgfSlcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "materials.js"
      ],
      "names": [
        "Materials",
        "require",
        "config",
        "recursive",
        "path",
        "Promise",
        "module",
        "exports",
        "getMaterialById",
        "req",
        "res",
        "id",
        "swagger",
        "params",
        "idMaterial",
        "value",
        "findOne",
        "lean",
        "exec",
        "err",
        "material",
        "status",
        "json",
        "message",
        "error",
        "getFiles",
        "response",
        "searchMaterials",
        "locale",
        "searchText",
        "find",
        "$text",
        "$search",
        "$language",
        "score",
        "$meta",
        "sort",
        "materials",
        "length",
        "all",
        "map",
        "getNewMaterials",
        "days",
        "startDate",
        "Date",
        "setDate",
        "getDate",
        "lastUpdate",
        "$gt",
        "listMaterials",
        "showMaterials",
        "_id",
        "createMaterials",
        "body",
        "save",
        "updateMaterials",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "removeMaterials",
        "findByIdAndRemove",
        "isNumeric",
        "n",
        "isNaN",
        "parseFloat",
        "isFinite",
        "initMaterial",
        "commonFiles",
        "screenshots",
        "commonScreenshots",
        "files",
        "file",
        "resolve",
        "materialLocales",
        "lang",
        "baseDir",
        "materialsDir",
        "sep",
        "translations",
        "translation",
        "push",
        "code",
        "console",
        "warn",
        "relativeFile",
        "replace",
        "fileName",
        "basename",
        "dir",
        "dirname",
        "subdir",
        "split",
        "pop",
        "filePattern",
        "RegExp",
        "test",
        "fileLocale",
        "match"
      ],
      "mappings": ";;;;AAAA;AACA;AACA;AACA;AACA;;AAEA,IAAIA,YAAYC,QAAQ,qBAAR,CAAhB;AACA,IAAMC,SAASD,QAAQ,WAAR,CAAf;AACA,IAAIE,YAAYF,QAAQ,mBAAR,CAAhB;AACA,IAAIG,OAAOH,QAAQ,MAAR,CAAX;AACA,IAAII,UAAUJ,QAAQ,UAAR,CAAd;;AAEAK,OAAOC,OAAP,GAAiB;AACfC,mBAAiB,yBAACC,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIC,KAAKF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBC,UAAnB,CAA8BC,KAAvC;AACA;AACA;AACAf,cAAUgB,OAAV,CAAkB,EAACF,YAAYH,EAAb,EAAlB,EAAoCM,IAApC,GAA2CC,IAA3C;AAAA,2DAAgD,iBAAOC,GAAP,EAAYC,QAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBAC3CD,GAD2C;AAAA;AAAA;AAAA;;AAAA,iDAErCT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,2BAAS,iDADiB;AAE1BC,yBAAOL;AAFmB,iBAArB,CAFqC;;AAAA;AAAA,oBAO1CC,QAP0C;AAAA;AAAA;AAAA;;AAAA,iDAQrCV,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAC3BC,2BAAS,0BADkB;AAE3BJ;AAF2B,iBAAtB,CARqC;;AAAA;AAAA;AAAA,uBActBM,SAASL,QAAT,CAdsB;;AAAA;AAcxCM,wBAdwC;AAAA,iDAevChB,IAAIY,IAAJ,CAASI,QAAT,CAfuC;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAhD;;AAAA;AAAA;AAAA;AAAA;AAiBD,GAtBc;AAuBf;AACA;AACAC,mBAAiB,yBAAClB,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIkB,SAASnB,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBe,MAAnB,CAA0Bb,KAAvC;AACA,QAAIc,aAAapB,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBgB,UAAnB,CAA8Bd,KAA/C;AACAf,cACG8B,IADH,CACQ,EAAEC,OAAO,EAAEC,SAASH,UAAX,EAAuBI,WAAWL,MAAlC,EAAT,EADR,EAC+D,EAACM,OAAO,EAACC,OAAO,WAAR,EAAR,EAD/D,EAEGC,IAFH,CAEQ,EAAC,SAAS,EAAE,SAAS,WAAX,EAAV,EAFR,EAGGnB,IAHH,GAIGC,IAJH;AAAA,4DAIS,kBAAOC,GAAP,EAAYkB,SAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACFlB,GADE;AAAA;AAAA;AAAA;;AAAA,kDAEIT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,2BAAS,4BADiB;AAE1BC,yBAAOL;AAFmB,iBAArB,CAFJ;;AAAA;AAAA,sBAQDkB,UAAUC,MAAV,KAAmB,CARlB;AAAA;AAAA;AAAA;;AAAA,kDAQ4B5B,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAR5B;;AAAA;AAAA;AAAA,uBASkBjB,QAAQkC,GAAR,CACrBF,UAAUG,GAAV;AAAA,wEAAe,kBAAOpB,QAAP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA2BK,SAASL,QAAT,CAA3B;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAf;;AAAA;AAAA;AAAA;AAAA,oBADqB,CAC0C;AAD1C,iBATlB;;AAAA;AASCM,wBATD;AAAA,kDAYEhB,IAAIY,IAAJ,CAASI,QAAT,CAZF;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAJT;;AAAA;AAAA;AAAA;AAAA;AAkBD,GA9Cc;AA+Cfe,mBAAiB,yBAAChC,GAAD,EAAMC,GAAN,EAAc;AAC7B,QAAIgC,OAAOjC,IAAIG,OAAJ,CAAYC,MAAZ,CAAmB6B,IAAnB,CAAwB3B,KAAnC;AACA,QAAI4B,YAAY,IAAIC,IAAJ,EAAhB;AACAD,cAAUE,OAAV,CAAkBF,UAAUG,OAAV,KAAsBJ,IAAxC;AACA1C,cACG8B,IADH,CACQ,EAACiB,YAAY,EAACC,KAAKL,SAAN,EAAb,EADR,EAEGP,IAFH,CAEQ,EAACW,YAAY,CAAC,CAAd,EAFR,EAGG9B,IAHH,GAIGC,IAJH;AAAA,4DAIQ,kBAAMC,GAAN,EAAWkB,SAAX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACAlB,GADA;AAAA;AAAA;AAAA;;AAAA,kDAEKT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,2BAAS,4BADiB;AAE1BC,yBAAOL;AAFmB,iBAArB,CAFL;;AAAA;AAAA,sBAQAkB,UAAUC,MAAV,KAAqB,CARrB;AAAA;AAAA;AAAA;;AAAA,kDAQ+B5B,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAArB,CAR/B;;AAAA;AAAA;AAAA,uBASmBjB,QAAQkC,GAAR,CACrBF,UAAUG,GAAV;AAAA,wEAAc,kBAAMpB,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCAA0BK,SAASL,QAAT,CAA1B;;AAAA;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAd;;AAAA;AAAA;AAAA;AAAA,oBADqB,CACwC;AADxC,iBATnB;;AAAA;AASEM,wBATF;AAAA,kDAYGhB,IAAIY,IAAJ,CAASI,QAAT,CAZH;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAJR;;AAAA;AAAA;AAAA;AAAA;AAkBD,GArEc;AAsEfuB,iBAAe,uBAASxC,GAAT,EAAcC,GAAd,EAAmB;AAChCV,cAAU8B,IAAV,CAAe,UAASX,GAAT,EAAckB,SAAd,EAAwB;AACrC,UAAGlB,GAAH,EAAQ;AACN,eAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,iCADiB;AAE1BC,iBAAOL;AAFmB,SAArB,CAAP;AAID;AACD,aAAOT,IAAIY,IAAJ,CAASe,SAAT,CAAP;AACD,KARD;AASD,GAhFc;AAiFfa,iBAAe,uBAASzC,GAAT,EAAcC,GAAd,EAAmB;AAChC,QAAIC,KAAKF,IAAII,MAAJ,CAAWF,EAApB;AACAX,cAAUgB,OAAV,CAAkB,EAACmC,KAAKxC,EAAN,EAAlB,EAA6B,UAASQ,GAAT,EAAcC,QAAd,EAAuB;AAClD,UAAGD,GAAH,EAAQ;AACN,eAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,iDADiB;AAE1BC,iBAAOL;AAFmB,SAArB,CAAP;AAID;AACD,UAAG,CAACC,QAAJ,EAAc;AACZ,eAAOV,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAC3BC,mBAAS,0BADkB;AAE3BJ;AAF2B,SAAtB,CAAP;AAID;AACD,aAAOT,IAAIY,IAAJ,CAASF,QAAT,CAAP;AACD,KAdD;AAeD,GAlGc;AAmGfgC,mBAAiB,yBAAS3C,GAAT,EAAcC,GAAd,EAAmB;AAClC,QAAIU,WAAW,IAAIpB,SAAJ,CAAeS,IAAI4C,IAAnB,CAAf;AACAjC,aAASkC,IAAT,CAAc,UAASnC,GAAT,EAAcC,QAAd,EAAuB;AACnC,UAAGD,GAAH,EAAQ;AACN,eAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAC3BC,mBAAS,8BADkB;AAE3BC,iBAAOL;AAFoB,SAAtB,CAAP;AAID;AACD,aAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS,OADiB;AAE1B4B,aAAK/B,SAAS+B;AAFY,OAArB,CAAP;AAID,KAXD;AAYD,GAjHc;AAkHfI,mBAAiB,yBAAS9C,GAAT,EAAcC,GAAd,EAAmB;AAClC,QAAIC,KAAKF,IAAII,MAAJ,CAAWF,EAApB;AACAX,cAAUgB,OAAV,CAAkB,EAACmC,KAAKxC,EAAN,EAAlB,EAA6B,UAASQ,GAAT,EAAcC,QAAd,EAAuB;AAClD,UAAGD,GAAH,EAAQ;AACN,eAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,iDADiB;AAE1BC,iBAAOL;AAFmB,SAArB,CAAP;AAID;AACD,UAAG,CAACC,QAAJ,EAAc;AACZ,eAAOV,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACDH,eAASoC,MAAT,GAAkB/C,IAAI4C,IAAJ,CAASI,MAA3B;AACArC,eAASsC,WAAT,GAAwBjD,IAAI4C,IAAJ,CAASM,WAAjC;AACAvC,eAASwC,UAAT,GAAsBnD,IAAI4C,IAAJ,CAASQ,UAA/B;AACAzC,eAAS0C,MAAT,GAAkBrD,IAAI4C,IAAJ,CAASU,MAA3B;AACA3C,eAAS4C,MAAT,GAAkBvD,IAAI4C,IAAJ,CAASY,MAA3B;AACA7C,eAASkC,IAAT,CAAc,UAASnC,GAAT,EAAcC,QAAd,EAAuB;AACnC,YAAGD,GAAH,EAAQ;AACN,iBAAOT,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,qBAAS;AADiB,WAArB,CAAP;AAGD;AACD,YAAG,CAACH,QAAJ,EAAc;AACZ,iBAAOV,IAAIW,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,qBAAS;AADiB,WAArB,CAAP;AAGD;AACD,eAAOb,IAAIY,IAAJ,CAASF,QAAT,CAAP;AACD,OAZD;AAaD,KA9BD;AA+BD,GAnJc;AAoJf8C,mBAAiB,yBAASzD,GAAT,EAAcC,GAAd,EAAmB;AAClC,QAAIC,KAAKF,IAAII,MAAJ,CAAWF,EAApB;AACAX,cAAUmE,iBAAV,CAA4BxD,EAA5B,EAAgC,UAASQ,GAAT,EAAcC,QAAd,EAAuB;AACrD,UAAGD,GAAH,EAAQ;AACN,eAAOT,IAAIY,IAAJ,CAAS,GAAT,EAAc;AACnBC,mBAAS,kCADU;AAEnBC,iBAAOL;AAFY,SAAd,CAAP;AAID;AACD,aAAOT,IAAIY,IAAJ,CAASF,QAAT,CAAP;AACD,KARD;AASD;AA/Jc,CAAjB;;AAoKA,SAASgD,SAAT,CAAmBC,CAAnB,EAAsB;AACpB,SAAO,CAACC,MAAMC,WAAWF,CAAX,CAAN,CAAD,IAAyBG,SAASH,CAAT,CAAhC;AACD;;AAED,IAAMI,eAAe,SAAfA,YAAe,CAACrD,QAAD,EAAc;AACjCA,WAASsD,WAAT,GAAqB,EAArB;AACAtD,WAASuD,WAAT,GAAqB,EAArB;AACAvD,WAASwD,iBAAT,GAA2B,EAA3B;AACAxD,WAASyD,KAAT,GAAe,EAAf;AACAzD,WAAS0D,IAAT,GAAc,EAAd;AACD,CAND;;AAQA,IAAMrD,WAAW,SAAXA,QAAW,CAACL,QAAD,EAAc;AAC7BqD,eAAarD,QAAb;AACA,SAAO,IAAIf,OAAJ,CAAa,UAAC0E,OAAD,EAAa;AAC/B,QAAIC,kBAAgB,CAAC5D,SAAS6D,IAAV,CAApB;AACA,QAAIC,eAAahF,OAAOiF,YAApB,GAAmC/E,KAAKgF,GAAxC,GAA8ChE,SAASN,UAAvD,GAAoEV,KAAKgF,GAA7E;AACAhE,aAASiE,YAAT,CAAsB7C,GAAtB,CAA0B,UAAC8C,WAAD;AAAA,aAAeN,gBAAgBO,IAAhB,CAAqBD,YAAYL,IAAjC,CAAf;AAAA,KAA1B;AACA9E,cAAU+E,OAAV,EAAmB,UAAC/D,GAAD,EAAM0D,KAAN,EAAgB;AACjC;AACA,UAAI1D,GAAJ,EAASA,IAAIqE,IAAJ,IAAY,QAAZ,IAAwBC,QAAQC,IAAR,CAAcvE,GAAd,CAAxB;AACT,UAAI0D,SAAS,IAAb,EAAmB;AACjBA,cAAMrC,GAAN,CAAU,gBAAO;AACf,cAAImD,eAAeb,KAAKc,OAAL,CAAaV,OAAb,EAAsB,EAAtB,CAAnB;AACA,cAAIW,WAAWzF,KAAK0F,QAAL,CAAchB,IAAd,CAAf;AACA,cAAIe,YAAU,YAAd,EAA4B,OAHb,CAGoB;AACnC,cAAIE,MAAM3F,KAAK4F,OAAL,CAAaL,YAAb,CAAV;AACA,cAAIM,SAAS7F,KAAK4F,OAAL,CAAaL,YAAb,EAA2BO,KAA3B,CAAiC9F,KAAKgF,GAAtC,EAA2Ce,GAA3C,EAAb;AACA,cAAIJ,QAAM,GAAV,EAAc;AACZ;AACA,gBAAIK,cAAc,IAAIC,MAAJ,CAAW,8FAAX,EAA2G,GAA3G,CAAlB;AACA,gBAAID,YAAYE,IAAZ,CAAiBT,QAAjB,CAAJ,EAAgC;AAC9B,kBAAIU,aAAaV,SAASK,KAAT,CAAe,GAAf,EAAoB,CAApB,CAAjB;AACA9E,uBAAS0D,IAAT,CAAcyB,UAAd,IAA0BV,QAA1B;AACD,aAHD,MAGOzE,SAASsD,WAAT,CAAqBa,IAArB,CAA0BM,QAA1B;AACR,WAPD,MAQK,IAAIE,IAAIS,KAAJ,CAAU,kBAAV,CAAJ,EAAmCpF,SAASwD,iBAAT,CAA2BW,IAA3B,CAAgCM,QAAhC,EAAnC,KACA,IAAIE,IAAIS,KAAJ,CAAU,8BAAV,CAAJ,EACHpF,SAASuD,WAAT,CAAqBsB,MAArB,IACE7E,SAASuD,WAAT,CAAqBsB,MAArB,EAA6BV,IAA7B,CAAkCM,QAAlC,CADF,GAEEzE,SAASuD,WAAT,CAAqBsB,MAArB,IAA+B,CAACJ,QAAD,CAFjC,CADG,KAIA,IAAIE,IAAIS,KAAJ,CAAU,cAAV,CAAJ,EACHpF,SAASyD,KAAT,CAAeoB,MAAf,IACE7E,SAASyD,KAAT,CAAeoB,MAAf,EAAuBV,IAAvB,CAA6BM,QAA7B,CADF,GAEIzE,SAASyD,KAAT,CAAeoB,MAAf,IAAyB,CAACJ,QAAD,CAF7B;AAGH,SAvBD;AAwBD;AACDd,cAAQ3D,QAAR;AACD,KA9BD;AA+BD,GAnCM,CAAP;AAoCD,CAtCD",
      "file": "materials.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "// habrá que concatenar dos funciones asíncronas,\n// Una para recibir los ficheros (imagenes de materiales) del dir correspondiente\n// Otra que lee los datos en la bbdd\n// mandar json cuandto todo acabe:\n// https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j/37532027#37532027\n\nvar Materials = require('../models/Materials')\nconst config = require('../config')\nvar recursive = require('recursive-readdir')\nvar path = require('path')\nvar Promise = require('bluebird')\n\nmodule.exports = {\n  getMaterialById: (req, res) => {\n    var id = req.swagger.params.idMaterial.value\n    // Use lean to get a plain JS object to modify it, instead of a full model instance\n    // Materials.findOne({idMaterial: id}, function(err, material){\n    Materials.findOne({idMaterial: id}).lean().exec(async (err, material) => {\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json( {\n          message: 'No tenemos este material',\n          err\n        })\n      }\n      // getImages(material, ()=>(res.json(material)))\n      const response =  await getFiles(material)\n      return res.json(response)\n    })\n  },\n  // Materials.find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}}).sort({score:{$meta:'textScore'}}, function(err, materials) {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  searchMaterials: (req, res) => {\n    var locale = req.swagger.params.locale.value\n    var searchText = req.swagger.params.searchText.value\n    Materials\n      .find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}})\n      .sort({'score': { '$meta': 'textScore'} })\n      .lean()\n      .exec (async (err, materials) => {\n        if(err) {\n          return res.status(500).json({\n            message: 'Error buscando el material',\n            error: err\n          })\n        } \n        // if no items, return empty array\n        if (materials.length===0) return res.status(404).json([]) //send http code 404!!!\n        const response = await Promise.all(\n          materials.map( async (material) => (await getFiles(material))) // not async&await as we want to get all material images in parallel\n        )\n        return res.json(response)\n      })\n  },\n  getNewMaterials: (req, res) => {\n    let days = req.swagger.params.days.value\n    let startDate = new Date()\n    startDate.setDate(startDate.getDate() - days)\n    Materials\n      .find({lastUpdate: {$gt: startDate}})\n      .sort({lastUpdate: -1})\n      .lean()\n      .exec(async(err, materials) => {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error buscando el material',\n            error: err\n          })\n        }\n        // if no items, return empty array\n        if (materials.length === 0) return res.status(404).json([]) //send http code 404!!!\n        const response = await Promise.all(\n          materials.map(async(material) => (await getFiles(material))) // not async&await as we want to get all material images in parallel\n        )\n        return res.json(response)\n      })\n  },\n  listMaterials: function(req, res) {\n    Materials.find(function(err, materials){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los materiales',\n          error: err\n        })\n      }\n      return res.json(materials)\n    })\n  },\n  showMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findOne({_id: id}, function(err, material){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json( {\n          message: 'No tenemos este material',\n          err\n        })\n      }\n      return res.json(material)\n    })\n  },\n  createMaterials: function(req, res) {\n    var material = new Materials (req.body)\n    material.save(function(err, material){\n      if(err) {\n        return res.status(500).json( {\n          message: 'Error al guardar el material',\n          error: err\n        })\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: material._id\n      })\n    })\n  },\n  updateMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findOne({_id: id}, function(err, material){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json({\n          message: 'No hemos encontrado el material'\n        })\n      }\n      material.Nombre = req.body.nombre\n      material.Descripción =  req.body.descripcion\n      material.Graduacion = req.body.graduacion\n      material.Envase = req.body.envase\n      material.Precio = req.body.precio\n      material.save(function(err, material){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar el material'\n          })\n        }\n        if(!material) {\n          return res.status(404).json({\n            message: 'No hemos encontrado el material'\n          })\n        }\n        return res.json(material)\n      })\n    })\n  },\n  removeMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findByIdAndRemove(id, function(err, material){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el  material',\n          error: err\n        })\n      }\n      return res.json(material)\n    })\n  }\n}\n\n\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n\nconst initMaterial = (material) => {\n  material.commonFiles=[]\n  material.screenshots={}\n  material.commonScreenshots=[]\n  material.files={}\n  material.file={}\n}\n\nconst getFiles = (material) => {\n  initMaterial(material)\n  return new Promise ((resolve) => {\n    let materialLocales=[material.lang]\n    let baseDir = `${config.materialsDir}${path.sep}${material.idMaterial}${path.sep}`\n    material.translations.map((translation)=>materialLocales.push(translation.lang))\n    recursive(baseDir, (err, files) => {\n      // if err return material, if err is different from no screenshots dir, warning through console\n      if (err) err.code != 'ENOENT' && console.warn (err) \n      if (files != null) {\n        files.map(file =>{\n          let relativeFile = file.replace(baseDir, '')\n          let fileName = path.basename(file)\n          if (fileName=='index.html') return // extra files from previous app\n          let dir = path.dirname(relativeFile)\n          let subdir = path.dirname(relativeFile).split(path.sep).pop()\n          if (dir==='.'){\n            //if file is tar.gz, put it inside file json  {es: xxx-es.tgz, fr: xxx.fr.tgz...}\n            let filePattern = new RegExp('^index-[A-z]{2,3}-[0-9A-F]{8}-[0-9A-F]{4}-[4][0-9A-F]{3}-[89AB][0-9A-F]{3}-[0-9A-F]{12}.tgz$', 'i')\n            if (filePattern.test(fileName)) {\n              let fileLocale = fileName.split('-')[1]\n              material.file[fileLocale]=fileName\n            } else material.commonFiles.push(fileName)\n          } \n          else if (dir.match(/screenshots_300$/)) material.commonScreenshots.push(fileName)\n          else if (dir.match(/screenshots_300\\/[A-z]{2,3}$/)) \n            material.screenshots[subdir] ? \n              material.screenshots[subdir].push(fileName) \n            : material.screenshots[subdir] = [fileName]\n          else if (dir.match(/^[A-z]{2,3}$/)) \n            material.files[subdir] ?\n              material.files[subdir].push (fileName)\n              : material.files[subdir] = [fileName]\n        })\n      }\n      resolve(material)\n    })\n  })\n}\n"
      ]
    },
    "mtime": 1513163670000
  },
  "{\"filename\":\"/app/models/Materials.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/Materials.js",
      "filenameRelative": "/app/models/Materials.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Materials.js",
      "sourceFileName": "Materials.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Materials"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar materialSchema = new Schema({\n  Nombre: String,\n  Descripción: String,\n  Graduacion: String,\n  Envase: String,\n  Precio: String\n});\n\nvar Material = mongoose.model('Material', materialSchema, 'materials');\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Material;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hdGVyaWFscy5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJtYXRlcmlhbFNjaGVtYSIsIk5vbWJyZSIsIlN0cmluZyIsIkRlc2NyaXBjacOzbiIsIkdyYWR1YWNpb24iLCJFbnZhc2UiLCJQcmVjaW8iLCJNYXRlcmlhbCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBLElBQUlDLGlCQUFpQixJQUFJRCxNQUFKLENBQVc7QUFDOUJFLFVBQVFDLE1BRHNCO0FBRTlCQyxlQUFhRCxNQUZpQjtBQUc5QkUsY0FBWUYsTUFIa0I7QUFJOUJHLFVBQVFILE1BSnNCO0FBSzlCSSxVQUFRSjtBQUxzQixDQUFYLENBQXJCOztBQVFBLElBQUlLLFdBQVdWLFNBQVNXLEtBQVQsQ0FBZSxVQUFmLEVBQTJCUixjQUEzQixFQUEyQyxXQUEzQyxDQUFmOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBUyxPQUFPQyxPQUFQLEdBQWlCSCxRQUFqQiIsImZpbGUiOiJNYXRlcmlhbHMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbnZhciBtYXRlcmlhbFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBOb21icmU6IFN0cmluZywgXG4gIERlc2NyaXBjacOzbjogU3RyaW5nLCBcbiAgR3JhZHVhY2lvbjogU3RyaW5nLFxuICBFbnZhc2U6IFN0cmluZyxcbiAgUHJlY2lvOiBTdHJpbmcgXG59KVxuXG52YXIgTWF0ZXJpYWwgPSBtb25nb29zZS5tb2RlbCgnTWF0ZXJpYWwnLCBtYXRlcmlhbFNjaGVtYSwgJ21hdGVyaWFscycpXG5cbi8qXG5cbkVzdG8gZGEgZXJyb3IgZW4gdXBkYXRlIHkgY3JlYXRlOlxuY2VydmV6YVNjaGVtYS5wcmUoJ3NhdmUnLCBmdW5jdGlvbiAobmV4dCkge1xuICB2YXIgc2VsZiA9IHRoaXNcbiAgQ2VydmV6YS5jb3VudCh7Y2VydmV6YTogc2VsZi5uYW1lfSwgZnVuY3Rpb24gKGVyciwgY291bnQpIHtcbiAgICBpZiAoY291bnQ+MCl7XG4gICAgICBuZXh0KG5ldyBFcnJvcignwqFZYSBleGlzdGUgZXN0YSBjZXJ2ZXphIScpKVxuICAgIH1lbHNleyAgICAgICAgICAgICAgICBcbiAgICAgIG5leHQoKVxuICAgIH1cbiAgfSlcbn0pIFxuXG4qL1xuXG5tb2R1bGUuZXhwb3J0cyA9IE1hdGVyaWFsXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Materials.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "materialSchema",
        "Nombre",
        "String",
        "Descripción",
        "Graduacion",
        "Envase",
        "Precio",
        "Material",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,iBAAiB,IAAID,MAAJ,CAAW;AAC9BE,UAAQC,MADsB;AAE9BC,eAAaD,MAFiB;AAG9BE,cAAYF,MAHkB;AAI9BG,UAAQH,MAJsB;AAK9BI,UAAQJ;AALsB,CAAX,CAArB;;AAQA,IAAIK,WAAWV,SAASW,KAAT,CAAe,UAAf,EAA2BR,cAA3B,EAA2C,WAA3C,CAAf;;AAEA;;;;;;;;;;;;;;;;AAgBAS,OAAOC,OAAP,GAAiBH,QAAjB",
      "file": "Materials.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar materialSchema = new Schema({\n  Nombre: String, \n  Descripción: String, \n  Graduacion: String,\n  Envase: String,\n  Precio: String \n})\n\nvar Material = mongoose.model('Material', materialSchema, 'materials')\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Material\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/pictogramSearches.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/pictogramSearches.js",
      "filenameRelative": "/app/controllers/pictogramSearches.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "pictogramSearches.js",
      "sourceFileName": "pictogramSearches.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "pictogramSearches"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar PictogramSearches = require('../models/PictogramSearches');\n//based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\nmodule.exports = {\n  show: function show(req, res) {\n    var searchText = req.params.searchText;\n    // return res.json(searchText)\n    PictogramSearches.list(searchText, function (err, regs) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el listado'\n        });\n      }\n      if (!regs) {\n        return res.status(404).json({\n          message: 'No tenemos ese registro'\n        });\n      }\n      return res.json(regs.map(function (reg) {\n        return reg.nombre;\n      }));\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3RvZ3JhbVNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbIlBpY3RvZ3JhbVNlYXJjaGVzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJzaG93IiwicmVxIiwicmVzIiwic2VhcmNoVGV4dCIsInBhcmFtcyIsImxpc3QiLCJlcnIiLCJyZWdzIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtYXAiLCJyZWciLCJub21icmUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsb0JBQW9CQyxRQUFRLDZCQUFSLENBQXhCO0FBQ0E7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxRQUFNLGNBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN2QixRQUFJQyxhQUFhRixJQUFJRyxNQUFKLENBQVdELFVBQTVCO0FBQ0E7QUFDQVAsc0JBQWtCUyxJQUFsQixDQUF1QkYsVUFBdkIsRUFBbUMsVUFBU0csR0FBVCxFQUFjQyxJQUFkLEVBQW1CO0FBQ3BELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9KLElBQUlNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVM7QUFEaUIsU0FBckIsQ0FBUDtBQUdEO0FBQ0QsVUFBRyxDQUFDSCxJQUFKLEVBQVU7QUFDUixlQUFPTCxJQUFJTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0I7QUFDM0JDLG1CQUFTO0FBRGtCLFNBQXRCLENBQVA7QUFHRDtBQUNELGFBQU9SLElBQUlPLElBQUosQ0FBU0YsS0FBS0ksR0FBTCxDQUFTLFVBQVNDLEdBQVQsRUFBYztBQUFDLGVBQU9BLElBQUlDLE1BQVg7QUFBa0IsT0FBMUMsQ0FBVCxDQUFQO0FBQ0QsS0FaRDtBQWFEO0FBakJjLENBQWpCIiwiZmlsZSI6InBpY3RvZ3JhbVNlYXJjaGVzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgUGljdG9ncmFtU2VhcmNoZXMgPSByZXF1aXJlKCcuLi9tb2RlbHMvUGljdG9ncmFtU2VhcmNoZXMnKVxuLy9iYXNlZCBvbiBodHRwOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI4ODkxMTY1L3VzaW5nLXdlaWdodHMtZm9yLXNlYXJjaGluZy1pbi1tb25nb29zZVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIHNlYXJjaFRleHQgPSByZXEucGFyYW1zLnNlYXJjaFRleHRcbiAgICAvLyByZXR1cm4gcmVzLmpzb24oc2VhcmNoVGV4dClcbiAgICBQaWN0b2dyYW1TZWFyY2hlcy5saXN0KHNlYXJjaFRleHQsIGZ1bmN0aW9uKGVyciwgcmVncyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yIGFsIG9idGVuZXIgZWwgbGlzdGFkbydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmKCFyZWdzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyB0ZW5lbW9zIGVzZSByZWdpc3RybydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihyZWdzLm1hcChmdW5jdGlvbihyZWcpIHtyZXR1cm4gcmVnLm5vbWJyZX0pKVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "pictogramSearches.js"
      ],
      "names": [
        "PictogramSearches",
        "require",
        "module",
        "exports",
        "show",
        "req",
        "res",
        "searchText",
        "params",
        "list",
        "err",
        "regs",
        "status",
        "json",
        "message",
        "map",
        "reg",
        "nombre"
      ],
      "mappings": ";;AAAA,IAAIA,oBAAoBC,QAAQ,6BAAR,CAAxB;AACA;AACAC,OAAOC,OAAP,GAAiB;AACfC,QAAM,cAASC,GAAT,EAAcC,GAAd,EAAmB;AACvB,QAAIC,aAAaF,IAAIG,MAAJ,CAAWD,UAA5B;AACA;AACAP,sBAAkBS,IAAlB,CAAuBF,UAAvB,EAAmC,UAASG,GAAT,EAAcC,IAAd,EAAmB;AACpD,UAAGD,GAAH,EAAQ;AACN,eAAOJ,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACD,UAAG,CAACH,IAAJ,EAAU;AACR,eAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAC3BC,mBAAS;AADkB,SAAtB,CAAP;AAGD;AACD,aAAOR,IAAIO,IAAJ,CAASF,KAAKI,GAAL,CAAS,UAASC,GAAT,EAAc;AAAC,eAAOA,IAAIC,MAAX;AAAkB,OAA1C,CAAT,CAAP;AACD,KAZD;AAaD;AAjBc,CAAjB",
      "file": "pictogramSearches.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var PictogramSearches = require('../models/PictogramSearches')\n//based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\nmodule.exports = {\n  show: function(req, res) {\n    var searchText = req.params.searchText\n    // return res.json(searchText)\n    PictogramSearches.list(searchText, function(err, regs){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el listado'\n        })\n      }\n      if(!regs) {\n        return res.status(404).json( {\n          message: 'No tenemos ese registro'\n        })\n      }\n      return res.json(regs.map(function(reg) {return reg.nombre}))\n    })\n  }\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/models/PictogramSearches.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/PictogramSearches.js",
      "filenameRelative": "/app/models/PictogramSearches.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "PictogramSearches.js",
      "sourceFileName": "PictogramSearches.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "PictogramSearches"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar pictogramSearchSchema = new Schema({\n  searchText: String,\n  lastSearch: { type: Date, default: Date.now },\n  count: Number\n});\n\n// method based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\npictogramSearchSchema.statics.list = function (textSearch, cb) {\n  // Perform the query\n\n  return this.find({ name: new RegExp(textSearch, 'i') }, cb);\n};\n\nvar PictogramSearch = mongoose.model('PictogramSearch', pictogramSearchSchema);\n\nmodule.exports = PictogramSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBpY3RvZ3JhbVNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsInBpY3RvZ3JhbVNlYXJjaFNjaGVtYSIsInNlYXJjaFRleHQiLCJTdHJpbmciLCJsYXN0U2VhcmNoIiwidHlwZSIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwiY291bnQiLCJOdW1iZXIiLCJzdGF0aWNzIiwibGlzdCIsInRleHRTZWFyY2giLCJjYiIsImZpbmQiLCJuYW1lIiwiUmVnRXhwIiwiUGljdG9ncmFtU2VhcmNoIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0YsU0FBU0UsTUFBdEI7O0FBRUEsSUFBSUMsd0JBQXdCLElBQUlELE1BQUosQ0FBVztBQUNyQ0UsY0FBWUMsTUFEeUI7QUFFckNDLGNBQVksRUFBRUMsTUFBT0MsSUFBVCxFQUFlQyxTQUFVRCxLQUFLRSxHQUE5QixFQUZ5QjtBQUdyQ0MsU0FBT0M7QUFIOEIsQ0FBWCxDQUE1Qjs7QUFPQTtBQUNBVCxzQkFBc0JVLE9BQXRCLENBQThCQyxJQUE5QixHQUFxQyxVQUFTQyxVQUFULEVBQXFCQyxFQUFyQixFQUF5QjtBQUM5RDs7QUFFRSxTQUFPLEtBQUtDLElBQUwsQ0FBVSxFQUFFQyxNQUFNLElBQUlDLE1BQUosQ0FBV0osVUFBWCxFQUF1QixHQUF2QixDQUFSLEVBQVYsRUFBaURDLEVBQWpELENBQVA7QUFDRCxDQUpEOztBQVdBLElBQUlJLGtCQUFrQnBCLFNBQVNxQixLQUFULENBQWUsaUJBQWYsRUFBa0NsQixxQkFBbEMsQ0FBdEI7O0FBRUFtQixPQUFPQyxPQUFQLEdBQWlCSCxlQUFqQiIsImZpbGUiOiJQaWN0b2dyYW1TZWFyY2hlcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL21vZGVscyIsInNvdXJjZXNDb250ZW50IjpbInZhciBtb25nb29zZSA9IHJlcXVpcmUoJ21vbmdvb3NlJylcbnZhciBTY2hlbWEgPSBtb25nb29zZS5TY2hlbWFcblxudmFyIHBpY3RvZ3JhbVNlYXJjaFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBzZWFyY2hUZXh0OiBTdHJpbmcsIFxuICBsYXN0U2VhcmNoOiB7IHR5cGUgOiBEYXRlLCBkZWZhdWx0IDogRGF0ZS5ub3cgfSxcbiAgY291bnQ6IE51bWJlclxufSlcblxuXG4vLyBtZXRob2QgYmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODg5MTE2NS91c2luZy13ZWlnaHRzLWZvci1zZWFyY2hpbmctaW4tbW9uZ29vc2VcbnBpY3RvZ3JhbVNlYXJjaFNjaGVtYS5zdGF0aWNzLmxpc3QgPSBmdW5jdGlvbih0ZXh0U2VhcmNoLCBjYikge1xuLy8gUGVyZm9ybSB0aGUgcXVlcnlcblxuICByZXR1cm4gdGhpcy5maW5kKHsgbmFtZTogbmV3IFJlZ0V4cCh0ZXh0U2VhcmNoLCAnaScpIH0sIGNiKVxufVxuXG5cblxuXG5cblxudmFyIFBpY3RvZ3JhbVNlYXJjaCA9IG1vbmdvb3NlLm1vZGVsKCdQaWN0b2dyYW1TZWFyY2gnLCBwaWN0b2dyYW1TZWFyY2hTY2hlbWEpXG5cbm1vZHVsZS5leHBvcnRzID0gUGljdG9ncmFtU2VhcmNoXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "PictogramSearches.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "pictogramSearchSchema",
        "searchText",
        "String",
        "lastSearch",
        "type",
        "Date",
        "default",
        "now",
        "count",
        "Number",
        "statics",
        "list",
        "textSearch",
        "cb",
        "find",
        "name",
        "RegExp",
        "PictogramSearch",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,wBAAwB,IAAID,MAAJ,CAAW;AACrCE,cAAYC,MADyB;AAErCC,cAAY,EAAEC,MAAOC,IAAT,EAAeC,SAAUD,KAAKE,GAA9B,EAFyB;AAGrCC,SAAOC;AAH8B,CAAX,CAA5B;;AAOA;AACAT,sBAAsBU,OAAtB,CAA8BC,IAA9B,GAAqC,UAASC,UAAT,EAAqBC,EAArB,EAAyB;AAC9D;;AAEE,SAAO,KAAKC,IAAL,CAAU,EAAEC,MAAM,IAAIC,MAAJ,CAAWJ,UAAX,EAAuB,GAAvB,CAAR,EAAV,EAAiDC,EAAjD,CAAP;AACD,CAJD;;AAWA,IAAII,kBAAkBpB,SAASqB,KAAT,CAAe,iBAAf,EAAkClB,qBAAlC,CAAtB;;AAEAmB,OAAOC,OAAP,GAAiBH,eAAjB",
      "file": "PictogramSearches.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar pictogramSearchSchema = new Schema({\n  searchText: String, \n  lastSearch: { type : Date, default : Date.now },\n  count: Number\n})\n\n\n// method based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\npictogramSearchSchema.statics.list = function(textSearch, cb) {\n// Perform the query\n\n  return this.find({ name: new RegExp(textSearch, 'i') }, cb)\n}\n\n\n\n\n\n\nvar PictogramSearch = mongoose.model('PictogramSearch', pictogramSearchSchema)\n\nmodule.exports = PictogramSearch\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/controllers/sessions.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/sessions.js",
      "filenameRelative": "/app/controllers/sessions.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "sessions.js",
      "sourceFileName": "sessions.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "sessions"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar jwt = require('jsonwebtoken');\nvar User = require('../models/User');\nvar config = require('../config');\n\nfunction createToken(user) {\n  return jwt.sign({ user: user.name, profile: user.profile }, config.jwtSecret, { expiresInMinutes: 60 * 5 });\n}\n\nmodule.exports = {\n  createSession: function createSession(req, res) {\n    var user = req.swagger.params.username.value;\n    console.log('user es :' + user);\n    var password = req.swagger.params.password.value;\n    User.findOne({ username: user }, function (err, user) {\n      if (err) {\n        return res.status(500).json({ error: err.message });\n      }\n      if (!user) {\n        return res.status(404).send({ message: 'User not found' });\n      }\n      console.log(user);\n      if (!user.authenticate(password)) {\n        return res.status(401).send({ message: 'User unauthorized' });\n      }\n      res.status(201).send({ token: createToken(user) });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb25zLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJVc2VyIiwiY29uZmlnIiwiY3JlYXRlVG9rZW4iLCJ1c2VyIiwic2lnbiIsIm5hbWUiLCJwcm9maWxlIiwiand0U2VjcmV0IiwiZXhwaXJlc0luTWludXRlcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjcmVhdGVTZXNzaW9uIiwicmVxIiwicmVzIiwic3dhZ2dlciIsInBhcmFtcyIsInVzZXJuYW1lIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwicGFzc3dvcmQiLCJmaW5kT25lIiwiZXJyIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWVzc2FnZSIsInNlbmQiLCJhdXRoZW50aWNhdGUiLCJ0b2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxNQUFNQyxRQUFRLGNBQVIsQ0FBVjtBQUNBLElBQUlDLE9BQU9ELFFBQVEsZ0JBQVIsQ0FBWDtBQUNBLElBQUlFLFNBQVNGLFFBQVEsV0FBUixDQUFiOztBQUVBLFNBQVNHLFdBQVQsQ0FBcUJDLElBQXJCLEVBQTJCO0FBQ3pCLFNBQU9MLElBQUlNLElBQUosQ0FBUyxFQUFFRCxNQUFNQSxLQUFLRSxJQUFiLEVBQW1CQyxTQUFTSCxLQUFLRyxPQUFqQyxFQUFULEVBQXFETCxPQUFPTSxTQUE1RCxFQUF1RSxFQUFFQyxrQkFBa0IsS0FBRyxDQUF2QixFQUF2RSxDQUFQO0FBQ0Q7O0FBRURDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsaUJBQWUsdUJBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNoQyxRQUFJVixPQUFPUyxJQUFJRSxPQUFKLENBQVlDLE1BQVosQ0FBbUJDLFFBQW5CLENBQTRCQyxLQUF2QztBQUNBQyxZQUFRQyxHQUFSLENBQWEsY0FBY2hCLElBQTNCO0FBQ0EsUUFBSWlCLFdBQVdSLElBQUlFLE9BQUosQ0FBWUMsTUFBWixDQUFtQkssUUFBbkIsQ0FBNEJILEtBQTNDO0FBQ0FqQixTQUFLcUIsT0FBTCxDQUFhLEVBQUNMLFVBQVViLElBQVgsRUFBYixFQUErQixVQUFDbUIsR0FBRCxFQUFNbkIsSUFBTixFQUFlO0FBQzVDLFVBQUdtQixHQUFILEVBQVE7QUFDTixlQUFPVCxJQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ0MsT0FBT0gsSUFBSUksT0FBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxVQUFJLENBQUN2QixJQUFMLEVBQVc7QUFDVCxlQUFPVSxJQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkksSUFBaEIsQ0FBcUIsRUFBQ0QsU0FBUyxnQkFBVixFQUFyQixDQUFQO0FBQ0Q7QUFDRFIsY0FBUUMsR0FBUixDQUFZaEIsSUFBWjtBQUNBLFVBQUksQ0FBQ0EsS0FBS3lCLFlBQUwsQ0FBa0JSLFFBQWxCLENBQUwsRUFBa0M7QUFDaEMsZUFBT1AsSUFBSVUsTUFBSixDQUFXLEdBQVgsRUFBZ0JJLElBQWhCLENBQXFCLEVBQUNELFNBQVMsbUJBQVYsRUFBckIsQ0FBUDtBQUNEO0FBQ0RiLFVBQUlVLE1BQUosQ0FBVyxHQUFYLEVBQWdCSSxJQUFoQixDQUFxQixFQUFDRSxPQUFPM0IsWUFBWUMsSUFBWixDQUFSLEVBQXJCO0FBQ0QsS0FaRDtBQWFEO0FBbEJjLENBQWpCIiwiZmlsZSI6InNlc3Npb25zLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcbnZhciBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL1VzZXInKVxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4uL2NvbmZpZycpXG5cbmZ1bmN0aW9uIGNyZWF0ZVRva2VuKHVzZXIpIHtcbiAgcmV0dXJuIGp3dC5zaWduKHsgdXNlcjogdXNlci5uYW1lLCBwcm9maWxlOiB1c2VyLnByb2ZpbGUgfSwgY29uZmlnLmp3dFNlY3JldCwgeyBleHBpcmVzSW5NaW51dGVzOiA2MCo1IH0pXG59XG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVTZXNzaW9uOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciB1c2VyID0gcmVxLnN3YWdnZXIucGFyYW1zLnVzZXJuYW1lLnZhbHVlXG4gICAgY29uc29sZS5sb2cgKCd1c2VyIGVzIDonICsgdXNlcilcbiAgICB2YXIgcGFzc3dvcmQgPSByZXEuc3dhZ2dlci5wYXJhbXMucGFzc3dvcmQudmFsdWVcbiAgICBVc2VyLmZpbmRPbmUoe3VzZXJuYW1lOiB1c2VyfSwgKGVyciwgdXNlcikgPT4ge1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6IGVyci5tZXNzYWdlfSlcbiAgICAgIH1cbiAgICAgIGlmICghdXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLnNlbmQoe21lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZCd9KVxuICAgICAgfVxuICAgICAgY29uc29sZS5sb2codXNlcilcbiAgICAgIGlmICghdXNlci5hdXRoZW50aWNhdGUocGFzc3dvcmQpKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuc2VuZCh7bWVzc2FnZTogJ1VzZXIgdW5hdXRob3JpemVkJ30pXG4gICAgICB9XG4gICAgICByZXMuc3RhdHVzKDIwMSkuc2VuZCh7dG9rZW46IGNyZWF0ZVRva2VuKHVzZXIpfSlcbiAgICB9KVxuICB9XG59ICBcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "sessions.js"
      ],
      "names": [
        "jwt",
        "require",
        "User",
        "config",
        "createToken",
        "user",
        "sign",
        "name",
        "profile",
        "jwtSecret",
        "expiresInMinutes",
        "module",
        "exports",
        "createSession",
        "req",
        "res",
        "swagger",
        "params",
        "username",
        "value",
        "console",
        "log",
        "password",
        "findOne",
        "err",
        "status",
        "json",
        "error",
        "message",
        "send",
        "authenticate",
        "token"
      ],
      "mappings": ";;AAAA,IAAIA,MAAMC,QAAQ,cAAR,CAAV;AACA,IAAIC,OAAOD,QAAQ,gBAAR,CAAX;AACA,IAAIE,SAASF,QAAQ,WAAR,CAAb;;AAEA,SAASG,WAAT,CAAqBC,IAArB,EAA2B;AACzB,SAAOL,IAAIM,IAAJ,CAAS,EAAED,MAAMA,KAAKE,IAAb,EAAmBC,SAASH,KAAKG,OAAjC,EAAT,EAAqDL,OAAOM,SAA5D,EAAuE,EAAEC,kBAAkB,KAAG,CAAvB,EAAvE,CAAP;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACfC,iBAAe,uBAASC,GAAT,EAAcC,GAAd,EAAmB;AAChC,QAAIV,OAAOS,IAAIE,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BC,KAAvC;AACAC,YAAQC,GAAR,CAAa,cAAchB,IAA3B;AACA,QAAIiB,WAAWR,IAAIE,OAAJ,CAAYC,MAAZ,CAAmBK,QAAnB,CAA4BH,KAA3C;AACAjB,SAAKqB,OAAL,CAAa,EAACL,UAAUb,IAAX,EAAb,EAA+B,UAACmB,GAAD,EAAMnB,IAAN,EAAe;AAC5C,UAAGmB,GAAH,EAAQ;AACN,eAAOT,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,OAAOH,IAAII,OAAZ,EAArB,CAAP;AACD;AACD,UAAI,CAACvB,IAAL,EAAW;AACT,eAAOU,IAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACD,SAAS,gBAAV,EAArB,CAAP;AACD;AACDR,cAAQC,GAAR,CAAYhB,IAAZ;AACA,UAAI,CAACA,KAAKyB,YAAL,CAAkBR,QAAlB,CAAL,EAAkC;AAChC,eAAOP,IAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACD,SAAS,mBAAV,EAArB,CAAP;AACD;AACDb,UAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACE,OAAO3B,YAAYC,IAAZ,CAAR,EAArB;AACD,KAZD;AAaD;AAlBc,CAAjB",
      "file": "sessions.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var jwt = require('jsonwebtoken')\nvar User = require('../models/User')\nvar config = require('../config')\n\nfunction createToken(user) {\n  return jwt.sign({ user: user.name, profile: user.profile }, config.jwtSecret, { expiresInMinutes: 60*5 })\n}\n\nmodule.exports = {\n  createSession: function(req, res) {\n    var user = req.swagger.params.username.value\n    console.log ('user es :' + user)\n    var password = req.swagger.params.password.value\n    User.findOne({username: user}, (err, user) => {\n      if(err) {\n        return res.status(500).json({error: err.message})\n      }\n      if (!user) {\n        return res.status(404).send({message: 'User not found'})\n      }\n      console.log(user)\n      if (!user.authenticate(password)) {\n        return res.status(401).send({message: 'User unauthorized'})\n      }\n      res.status(201).send({token: createToken(user)})\n    })\n  }\n}  \n"
      ]
    },
    "mtime": 1511457129000
  },
  "{\"filename\":\"/app/models/User.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/User.js",
      "filenameRelative": "/app/models/User.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "User.js",
      "sourceFileName": "User.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "User"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar crypto = require('crypto');\n\nvar Schema = mongoose.Schema;\n\nvar oAuthTypes = ['github', 'twitter', 'facebook', 'google', 'linkedin'];\n\nvar userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type: Date, default: Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  }\n});\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true;\n  return name.length;\n}, 'Name cannot be blank');\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true;\n  return email.length;\n}, 'Email cannot be blank');\n\nuserSchema.path('email').validate(function (email, fn) {\n  var User = mongoose.model('User');\n  if (this.skipValidation()) fn(true);\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0);\n    });\n  } else fn(true);\n}, 'Email already exists');\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true;\n  return username.length;\n}, 'Username cannot be blank');\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true;\n  return password.length;\n}, 'Password cannot be blank');\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next();\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'));\n  } else {\n    next();\n  }\n});\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password;\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function makeSalt() {\n    return Math.round(new Date().valueOf() * Math.random()) + '';\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function encryptPassword(password) {\n    if (!password) return '';\n    try {\n      return crypto.createHmac('sha1', this.salt).update(password).digest('hex');\n    } catch (err) {\n      return '';\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function skipValidation() {\n    return ~oAuthTypes.indexOf(this.provider);\n  }\n};\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function load(options, cb) {\n    options.select = options.select || 'name username';\n    return this.findOne(options.criteria).select(options.select).exec(cb);\n  }\n};\n\nvar User = mongoose.model('User', userSchema, 'users');\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiY3J5cHRvIiwiU2NoZW1hIiwib0F1dGhUeXBlcyIsInVzZXJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsImRlZmF1bHQiLCJlbWFpbCIsInVzZXJuYW1lIiwicHJvdmlkZXIiLCJsb2NhbGUiLCJwYXNzd29yZCIsImF1dGhUb2tlbiIsImxhc3Rsb2dpbiIsIkRhdGUiLCJub3ciLCJmYWNlYm9vayIsImlkIiwidG9rZW4iLCJnb29nbGUiLCJ2YWxpZGF0ZVByZXNlbmNlT2YiLCJ2YWx1ZSIsImxlbmd0aCIsInBhdGgiLCJ2YWxpZGF0ZSIsInNraXBWYWxpZGF0aW9uIiwiZm4iLCJVc2VyIiwibW9kZWwiLCJpc05ldyIsImlzTW9kaWZpZWQiLCJmaW5kIiwiZXhlYyIsImVyciIsInVzZXJzIiwicHJlIiwibmV4dCIsIkVycm9yIiwibWV0aG9kcyIsImF1dGhlbnRpY2F0ZSIsInBsYWluVGV4dCIsImVuY3J5cHRQYXNzd29yZCIsImhhc2hlZF9wYXNzd29yZCIsIm1ha2VTYWx0IiwiTWF0aCIsInJvdW5kIiwidmFsdWVPZiIsInJhbmRvbSIsImNyZWF0ZUhtYWMiLCJzYWx0IiwidXBkYXRlIiwiZGlnZXN0IiwiaW5kZXhPZiIsInN0YXRpY3MiLCJsb2FkIiwib3B0aW9ucyIsImNiIiwic2VsZWN0IiwiZmluZE9uZSIsImNyaXRlcmlhIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQU1DLFNBQVNELFFBQVEsUUFBUixDQUFmOztBQUVBLElBQUlFLFNBQVNILFNBQVNHLE1BQXRCOztBQUVBLElBQU1DLGFBQWEsQ0FDakIsUUFEaUIsRUFFakIsU0FGaUIsRUFHakIsVUFIaUIsRUFJakIsUUFKaUIsRUFLakIsVUFMaUIsQ0FBbkI7O0FBUUEsSUFBTUMsYUFBYSxJQUFJRixNQUFKLENBQVc7QUFDNUJHLFFBQU0sRUFBRUMsTUFBTUMsTUFBUixFQUFnQkMsU0FBUyxFQUF6QixFQURzQjtBQUU1QkMsU0FBTyxFQUFFSCxNQUFNQyxNQUFSLEVBQWdCQyxTQUFTLEVBQXpCLEVBRnFCO0FBRzVCRSxZQUFVLEVBQUVKLE1BQU1DLE1BQVIsRUFBZ0JDLFNBQVMsRUFBekIsRUFIa0I7QUFJNUJHLFlBQVUsRUFBRUwsTUFBTUMsTUFBUixFQUFnQkMsU0FBUyxFQUF6QixFQUprQjtBQUs1QkksVUFBUSxFQUFFTixNQUFNQyxNQUFSLEVBQWdCQyxTQUFTLElBQXpCLEVBTG9CO0FBTTVCSyxZQUFVLEVBQUVQLE1BQU1DLE1BQVIsRUFBZ0JDLFNBQVMsRUFBekIsRUFOa0I7QUFPNUJNLGFBQVcsRUFBRVIsTUFBTUMsTUFBUixFQUFnQkMsU0FBUyxFQUF6QixFQVBpQjtBQVE1Qk8sYUFBVyxFQUFFVCxNQUFPVSxJQUFULEVBQWVSLFNBQVVRLEtBQUtDLEdBQTlCLEVBUmlCO0FBUzVCQyxZQUFVO0FBQ1JDLFFBQUlaLE1BREk7QUFFUmEsV0FBT2IsTUFGQztBQUdSRSxXQUFPRixNQUhDO0FBSVJGLFVBQU1FO0FBSkUsR0FUa0I7QUFlNUJjLFVBQVE7QUFDTkYsUUFBSVosTUFERTtBQUVOYSxXQUFPYixNQUZEO0FBR05FLFdBQU9GLE1BSEQ7QUFJTkYsVUFBTUU7QUFKQTtBQWZvQixDQUFYLENBQW5COztBQXVCQSxJQUFNZSxxQkFBcUIsU0FBckJBLGtCQUFxQjtBQUFBLFNBQVNDLFNBQVNBLE1BQU1DLE1BQXhCO0FBQUEsQ0FBM0I7O0FBR0E7Ozs7QUFJQTs7QUFFQXBCLFdBQVdxQixJQUFYLENBQWdCLE1BQWhCLEVBQXdCQyxRQUF4QixDQUFpQyxVQUFVckIsSUFBVixFQUFnQjtBQUMvQyxNQUFJLEtBQUtzQixjQUFMLEVBQUosRUFBMkIsT0FBTyxJQUFQO0FBQzNCLFNBQU90QixLQUFLbUIsTUFBWjtBQUNELENBSEQsRUFHRyxzQkFISDs7QUFLQXBCLFdBQVdxQixJQUFYLENBQWdCLE9BQWhCLEVBQXlCQyxRQUF6QixDQUFrQyxVQUFVakIsS0FBVixFQUFpQjtBQUNqRCxNQUFJLEtBQUtrQixjQUFMLEVBQUosRUFBMkIsT0FBTyxJQUFQO0FBQzNCLFNBQU9sQixNQUFNZSxNQUFiO0FBQ0QsQ0FIRCxFQUdHLHVCQUhIOztBQUtBcEIsV0FBV3FCLElBQVgsQ0FBZ0IsT0FBaEIsRUFBeUJDLFFBQXpCLENBQWtDLFVBQVVqQixLQUFWLEVBQWlCbUIsRUFBakIsRUFBcUI7QUFDckQsTUFBTUMsT0FBTzlCLFNBQVMrQixLQUFULENBQWUsTUFBZixDQUFiO0FBQ0EsTUFBSSxLQUFLSCxjQUFMLEVBQUosRUFBMkJDLEdBQUcsSUFBSDs7QUFFM0I7QUFDQSxNQUFJLEtBQUtHLEtBQUwsSUFBYyxLQUFLQyxVQUFMLENBQWdCLE9BQWhCLENBQWxCLEVBQTRDO0FBQzFDSCxTQUFLSSxJQUFMLENBQVUsRUFBRXhCLE9BQU9BLEtBQVQsRUFBVixFQUE0QnlCLElBQTVCLENBQWlDLFVBQVVDLEdBQVYsRUFBZUMsS0FBZixFQUFzQjtBQUNyRFIsU0FBRyxDQUFDTyxHQUFELElBQVFDLE1BQU1aLE1BQU4sS0FBaUIsQ0FBNUI7QUFDRCxLQUZEO0FBR0QsR0FKRCxNQUlPSSxHQUFHLElBQUg7QUFDUixDQVZELEVBVUcsc0JBVkg7O0FBWUF4QixXQUFXcUIsSUFBWCxDQUFnQixVQUFoQixFQUE0QkMsUUFBNUIsQ0FBcUMsVUFBVWhCLFFBQVYsRUFBb0I7QUFDdkQsTUFBSSxLQUFLaUIsY0FBTCxFQUFKLEVBQTJCLE9BQU8sSUFBUDtBQUMzQixTQUFPakIsU0FBU2MsTUFBaEI7QUFDRCxDQUhELEVBR0csMEJBSEg7O0FBS0FwQixXQUFXcUIsSUFBWCxDQUFnQixVQUFoQixFQUE0QkMsUUFBNUIsQ0FBcUMsVUFBVWIsUUFBVixFQUFvQjtBQUN2RCxNQUFJLEtBQUtjLGNBQUwsRUFBSixFQUEyQixPQUFPLElBQVA7QUFDM0IsU0FBT2QsU0FBU1csTUFBaEI7QUFDRCxDQUhELEVBR0csMEJBSEg7O0FBTUE7Ozs7QUFJQXBCLFdBQVdpQyxHQUFYLENBQWUsTUFBZixFQUF1QixVQUFVQyxJQUFWLEVBQWdCO0FBQ3JDLE1BQUksQ0FBQyxLQUFLUCxLQUFWLEVBQWlCLE9BQU9PLE1BQVA7O0FBRWpCLE1BQUksQ0FBQ2hCLG1CQUFtQixLQUFLVCxRQUF4QixDQUFELElBQXNDLENBQUMsS0FBS2MsY0FBTCxFQUEzQyxFQUFrRTtBQUNoRVcsU0FBSyxJQUFJQyxLQUFKLENBQVUsa0JBQVYsQ0FBTDtBQUNELEdBRkQsTUFFTztBQUNMRDtBQUNEO0FBQ0YsQ0FSRDs7QUFVQTs7OztBQUlBbEMsV0FBV29DLE9BQVgsR0FBcUI7O0FBRW5COzs7Ozs7OztBQVFBQyxnQkFBYyxzQkFBVUMsU0FBVixFQUFxQjtBQUNqQyxXQUFPLEtBQUtDLGVBQUwsQ0FBcUJELFNBQXJCLE1BQW9DLEtBQUtFLGVBQWhEO0FBQ0QsR0Faa0I7O0FBY25COzs7Ozs7O0FBT0FDLFlBQVUsb0JBQVk7QUFDcEIsV0FBT0MsS0FBS0MsS0FBTCxDQUFZLElBQUkvQixJQUFKLEdBQVdnQyxPQUFYLEtBQXVCRixLQUFLRyxNQUFMLEVBQW5DLElBQXFELEVBQTVEO0FBQ0QsR0F2QmtCOztBQXlCbkI7Ozs7Ozs7O0FBUUFOLG1CQUFpQix5QkFBVTlCLFFBQVYsRUFBb0I7QUFDbkMsUUFBSSxDQUFDQSxRQUFMLEVBQWUsT0FBTyxFQUFQO0FBQ2YsUUFBSTtBQUNGLGFBQU9aLE9BQ0ppRCxVQURJLENBQ08sTUFEUCxFQUNlLEtBQUtDLElBRHBCLEVBRUpDLE1BRkksQ0FFR3ZDLFFBRkgsRUFHSndDLE1BSEksQ0FHRyxLQUhILENBQVA7QUFJRCxLQUxELENBS0UsT0FBT2xCLEdBQVAsRUFBWTtBQUNaLGFBQU8sRUFBUDtBQUNEO0FBQ0YsR0EzQ2tCOztBQTZDbkI7Ozs7QUFJQVIsa0JBQWdCLDBCQUFZO0FBQzFCLFdBQU8sQ0FBQ3hCLFdBQVdtRCxPQUFYLENBQW1CLEtBQUszQyxRQUF4QixDQUFSO0FBQ0Q7QUFuRGtCLENBQXJCOztBQXNEQTs7OztBQUlBUCxXQUFXbUQsT0FBWCxHQUFxQjs7QUFFbkI7Ozs7Ozs7O0FBUUFDLFFBQU0sY0FBVUMsT0FBVixFQUFtQkMsRUFBbkIsRUFBdUI7QUFDM0JELFlBQVFFLE1BQVIsR0FBaUJGLFFBQVFFLE1BQVIsSUFBa0IsZUFBbkM7QUFDQSxXQUFPLEtBQUtDLE9BQUwsQ0FBYUgsUUFBUUksUUFBckIsRUFDSkYsTUFESSxDQUNHRixRQUFRRSxNQURYLEVBRUp6QixJQUZJLENBRUN3QixFQUZELENBQVA7QUFHRDtBQWZrQixDQUFyQjs7QUFrQkEsSUFBSTdCLE9BQU85QixTQUFTK0IsS0FBVCxDQUFlLE1BQWYsRUFBdUIxQixVQUF2QixFQUFtQyxPQUFuQyxDQUFYOztBQUVBMEQsT0FBT0MsT0FBUCxHQUFpQmxDLElBQWpCIiwiZmlsZSI6IlVzZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKVxuXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IG9BdXRoVHlwZXMgPSBbXG4gICdnaXRodWInLFxuICAndHdpdHRlcicsXG4gICdmYWNlYm9vaycsXG4gICdnb29nbGUnLFxuICAnbGlua2VkaW4nXG5dXG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBwcm92aWRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxvY2FsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdlbicgfSxcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBhdXRoVG9rZW46IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBsYXN0bG9naW46IHsgdHlwZSA6IERhdGUsIGRlZmF1bHQgOiBEYXRlLm5vdyB9LFxuICBmYWNlYm9vazoge1xuICAgIGlkOiBTdHJpbmcsXG4gICAgdG9rZW46IFN0cmluZyxcbiAgICBlbWFpbDogU3RyaW5nLFxuICAgIG5hbWU6IFN0cmluZ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBpZDogU3RyaW5nLFxuICAgIHRva2VuOiBTdHJpbmcsXG4gICAgZW1haWw6IFN0cmluZyxcbiAgICBuYW1lOiBTdHJpbmdcbiAgfVxufSlcblxuY29uc3QgdmFsaWRhdGVQcmVzZW5jZU9mID0gdmFsdWUgPT4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoXG5cblxuLyoqXG4gKiBWYWxpZGF0aW9uc1xuICovXG5cbi8vIHRoZSBiZWxvdyA1IHZhbGlkYXRpb25zIG9ubHkgYXBwbHkgaWYgeW91IGFyZSBzaWduaW5nIHVwIHRyYWRpdGlvbmFsbHlcblxudXNlclNjaGVtYS5wYXRoKCduYW1lJykudmFsaWRhdGUoZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIG5hbWUubGVuZ3RoXG59LCAnTmFtZSBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ2VtYWlsJykudmFsaWRhdGUoZnVuY3Rpb24gKGVtYWlsKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiBlbWFpbC5sZW5ndGhcbn0sICdFbWFpbCBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ2VtYWlsJykudmFsaWRhdGUoZnVuY3Rpb24gKGVtYWlsLCBmbikge1xuICBjb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInKVxuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSBmbih0cnVlKVxuXG4gIC8vIENoZWNrIG9ubHkgd2hlbiBpdCBpcyBhIG5ldyB1c2VyIG9yIHdoZW4gZW1haWwgZmllbGQgaXMgbW9kaWZpZWRcbiAgaWYgKHRoaXMuaXNOZXcgfHwgdGhpcy5pc01vZGlmaWVkKCdlbWFpbCcpKSB7XG4gICAgVXNlci5maW5kKHsgZW1haWw6IGVtYWlsIH0pLmV4ZWMoZnVuY3Rpb24gKGVyciwgdXNlcnMpIHtcbiAgICAgIGZuKCFlcnIgJiYgdXNlcnMubGVuZ3RoID09PSAwKVxuICAgIH0pXG4gIH0gZWxzZSBmbih0cnVlKVxufSwgJ0VtYWlsIGFscmVhZHkgZXhpc3RzJylcblxudXNlclNjaGVtYS5wYXRoKCd1c2VybmFtZScpLnZhbGlkYXRlKGZ1bmN0aW9uICh1c2VybmFtZSkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gdXNlcm5hbWUubGVuZ3RoXG59LCAnVXNlcm5hbWUgY2Fubm90IGJlIGJsYW5rJylcblxudXNlclNjaGVtYS5wYXRoKCdwYXNzd29yZCcpLnZhbGlkYXRlKGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gcGFzc3dvcmQubGVuZ3RoXG59LCAnUGFzc3dvcmQgY2Fubm90IGJlIGJsYW5rJylcblxuXG4vKipcbiAqIFByZS1zYXZlIGhvb2tcbiAqL1xuXG51c2VyU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGlmICghdGhpcy5pc05ldykgcmV0dXJuIG5leHQoKVxuXG4gIGlmICghdmFsaWRhdGVQcmVzZW5jZU9mKHRoaXMucGFzc3dvcmQpICYmICF0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHtcbiAgICBuZXh0KG5ldyBFcnJvcignSW52YWxpZCBwYXNzd29yZCcpKVxuICB9IGVsc2Uge1xuICAgIG5leHQoKVxuICB9XG59KVxuXG4vKipcbiAqIE1ldGhvZHNcbiAqL1xuXG51c2VyU2NoZW1hLm1ldGhvZHMgPSB7XG5cbiAgLyoqXG4gICAqIEF1dGhlbnRpY2F0ZSAtIGNoZWNrIGlmIHRoZSBwYXNzd29yZHMgYXJlIHRoZSBzYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbGFpblRleHRcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXV0aGVudGljYXRlOiBmdW5jdGlvbiAocGxhaW5UZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuZW5jcnlwdFBhc3N3b3JkKHBsYWluVGV4dCkgPT09IHRoaXMuaGFzaGVkX3Bhc3N3b3JkXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1ha2Ugc2FsdFxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG1ha2VTYWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKG5ldyBEYXRlKCkudmFsdWVPZigpICogTWF0aC5yYW5kb20oKSkpICsgJydcbiAgfSxcblxuICAvKipcbiAgICogRW5jcnlwdCBwYXNzd29yZFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmRcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBlbmNyeXB0UGFzc3dvcmQ6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgIGlmICghcGFzc3dvcmQpIHJldHVybiAnJ1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY3J5cHRvXG4gICAgICAgIC5jcmVhdGVIbWFjKCdzaGExJywgdGhpcy5zYWx0KVxuICAgICAgICAudXBkYXRlKHBhc3N3b3JkKVxuICAgICAgICAuZGlnZXN0KCdoZXgnKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGlzIG5vdCByZXF1aXJlZCBpZiB1c2luZyBPQXV0aFxuICAgKi9cblxuICBza2lwVmFsaWRhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+b0F1dGhUeXBlcy5pbmRleE9mKHRoaXMucHJvdmlkZXIpXG4gIH1cbn1cblxuLyoqXG4gKiBTdGF0aWNzXG4gKi9cblxudXNlclNjaGVtYS5zdGF0aWNzID0ge1xuXG4gIC8qKlxuICAgKiBMb2FkXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBsb2FkOiBmdW5jdGlvbiAob3B0aW9ucywgY2IpIHtcbiAgICBvcHRpb25zLnNlbGVjdCA9IG9wdGlvbnMuc2VsZWN0IHx8ICduYW1lIHVzZXJuYW1lJ1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUob3B0aW9ucy5jcml0ZXJpYSlcbiAgICAgIC5zZWxlY3Qob3B0aW9ucy5zZWxlY3QpXG4gICAgICAuZXhlYyhjYilcbiAgfVxufVxuXG52YXIgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSwgJ3VzZXJzJylcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "mongoose",
        "require",
        "crypto",
        "Schema",
        "oAuthTypes",
        "userSchema",
        "name",
        "type",
        "String",
        "default",
        "email",
        "username",
        "provider",
        "locale",
        "password",
        "authToken",
        "lastlogin",
        "Date",
        "now",
        "facebook",
        "id",
        "token",
        "google",
        "validatePresenceOf",
        "value",
        "length",
        "path",
        "validate",
        "skipValidation",
        "fn",
        "User",
        "model",
        "isNew",
        "isModified",
        "find",
        "exec",
        "err",
        "users",
        "pre",
        "next",
        "Error",
        "methods",
        "authenticate",
        "plainText",
        "encryptPassword",
        "hashed_password",
        "makeSalt",
        "Math",
        "round",
        "valueOf",
        "random",
        "createHmac",
        "salt",
        "update",
        "digest",
        "indexOf",
        "statics",
        "load",
        "options",
        "cb",
        "select",
        "findOne",
        "criteria",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "User.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nconst crypto = require('crypto')\n\nvar Schema = mongoose.Schema\n\nconst oAuthTypes = [\n  'github',\n  'twitter',\n  'facebook',\n  'google',\n  'linkedin'\n]\n\nconst userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type : Date, default : Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  }\n})\n\nconst validatePresenceOf = value => value && value.length\n\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true\n  return name.length\n}, 'Name cannot be blank')\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true\n  return email.length\n}, 'Email cannot be blank')\n\nuserSchema.path('email').validate(function (email, fn) {\n  const User = mongoose.model('User')\n  if (this.skipValidation()) fn(true)\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0)\n    })\n  } else fn(true)\n}, 'Email already exists')\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true\n  return username.length\n}, 'Username cannot be blank')\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true\n  return password.length\n}, 'Password cannot be blank')\n\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next()\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'))\n  } else {\n    next()\n  }\n})\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function (plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function () {\n    return Math.round((new Date().valueOf() * Math.random())) + ''\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function (password) {\n    if (!password) return ''\n    try {\n      return crypto\n        .createHmac('sha1', this.salt)\n        .update(password)\n        .digest('hex')\n    } catch (err) {\n      return ''\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function () {\n    return ~oAuthTypes.indexOf(this.provider)\n  }\n}\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function (options, cb) {\n    options.select = options.select || 'name username'\n    return this.findOne(options.criteria)\n      .select(options.select)\n      .exec(cb)\n  }\n}\n\nvar User = mongoose.model('User', userSchema, 'users')\n\nmodule.exports = User\n"
      ]
    },
    "mtime": 1516141962000
  },
  "{\"filename\":\"/app/controllers/users.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/controllers/users.js",
      "filenameRelative": "/app/controllers/users.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "users.js",
      "sourceFileName": "users.js",
      "sourceRoot": "/app/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "users"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar User = require('../models/User');\nvar mailing = require('../mail');\nvar nev = mailing('en');\nvar auth = require('../helpers/auth');\n\nmodule.exports = {\n  createUser: function createUser(req, res) {\n    var user = new User(req.body);\n    nev.createTempUser(user, function (err, existingPersistentUser, newTempUser) {\n      if (err) {\n        return res.status(404).json({\n          message: err\n        });\n      }\n      // user already exists in persistent collection\n      if (existingPersistentUser) {\n        return res.status(409).json({\n          message: 'You have already signed up and confirmed your account. Did you forget your password?'\n        });\n      }\n      // new user created\n      if (newTempUser) {\n        console.log(newTempUser);\n        var URL = newTempUser[nev.options.URLFieldName];\n        nev.sendVerificationEmail(newTempUser.email, URL, function (err, info) {\n          if (err) {\n            return res.status(500).json({\n              message: 'ERROR: sending verification email FAILED ' + info\n            });\n          }\n        });\n        return res.status(201).json({\n          message: 'An email has been sent to you. Please check it to verify your account.',\n          _id: newTempUser._id\n        });\n        // user already exists in temporary collection!\n      } else {\n        return res.status(409).json({\n          message: 'You have already signed up. Please check your email to verify your account.'\n        });\n      }\n    });\n  },\n  activateUser: function activateUser(req, res) {\n    var url = req.swagger.params.url.value;\n    nev.confirmTempUser(url, function (err, user) {\n      if (user) {\n        nev.sendConfirmationEmail(user.email, function (err, info) {\n          if (err) {\n            return res.status(500).json({\n              message: 'ERROR: sending confirmation email FAILED ' + info\n            });\n          }\n          res.status(201).json({\n            message: 'User activated',\n            _id: user._id,\n            email: user.email,\n            name: user.name,\n            username: user.username,\n            locale: user.locale\n          });\n        });\n      } else {\n        return res.status(404).json({\n          message: 'ERROR: temporal user not found or expired ' + err\n        });\n      }\n    });\n  },\n  getUsers: function getUsers(req, res) {\n    User.find(function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error getting user list. ' + err\n        });\n      } else if (!users) {\n        return res.status(404).json({\n          message: 'No users found'\n        });\n      }\n      return res.status(200).json({\n        _id: user._id,\n        email: user.email,\n        name: user.name,\n        username: user.username,\n        locale: user.locale,\n        lastlogin: user.lastlogin\n      });\n    });\n  },\n  removeUser: function removeUser(req, res) {\n    var id = req.swagger.params.id.value;\n    User.findByIdAndRemove(id, function (err, users) {\n      if (err) {\n        return res.status(404).json({\n          message: 'User not found. User Id: ' + id\n        });\n      }\n      return res.status(200).json(users);\n    });\n  },\n  getUser: function getUser(req, res) {\n    var id = req.swagger.params.id.value;\n    User.findOne({ _id: id }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error getting user. ' + err\n        });\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'User does not exist. User Id: ' + id\n        });\n      }\n      return res.status(200).json(users);\n    });\n  },\n  updateUser: function updateUser(req, res) {\n    var id = req.swagger.params.id.value;\n    User.findOne({ _id: id }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error updating user. ' + err\n        });\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'Unable to find user. User Id: ' + id\n        });\n      }\n      users.name = req.body.name;\n      users.username = req.body.username;\n      users.email = req.body.email;\n      users.locale = req.body.locale;\n      users.save(function (err, users) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error saving user ' + err\n          });\n        }\n        if (!users) {\n          return res.status(404).json({\n            message: 'Unable to find user. User id: ' + id\n          });\n        }\n      });\n      return res.status(200).json(users);\n    });\n  },\n  loginUser: function loginUser(args, res) {\n    var role = args.swagger.params.role.value;\n    var username = args.body.username;\n    var password = args.body.password;\n    console.log(role + username + password);\n\n    if (role !== 'user' && role !== 'admin') {\n      return res.status(400).json({\n        message: 'Error: Role must be either \"admin\" or \"user\"'\n      });\n    }\n\n    if (username === 'username' && password === 'password' && role) {\n      var tokenString = auth.issueToken(username, role);\n      res.status(200).json({\n        token: tokenString,\n        message: 'User successfully authenticated'\n      });\n    } else {\n      res.status(403).json({\n        message: 'Error: Credentials incorrect'\n      });\n    }\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwibWFpbGluZyIsIm5ldiIsImF1dGgiLCJtb2R1bGUiLCJleHBvcnRzIiwiY3JlYXRlVXNlciIsInJlcSIsInJlcyIsInVzZXIiLCJib2R5IiwiY3JlYXRlVGVtcFVzZXIiLCJlcnIiLCJleGlzdGluZ1BlcnNpc3RlbnRVc2VyIiwibmV3VGVtcFVzZXIiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImNvbnNvbGUiLCJsb2ciLCJVUkwiLCJvcHRpb25zIiwiVVJMRmllbGROYW1lIiwic2VuZFZlcmlmaWNhdGlvbkVtYWlsIiwiZW1haWwiLCJpbmZvIiwiX2lkIiwiYWN0aXZhdGVVc2VyIiwidXJsIiwic3dhZ2dlciIsInBhcmFtcyIsInZhbHVlIiwiY29uZmlybVRlbXBVc2VyIiwic2VuZENvbmZpcm1hdGlvbkVtYWlsIiwibmFtZSIsInVzZXJuYW1lIiwibG9jYWxlIiwiZ2V0VXNlcnMiLCJmaW5kIiwidXNlcnMiLCJsYXN0bG9naW4iLCJyZW1vdmVVc2VyIiwiaWQiLCJmaW5kQnlJZEFuZFJlbW92ZSIsImdldFVzZXIiLCJmaW5kT25lIiwidXBkYXRlVXNlciIsInNhdmUiLCJsb2dpblVzZXIiLCJhcmdzIiwicm9sZSIsInBhc3N3b3JkIiwidG9rZW5TdHJpbmciLCJpc3N1ZVRva2VuIiwidG9rZW4iXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBT0MsUUFBUSxnQkFBUixDQUFYO0FBQ0EsSUFBSUMsVUFBVUQsUUFBUSxTQUFSLENBQWQ7QUFDQSxJQUFJRSxNQUFNRCxRQUFRLElBQVIsQ0FBVjtBQUNBLElBQUlFLE9BQU9ILFFBQVEsaUJBQVIsQ0FBWDs7QUFHQUksT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxjQUFZLG9CQUFDQyxHQUFELEVBQU1DLEdBQU4sRUFBYztBQUN4QixRQUFJQyxPQUFPLElBQUlWLElBQUosQ0FBU1EsSUFBSUcsSUFBYixDQUFYO0FBQ0FSLFFBQUlTLGNB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QUFzREQsSUFBMUQsRUFBZ0U7QUFDOUQsVUFBSUUsY0FBY2pELEtBQUtrRCxVQUFMLENBQWdCbEIsUUFBaEIsRUFBMEJlLElBQTFCLENBQWxCO0FBQ0ExQyxVQUFJTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDbkJzQyxlQUFPRixXQURZO0FBRW5CbkMsaUJBQVM7QUFGVSxPQUFyQjtBQUlELEtBTkQsTUFNTztBQUNMVCxVQUFJTyxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUI7QUFDbkJDLGlCQUFTO0FBRFUsT0FBckI7QUFHRDtBQUNGO0FBeEtjLENBQWpCIiwiZmlsZSI6InVzZXJzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJylcbnZhciBtYWlsaW5nID0gcmVxdWlyZSgnLi4vbWFpbCcpXG52YXIgbmV2ID0gbWFpbGluZygnZW4nKVxudmFyIGF1dGggPSByZXF1aXJlKCcuLi9oZWxwZXJzL2F1dGgnKVxuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICBjcmVhdGVVc2VyOiAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgdXNlciA9IG5ldyBVc2VyKHJlcS5ib2R5KVxuICAgIG5ldi5jcmVhdGVUZW1wVXNlcih1c2VyLCAoZXJyLCBleGlzdGluZ1BlcnNpc3RlbnRVc2VyLCBuZXdUZW1wVXNlcikgPT4ge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgLy8gdXNlciBhbHJlYWR5IGV4aXN0cyBpbiBwZXJzaXN0ZW50IGNvbGxlY3Rpb25cbiAgICAgIGlmIChleGlzdGluZ1BlcnNpc3RlbnRVc2VyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwIGFuZCBjb25maXJtZWQgeW91ciBhY2NvdW50LiBEaWQgeW91IGZvcmdldCB5b3VyIHBhc3N3b3JkPydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIC8vIG5ldyB1c2VyIGNyZWF0ZWRcbiAgICAgIGlmIChuZXdUZW1wVXNlcikge1xuICAgICAgICBjb25zb2xlLmxvZyAobmV3VGVtcFVzZXIpXG4gICAgICAgIHZhciBVUkwgPSBuZXdUZW1wVXNlcltuZXYub3B0aW9ucy5VUkxGaWVsZE5hbWVdXG4gICAgICAgIG5ldi5zZW5kVmVyaWZpY2F0aW9uRW1haWwobmV3VGVtcFVzZXIuZW1haWwsIFVSTCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdFUlJPUjogc2VuZGluZyB2ZXJpZmljYXRpb24gZW1haWwgRkFJTEVEICcgKyBpbmZvXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAxKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnQW4gZW1haWwgaGFzIGJlZW4gc2VudCB0byB5b3UuIFBsZWFzZSBjaGVjayBpdCB0byB2ZXJpZnkgeW91ciBhY2NvdW50LicsXG4gICAgICAgICAgX2lkOiBuZXdUZW1wVXNlci5faWRcbiAgICAgICAgfSlcbiAgICAgICAgLy8gdXNlciBhbHJlYWR5IGV4aXN0cyBpbiB0ZW1wb3JhcnkgY29sbGVjdGlvbiFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwLiBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCB0byB2ZXJpZnkgeW91ciBhY2NvdW50LidcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBhY3RpdmF0ZVVzZXI6IChyZXEsIHJlcykgPT4ge1xuICAgIHZhciB1cmwgPSByZXEuc3dhZ2dlci5wYXJhbXMudXJsLnZhbHVlXG4gICAgbmV2LmNvbmZpcm1UZW1wVXNlcih1cmwsIGZ1bmN0aW9uIChlcnIsIHVzZXIpIHtcbiAgICAgIGlmICh1c2VyKSB7XG4gICAgICAgIG5ldi5zZW5kQ29uZmlybWF0aW9uRW1haWwodXNlci5lbWFpbCwgZnVuY3Rpb24gKGVyciwgaW5mbykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6ICdFUlJPUjogc2VuZGluZyBjb25maXJtYXRpb24gZW1haWwgRkFJTEVEICcgKyBpbmZvXG4gICAgICAgICAgICB9KVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMSkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnVXNlciBhY3RpdmF0ZWQnLFxuICAgICAgICAgICAgX2lkOiB1c2VyLl9pZCxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXIudXNlcm5hbWUsXG4gICAgICAgICAgICBsb2NhbGU6IHVzZXIubG9jYWxlXG4gICAgICAgICAgfSlcbiAgICAgICAgfSlcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ0VSUk9SOiB0ZW1wb3JhbCB1c2VyIG5vdCBmb3VuZCBvciBleHBpcmVkICcgKyBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICB9KVxuICB9LFxuICBnZXRVc2VyczogKHJlcSwgcmVzKSA9PiB7XG4gICAgVXNlci5maW5kKGZ1bmN0aW9uIChlcnIsIHVzZXJzKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGdldHRpbmcgdXNlciBsaXN0LiAnICsgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBlbHNlIGlmICghdXNlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gdXNlcnMgZm91bmQnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oe1xuICAgICAgICBfaWQ6IHVzZXIuX2lkLFxuICAgICAgICBlbWFpbDogdXNlci5lbWFpbCxcbiAgICAgICAgbmFtZTogdXNlci5uYW1lLFxuICAgICAgICB1c2VybmFtZTogdXNlci51c2VybmFtZSxcbiAgICAgICAgbG9jYWxlOiB1c2VyLmxvY2FsZSxcbiAgICAgICAgbGFzdGxvZ2luOiB1c2VyLmxhc3Rsb2dpblxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICByZW1vdmVVc2VyOiAocmVxLCByZXMpID0+IHtcbiAgICB2YXIgaWQgPSByZXEuc3dhZ2dlci5wYXJhbXMuaWQudmFsdWVcbiAgICBVc2VyLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdVc2VyIG5vdCBmb3VuZC4gVXNlciBJZDogJyArIGlkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24odXNlcnMpXG4gICAgfSlcbiAgfSxcbiAgZ2V0VXNlcjogKHJlcSwgcmVzKSA9PiB7XG4gICAgdmFyIGlkID0gcmVxLnN3YWdnZXIucGFyYW1zLmlkLnZhbHVlXG4gICAgVXNlci5maW5kT25lKHsgX2lkOiBpZCB9LCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBnZXR0aW5nIHVzZXIuICcgKyBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmICghdXNlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnVXNlciBkb2VzIG5vdCBleGlzdC4gVXNlciBJZDogJyArIGlkXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24odXNlcnMpXG4gICAgfSlcbiAgfSxcbiAgdXBkYXRlVXNlcjogKHJlcSwgcmVzKSA9PiB7XG4gICAgdmFyIGlkID0gcmVxLnN3YWdnZXIucGFyYW1zLmlkLnZhbHVlXG4gICAgVXNlci5maW5kT25lKHsgX2lkOiBpZCB9LCBmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgaWYgKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciB1cGRhdGluZyB1c2VyLiAnICsgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZiAoIXVzZXJzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1VuYWJsZSB0byBmaW5kIHVzZXIuIFVzZXIgSWQ6ICcgKyBpZFxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgdXNlcnMubmFtZSA9IHJlcS5ib2R5Lm5hbWVcbiAgICAgIHVzZXJzLnVzZXJuYW1lID0gcmVxLmJvZHkudXNlcm5hbWVcbiAgICAgIHVzZXJzLmVtYWlsID0gcmVxLmJvZHkuZW1haWxcbiAgICAgIHVzZXJzLmxvY2FsZSA9IHJlcS5ib2R5LmxvY2FsZVxuICAgICAgdXNlcnMuc2F2ZShmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBzYXZpbmcgdXNlciAnICsgZXJyXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXVzZXJzKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdVbmFibGUgdG8gZmluZCB1c2VyLiBVc2VyIGlkOiAnICsgaWRcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5qc29uKHVzZXJzKVxuICAgIH0pXG4gIH0sXG4gIGxvZ2luVXNlcjogKGFyZ3MsIHJlcykgPT4ge1xuICAgIHZhciByb2xlID0gYXJncy5zd2FnZ2VyLnBhcmFtcy5yb2xlLnZhbHVlXG4gICAgdmFyIHVzZXJuYW1lID0gYXJncy5ib2R5LnVzZXJuYW1lXG4gICAgdmFyIHBhc3N3b3JkID0gYXJncy5ib2R5LnBhc3N3b3JkXG4gICAgY29uc29sZS5sb2cocm9sZSArIHVzZXJuYW1lICsgcGFzc3dvcmQpXG5cbiAgICBpZiAocm9sZSAhPT0gJ3VzZXInICYmIHJvbGUgIT09ICdhZG1pbicpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvcjogUm9sZSBtdXN0IGJlIGVpdGhlciBcImFkbWluXCIgb3IgXCJ1c2VyXCInXG4gICAgICB9KVxuICAgIH1cblxuICAgIGlmICh1c2VybmFtZSA9PT0gJ3VzZXJuYW1lJyAmJiBwYXNzd29yZCA9PT0gJ3Bhc3N3b3JkJyAmJiByb2xlKSB7XG4gICAgICB2YXIgdG9rZW5TdHJpbmcgPSBhdXRoLmlzc3VlVG9rZW4odXNlcm5hbWUsIHJvbGUpXG4gICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XG4gICAgICAgIHRva2VuOiB0b2tlblN0cmluZyxcbiAgICAgICAgbWVzc2FnZTogJ1VzZXIgc3VjY2Vzc2Z1bGx5IGF1dGhlbnRpY2F0ZWQnXG4gICAgICB9KVxuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc3RhdHVzKDQwMykuanNvbih7XG4gICAgICAgIG1lc3NhZ2U6ICdFcnJvcjogQ3JlZGVudGlhbHMgaW5jb3JyZWN0J1xuICAgICAgfSlcbiAgICB9XG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "User",
        "require",
        "mailing",
        "nev",
        "auth",
        "module",
        "exports",
        "createUser",
        "req",
        "res",
        "user",
        "body",
        "createTempUser",
        "err",
        "existingPersistentUser",
        "newTempUser",
        "status",
        "json",
        "message",
        "console",
        "log",
        "URL",
        "options",
        "URLFieldName",
        "sendVerificationEmail",
        "email",
        "info",
        "_id",
        "activateUser",
        "url",
        "swagger",
        "params",
        "value",
        "confirmTempUser",
        "sendConfirmationEmail",
        "name",
        "username",
        "locale",
        "getUsers",
        "find",
        "users",
        "lastlogin",
        "removeUser",
        "id",
        "findByIdAndRemove",
        "getUser",
        "findOne",
        "updateUser",
        "save",
        "loginUser",
        "args",
        "role",
        "password",
        "tokenString",
        "issueToken",
        "token"
      ],
      "mappings": ";;AAAA,IAAIA,OAAOC,QAAQ,gBAAR,CAAX;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,IAAIE,MAAMD,QAAQ,IAAR,CAAV;AACA,IAAIE,OAAOH,QAAQ,iBAAR,CAAX;;AAGAI,OAAOC,OAAP,GAAiB;AACfC,cAAY,oBAACC,GAAD,EAAMC,GAAN,EAAc;AACxB,QAAIC,OAAO,IAAIV,IAAJ,CAASQ,IAAIG,IAAb,CAAX;AACAR,QAAIS,cAAJ,CAAmBF,IAAnB,EAAyB,UAACG,GAAD,EAAMC,sBAAN,EAA8BC,WAA9B,EAA8C;AACrE,UAAIF,GAAJ,EAAS;AACP,eAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAASL;AADiB,SAArB,CAAP;AAGD;AACD;AACA,UAAIC,sBAAJ,EAA4B;AAC1B,eAAOL,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACD;AACA,UAAIH,WAAJ,EAAiB;AACfI,gBAAQC,GAAR,CAAaL,WAAb;AACA,YAAIM,MAAMN,YAAYZ,IAAImB,OAAJ,CAAYC,YAAxB,CAAV;AACApB,YAAIqB,qBAAJ,CAA0BT,YAAYU,KAAtC,EAA6CJ,GAA7C,EAAkD,UAAUR,GAAV,EAAea,IAAf,EAAqB;AACrE,cAAIb,GAAJ,EAAS;AACP,mBAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,uBAAS,8CAA8CQ;AAD7B,aAArB,CAAP;AAGD;AACF,SAND;AAOA,eAAOjB,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,wEADiB;AAE1BS,eAAKZ,YAAYY;AAFS,SAArB,CAAP;AAIA;AACD,OAfD,MAeO;AACL,eAAOlB,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACF,KAjCD;AAkCD,GArCc;AAsCfU,gBAAc,sBAACpB,GAAD,EAAMC,GAAN,EAAc;AAC1B,QAAIoB,MAAMrB,IAAIsB,OAAJ,CAAYC,MAAZ,CAAmBF,GAAnB,CAAuBG,KAAjC;AACA7B,QAAI8B,eAAJ,CAAoBJ,GAApB,EAAyB,UAAUhB,GAAV,EAAeH,IAAf,EAAqB;AAC5C,UAAIA,IAAJ,EAAU;AACRP,YAAI+B,qBAAJ,CAA0BxB,KAAKe,KAA/B,EAAsC,UAAUZ,GAAV,EAAea,IAAf,EAAqB;AACzD,cAAIb,GAAJ,EAAS;AACP,mBAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,uBAAS,8CAA8CQ;AAD7B,aAArB,CAAP;AAGD;AACDjB,cAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,qBAAS,gBADU;AAEnBS,iBAAKjB,KAAKiB,GAFS;AAGnBF,mBAAOf,KAAKe,KAHO;AAInBU,kBAAMzB,KAAKyB,IAJQ;AAKnBC,sBAAU1B,KAAK0B,QALI;AAMnBC,oBAAQ3B,KAAK2B;AANM,WAArB;AAQD,SAdD;AAeD,OAhBD,MAgBO;AACL,eAAO5B,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,+CAA+CL;AAD9B,SAArB,CAAP;AAGD;AACF,KAtBD;AAuBD,GA/Dc;AAgEfyB,YAAU,kBAAC9B,GAAD,EAAMC,GAAN,EAAc;AACtBT,SAAKuC,IAAL,CAAU,UAAU1B,GAAV,EAAe2B,KAAf,EAAsB;AAC9B,UAAI3B,GAAJ,EAAS;AACP,eAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,8BAA8BL;AADb,SAArB,CAAP;AAGD,OAJD,MAKK,IAAI,CAAC2B,KAAL,EAAY;AACf,eAAO/B,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACD,aAAOT,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BU,aAAKjB,KAAKiB,GADgB;AAE1BF,eAAOf,KAAKe,KAFc;AAG1BU,cAAMzB,KAAKyB,IAHe;AAI1BC,kBAAU1B,KAAK0B,QAJW;AAK1BC,gBAAQ3B,KAAK2B,MALa;AAM1BI,mBAAW/B,KAAK+B;AANU,OAArB,CAAP;AAQD,KAnBD;AAoBD,GArFc;AAsFfC,cAAY,oBAAClC,GAAD,EAAMC,GAAN,EAAc;AACxB,QAAIkC,KAAKnC,IAAIsB,OAAJ,CAAYC,MAAZ,CAAmBY,EAAnB,CAAsBX,KAA/B;AACAhC,SAAK4C,iBAAL,CAAuBD,EAAvB,EAA2B,UAAU9B,GAAV,EAAe2B,KAAf,EAAsB;AAC/C,UAAI3B,GAAJ,EAAS;AACP,eAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,8BAA8ByB;AADb,SAArB,CAAP;AAGD;AACD,aAAOlC,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBuB,KAArB,CAAP;AACD,KAPD;AAQD,GAhGc;AAiGfK,WAAS,iBAACrC,GAAD,EAAMC,GAAN,EAAc;AACrB,QAAIkC,KAAKnC,IAAIsB,OAAJ,CAAYC,MAAZ,CAAmBY,EAAnB,CAAsBX,KAA/B;AACAhC,SAAK8C,OAAL,CAAa,EAAEnB,KAAKgB,EAAP,EAAb,EAA0B,UAAU9B,GAAV,EAAe2B,KAAf,EAAsB;AAC9C,UAAI3B,GAAJ,EAAS;AACP,eAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,yBAAyBL;AADR,SAArB,CAAP;AAGD;AACD,UAAI,CAAC2B,KAAL,EAAY;AACV,eAAO/B,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,mCAAmCyB;AADlB,SAArB,CAAP;AAGD;AACD,aAAOlC,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBuB,KAArB,CAAP;AACD,KAZD;AAaD,GAhHc;AAiHfO,cAAY,oBAACvC,GAAD,EAAMC,GAAN,EAAc;AACxB,QAAIkC,KAAKnC,IAAIsB,OAAJ,CAAYC,MAAZ,CAAmBY,EAAnB,CAAsBX,KAA/B;AACAhC,SAAK8C,OAAL,CAAa,EAAEnB,KAAKgB,EAAP,EAAb,EAA0B,UAAU9B,GAAV,EAAe2B,KAAf,EAAsB;AAC9C,UAAI3B,GAAJ,EAAS;AACP,eAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,0BAA0BL;AADT,SAArB,CAAP;AAGD;AACD,UAAI,CAAC2B,KAAL,EAAY;AACV,eAAO/B,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS,mCAAmCyB;AADlB,SAArB,CAAP;AAGD;AACDH,YAAML,IAAN,GAAa3B,IAAIG,IAAJ,CAASwB,IAAtB;AACAK,YAAMJ,QAAN,GAAiB5B,IAAIG,IAAJ,CAASyB,QAA1B;AACAI,YAAMf,KAAN,GAAcjB,IAAIG,IAAJ,CAASc,KAAvB;AACAe,YAAMH,MAAN,GAAe7B,IAAIG,IAAJ,CAAS0B,MAAxB;AACAG,YAAMQ,IAAN,CAAW,UAAUnC,GAAV,EAAe2B,KAAf,EAAsB;AAC/B,YAAI3B,GAAJ,EAAS;AACP,iBAAOJ,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,qBAAS,uBAAuBL;AADN,WAArB,CAAP;AAGD;AACD,YAAI,CAAC2B,KAAL,EAAY;AACV,iBAAO/B,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,qBAAS,mCAAmCyB;AADlB,WAArB,CAAP;AAGD;AACF,OAXD;AAYA,aAAOlC,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBuB,KAArB,CAAP;AACD,KA5BD;AA6BD,GAhJc;AAiJfS,aAAW,mBAACC,IAAD,EAAOzC,GAAP,EAAe;AACxB,QAAI0C,OAAOD,KAAKpB,OAAL,CAAaC,MAAb,CAAoBoB,IAApB,CAAyBnB,KAApC;AACA,QAAII,WAAWc,KAAKvC,IAAL,CAAUyB,QAAzB;AACA,QAAIgB,WAAWF,KAAKvC,IAAL,CAAUyC,QAAzB;AACAjC,YAAQC,GAAR,CAAY+B,OAAOf,QAAP,GAAkBgB,QAA9B;;AAEA,QAAID,SAAS,MAAT,IAAmBA,SAAS,OAAhC,EAAyC;AACvC,aAAO1C,IAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,iBAAS;AADiB,OAArB,CAAP;AAGD;;AAED,QAAIkB,aAAa,UAAb,IAA2BgB,aAAa,UAAxC,IAAsDD,IAA1D,EAAgE;AAC9D,UAAIE,cAAcjD,KAAKkD,UAAL,CAAgBlB,QAAhB,EAA0Be,IAA1B,CAAlB;AACA1C,UAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBsC,eAAOF,WADY;AAEnBnC,iBAAS;AAFU,OAArB;AAID,KAND,MAMO;AACLT,UAAIO,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AACnBC,iBAAS;AADU,OAArB;AAGD;AACF;AAxKc,CAAjB",
      "file": "users.js",
      "sourceRoot": "/app/controllers",
      "sourcesContent": [
        "var User = require('../models/User')\nvar mailing = require('../mail')\nvar nev = mailing('en')\nvar auth = require('../helpers/auth')\n\n\nmodule.exports = {\n  createUser: (req, res) => {\n    var user = new User(req.body)\n    nev.createTempUser(user, (err, existingPersistentUser, newTempUser) => {\n      if (err) {\n        return res.status(404).json({\n          message: err\n        })\n      }\n      // user already exists in persistent collection\n      if (existingPersistentUser) {\n        return res.status(409).json({\n          message: 'You have already signed up and confirmed your account. Did you forget your password?'\n        })\n      }\n      // new user created\n      if (newTempUser) {\n        console.log (newTempUser)\n        var URL = newTempUser[nev.options.URLFieldName]\n        nev.sendVerificationEmail(newTempUser.email, URL, function (err, info) {\n          if (err) {\n            return res.status(500).json({\n              message: 'ERROR: sending verification email FAILED ' + info\n            })\n          }\n        })\n        return res.status(201).json({\n          message: 'An email has been sent to you. Please check it to verify your account.',\n          _id: newTempUser._id\n        })\n        // user already exists in temporary collection!\n      } else {\n        return res.status(409).json({\n          message: 'You have already signed up. Please check your email to verify your account.'\n        })\n      }\n    })\n  },\n  activateUser: (req, res) => {\n    var url = req.swagger.params.url.value\n    nev.confirmTempUser(url, function (err, user) {\n      if (user) {\n        nev.sendConfirmationEmail(user.email, function (err, info) {\n          if (err) {\n            return res.status(500).json({\n              message: 'ERROR: sending confirmation email FAILED ' + info\n            })\n          }\n          res.status(201).json({\n            message: 'User activated',\n            _id: user._id,\n            email: user.email,\n            name: user.name,\n            username: user.username,\n            locale: user.locale\n          })\n        })\n      } else {\n        return res.status(404).json({\n          message: 'ERROR: temporal user not found or expired ' + err\n        })\n      }\n    })\n  },\n  getUsers: (req, res) => {\n    User.find(function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error getting user list. ' + err\n        })\n      }\n      else if (!users) {\n        return res.status(404).json({\n          message: 'No users found'\n        })\n      }\n      return res.status(200).json({\n        _id: user._id,\n        email: user.email,\n        name: user.name,\n        username: user.username,\n        locale: user.locale,\n        lastlogin: user.lastlogin\n      })\n    })\n  },\n  removeUser: (req, res) => {\n    var id = req.swagger.params.id.value\n    User.findByIdAndRemove(id, function (err, users) {\n      if (err) {\n        return res.status(404).json({\n          message: 'User not found. User Id: ' + id\n        })\n      }\n      return res.status(200).json(users)\n    })\n  },\n  getUser: (req, res) => {\n    var id = req.swagger.params.id.value\n    User.findOne({ _id: id }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error getting user. ' + err\n        })\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'User does not exist. User Id: ' + id\n        })\n      }\n      return res.status(200).json(users)\n    })\n  },\n  updateUser: (req, res) => {\n    var id = req.swagger.params.id.value\n    User.findOne({ _id: id }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error updating user. ' + err\n        })\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'Unable to find user. User Id: ' + id\n        })\n      }\n      users.name = req.body.name\n      users.username = req.body.username\n      users.email = req.body.email\n      users.locale = req.body.locale\n      users.save(function (err, users) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error saving user ' + err\n          })\n        }\n        if (!users) {\n          return res.status(404).json({\n            message: 'Unable to find user. User id: ' + id\n          })\n        }\n      })\n      return res.status(200).json(users)\n    })\n  },\n  loginUser: (args, res) => {\n    var role = args.swagger.params.role.value\n    var username = args.body.username\n    var password = args.body.password\n    console.log(role + username + password)\n\n    if (role !== 'user' && role !== 'admin') {\n      return res.status(400).json({\n        message: 'Error: Role must be either \"admin\" or \"user\"'\n      })\n    }\n\n    if (username === 'username' && password === 'password' && role) {\n      var tokenString = auth.issueToken(username, role)\n      res.status(200).json({\n        token: tokenString,\n        message: 'User successfully authenticated'\n      })\n    } else {\n      res.status(403).json({\n        message: 'Error: Credentials incorrect'\n      })\n    }\n  }\n}\n"
      ]
    },
    "mtime": 1516299351000
  },
  "{\"filename\":\"/app/mail/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/mail\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [
        "typeof"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/mail/index.js",
      "filenameRelative": "/app/mail/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/mail",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/mail",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\n/* eslint no-template-curly-in-string: 0 */\nvar User = require('../models/User');\nvar mongoose = require('mongoose');\nvar nev = require('email-verification')(mongoose);\nvar bcrypt = require('bcryptjs');\n\nmodule.exports = function (locale) {\n\n  var myHasher = function myHasher(password, tempUserData, insertTempUser, callback) {\n    bcrypt.genSalt(8, function (err, salt) {\n      bcrypt.hash(password, salt, function (err, hash) {\n        return insertTempUser(hash, tempUserData, callback);\n      });\n    });\n  };\n\n  /* email messages, we may change them depending on locale */\n  var subject = 'Please confirm account';\n  var html = 'Click the following link to confirm your account:</p><p>${URL}</p>';\n  var text = 'Please confirm your account by clicking the following link: ${URL}';\n  if (locale === 'es') {\n    subject = 'Por favor, confirma tu cuenta';\n    html = 'Pulsa el enlace siguiente para confirmar tu cuenta:</p><p>${URL}</p>';\n    text = 'Por favor, confirma tu cuenta pulsando el enlace siguiente: ${URL}';\n  }\n\n  nev.configure({\n    verificationURL: process.env.EMAIL_VERIFICATION_URL,\n    URLLength: 16,\n\n    // mongo-stuff\n    persistentUserModel: User,\n    emailFieldName: 'email',\n    passwordFieldName: 'password',\n    URLFieldName: 'GENERATED_VERIFYING_URL',\n    expirationTime: 86400, //1 day\n\n    // emailing options\n    transportOptions: {\n      service: 'Gmail',\n      auth: {\n        user: process.env.EMAIL_USER,\n        pass: process.env.EMAIL_PASSWORD\n      }\n    },\n    verifyMailOptions: {\n      from: process.env.EMAIL_FROM,\n      subject: subject,\n      html: html,\n      text: text\n    },\n    shouldSendConfirmation: true,\n    confirmMailOptions: {\n      from: process.env.EMAIL_FROM,\n      subject: 'Successfully verified!',\n      html: '<p>Your account has been successfully verified.</p>',\n      text: 'Your account has been successfully verified.'\n    },\n    hashingFunction: myHasher\n  }, function (err, options) {\n    if (err) {\n      console.log(err);\n      return;\n    }\n    console.log('configured: ' + ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object'));\n  });\n\n  nev.generateTempUserModel(User, function (err, tempUserModel) {\n    if (err) {\n      console.log(err);\n      return;\n    }\n    console.log('generated temp user model: ' + (typeof tempUserModel === 'function'));\n  });\n  return nev;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwibW9uZ29vc2UiLCJuZXYiLCJiY3J5cHQiLCJtb2R1bGUiLCJleHBvcnRzIiwibG9jYWxlIiwibXlIYXNoZXIiLCJwYXNzd29yZCIsInRlbXBVc2VyRGF0YSIsImluc2VydFRlbXBVc2VyIiwiY2FsbGJhY2siLCJnZW5TYWx0IiwiZXJyIiwic2FsdCIsImhhc2giLCJzdWJqZWN0IiwiaHRtbCIsInRleHQiLCJjb25maWd1cmUiLCJ2ZXJpZmljYXRpb25VUkwiLCJwcm9jZXNzIiwiZW52IiwiRU1BSUxfVkVSSUZJQ0FUSU9OX1VSTCIsIlVSTExlbmd0aCIsInBlcnNpc3RlbnRVc2VyTW9kZWwiLCJlbWFpbEZpZWxkTmFtZSIsInBhc3N3b3JkRmllbGROYW1lIiwiVVJMRmllbGROYW1lIiwiZXhwaXJhdGlvblRpbWUiLCJ0cmFuc3BvcnRPcHRpb25zIiwic2VydmljZSIsImF1dGgiLCJ1c2VyIiwiRU1BSUxfVVNFUiIsInBhc3MiLCJFTUFJTF9QQVNTV09SRCIsInZlcmlmeU1haWxPcHRpb25zIiwiZnJvbSIsIkVNQUlMX0ZST00iLCJzaG91bGRTZW5kQ29uZmlybWF0aW9uIiwiY29uZmlybU1haWxPcHRpb25zIiwiaGFzaGluZ0Z1bmN0aW9uIiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciLCJnZW5lcmF0ZVRlbXBVc2VyTW9kZWwiLCJ0ZW1wVXNlck1vZGVsIl0sIm1hcHBpbmdzIjoiOzs7O0FBQUE7QUFDQSxJQUFJQSxPQUFPQyxRQUFRLGdCQUFSLENBQVg7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlFLE1BQU1GLFFBQVEsb0JBQVIsRUFBOEJDLFFBQTlCLENBQVY7QUFDQSxJQUFJRSxTQUFTSCxRQUFRLFVBQVIsQ0FBYjs7QUFFQUksT0FBT0MsT0FBUCxHQUFpQixVQUFVQyxNQUFWLEVBQWtCOztBQUVqQyxNQUFNQyxXQUFXLFNBQVhBLFFBQVcsQ0FBQ0MsUUFBRCxFQUFXQyxZQUFYLEVBQXlCQyxjQUF6QixFQUF5Q0MsUUFBekMsRUFBc0Q7QUFDckVSLFdBQU9TLE9BQVAsQ0FBZSxDQUFmLEVBQWtCLFVBQVVDLEdBQVYsRUFBZUMsSUFBZixFQUFxQjtBQUNyQ1gsYUFBT1ksSUFBUCxDQUFZUCxRQUFaLEVBQXNCTSxJQUF0QixFQUE0QixVQUFVRCxHQUFWLEVBQWVFLElBQWYsRUFBcUI7QUFDL0MsZUFBT0wsZUFBZUssSUFBZixFQUFxQk4sWUFBckIsRUFBbUNFLFFBQW5DLENBQVA7QUFDRCxPQUZEO0FBR0QsS0FKRDtBQUtELEdBTkQ7O0FBUUE7QUFDQSxNQUFJSyxVQUFVLHdCQUFkO0FBQ0EsTUFBSUMsT0FBTyxvRUFBWDtBQUNBLE1BQUlDLE9BQU8sb0VBQVg7QUFDQSxNQUFJWixXQUFTLElBQWIsRUFBbUI7QUFDakJVLGNBQVUsK0JBQVY7QUFDQUMsV0FBTyxzRUFBUDtBQUNBQyxXQUFPLG9FQUFQO0FBQ0Q7O0FBRURoQixNQUFJaUIsU0FBSixDQUFjO0FBQ1pDLHFCQUFpQkMsUUFBUUMsR0FBUixDQUFZQyxzQkFEakI7QUFFWkMsZUFBVyxFQUZDOztBQUlaO0FBQ0FDLHlCQUFxQjFCLElBTFQ7QUFNWjJCLG9CQUFnQixPQU5KO0FBT1pDLHVCQUFtQixVQVBQO0FBUVpDLGtCQUFjLHlCQVJGO0FBU1pDLG9CQUFnQixLQVRKLEVBU1c7O0FBRXZCO0FBQ0FDLHNCQUFrQjtBQUNoQkMsZUFBUyxPQURPO0FBRWhCQyxZQUFNO0FBQ0pDLGNBQU1aLFFBQVFDLEdBQVIsQ0FBWVksVUFEZDtBQUVKQyxjQUFNZCxRQUFRQyxHQUFSLENBQVljO0FBRmQ7QUFGVSxLQVpOO0FBbUJaQyx1QkFBbUI7QUFDakJDLFlBQU1qQixRQUFRQyxHQUFSLENBQVlpQixVQUREO0FBRWpCdkIsZUFBU0EsT0FGUTtBQUdqQkMsWUFBTUEsSUFIVztBQUlqQkMsWUFBTUE7QUFKVyxLQW5CUDtBQXlCWnNCLDRCQUF3QixJQXpCWjtBQTBCWkMsd0JBQW9CO0FBQ2xCSCxZQUFNakIsUUFBUUMsR0FBUixDQUFZaUIsVUFEQTtBQUVsQnZCLGVBQVMsd0JBRlM7QUFHbEJDLFlBQU0scURBSFk7QUFJbEJDLFlBQU07QUFKWSxLQTFCUjtBQWdDWndCLHFCQUFpQm5DO0FBaENMLEdBQWQsRUFpQ0csVUFBVU0sR0FBVixFQUFlOEIsT0FBZixFQUF3QjtBQUN6QixRQUFJOUIsR0FBSixFQUFTO0FBQ1ArQixjQUFRQyxHQUFSLENBQVloQyxHQUFaO0FBQ0E7QUFDRDtBQUNEK0IsWUFBUUMsR0FBUixDQUFZLGtCQUFrQixRQUFPRixPQUFQLHlDQUFPQSxPQUFQLE9BQW1CLFFBQXJDLENBQVo7QUFDRCxHQXZDRDs7QUF5Q0F6QyxNQUFJNEMscUJBQUosQ0FBMEIvQyxJQUExQixFQUFnQyxVQUFVYyxHQUFWLEVBQWVrQyxhQUFmLEVBQThCO0FBQzVELFFBQUlsQyxHQUFKLEVBQVM7QUFDUCtCLGNBQVFDLEdBQVIsQ0FBWWhDLEdBQVo7QUFDQTtBQUNEO0FBQ0QrQixZQUFRQyxHQUFSLENBQVksaUNBQWlDLE9BQU9FLGFBQVAsS0FBeUIsVUFBMUQsQ0FBWjtBQUNELEdBTkQ7QUFPQSxTQUFPN0MsR0FBUDtBQUNELENBckVEIiwiZmlsZSI6ImluZGV4LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvbWFpbCIsInNvdXJjZXNDb250ZW50IjpbIi8qIGVzbGludCBuby10ZW1wbGF0ZS1jdXJseS1pbi1zdHJpbmc6IDAgKi9cbnZhciBVc2VyID0gcmVxdWlyZSgnLi4vbW9kZWxzL1VzZXInKVxudmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxudmFyIG5ldiA9IHJlcXVpcmUoJ2VtYWlsLXZlcmlmaWNhdGlvbicpKG1vbmdvb3NlKVxudmFyIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG5cbiAgY29uc3QgbXlIYXNoZXIgPSAocGFzc3dvcmQsIHRlbXBVc2VyRGF0YSwgaW5zZXJ0VGVtcFVzZXIsIGNhbGxiYWNrKSA9PiB7XG4gICAgYmNyeXB0LmdlblNhbHQoOCwgZnVuY3Rpb24gKGVyciwgc2FsdCkge1xuICAgICAgYmNyeXB0Lmhhc2gocGFzc3dvcmQsIHNhbHQsIGZ1bmN0aW9uIChlcnIsIGhhc2gpIHtcbiAgICAgICAgcmV0dXJuIGluc2VydFRlbXBVc2VyKGhhc2gsIHRlbXBVc2VyRGF0YSwgY2FsbGJhY2spXG4gICAgICB9KVxuICAgIH0pXG4gIH1cblxuICAvKiBlbWFpbCBtZXNzYWdlcywgd2UgbWF5IGNoYW5nZSB0aGVtIGRlcGVuZGluZyBvbiBsb2NhbGUgKi9cbiAgdmFyIHN1YmplY3QgPSAnUGxlYXNlIGNvbmZpcm0gYWNjb3VudCdcbiAgdmFyIGh0bWwgPSAnQ2xpY2sgdGhlIGZvbGxvd2luZyBsaW5rIHRvIGNvbmZpcm0geW91ciBhY2NvdW50OjwvcD48cD4ke1VSTH08L3A+J1xuICB2YXIgdGV4dCA9ICdQbGVhc2UgY29uZmlybSB5b3VyIGFjY291bnQgYnkgY2xpY2tpbmcgdGhlIGZvbGxvd2luZyBsaW5rOiAke1VSTH0nXG4gIGlmIChsb2NhbGU9PT0nZXMnKSB7XG4gICAgc3ViamVjdCA9ICdQb3IgZmF2b3IsIGNvbmZpcm1hIHR1IGN1ZW50YSdcbiAgICBodG1sID0gJ1B1bHNhIGVsIGVubGFjZSBzaWd1aWVudGUgcGFyYSBjb25maXJtYXIgdHUgY3VlbnRhOjwvcD48cD4ke1VSTH08L3A+J1xuICAgIHRleHQgPSAnUG9yIGZhdm9yLCBjb25maXJtYSB0dSBjdWVudGEgcHVsc2FuZG8gZWwgZW5sYWNlIHNpZ3VpZW50ZTogJHtVUkx9J1xuICB9XG5cbiAgbmV2LmNvbmZpZ3VyZSh7XG4gICAgdmVyaWZpY2F0aW9uVVJMOiBwcm9jZXNzLmVudi5FTUFJTF9WRVJJRklDQVRJT05fVVJMLFxuICAgIFVSTExlbmd0aDogMTYsXG5cbiAgICAvLyBtb25nby1zdHVmZlxuICAgIHBlcnNpc3RlbnRVc2VyTW9kZWw6IFVzZXIsXG4gICAgZW1haWxGaWVsZE5hbWU6ICdlbWFpbCcsXG4gICAgcGFzc3dvcmRGaWVsZE5hbWU6ICdwYXNzd29yZCcsXG4gICAgVVJMRmllbGROYW1lOiAnR0VORVJBVEVEX1ZFUklGWUlOR19VUkwnLFxuICAgIGV4cGlyYXRpb25UaW1lOiA4NjQwMCwgLy8xIGRheVxuXG4gICAgLy8gZW1haWxpbmcgb3B0aW9uc1xuICAgIHRyYW5zcG9ydE9wdGlvbnM6IHtcbiAgICAgIHNlcnZpY2U6ICdHbWFpbCcsXG4gICAgICBhdXRoOiB7XG4gICAgICAgIHVzZXI6IHByb2Nlc3MuZW52LkVNQUlMX1VTRVIsXG4gICAgICAgIHBhc3M6IHByb2Nlc3MuZW52LkVNQUlMX1BBU1NXT1JEXG4gICAgICB9XG4gICAgfSxcbiAgICB2ZXJpZnlNYWlsT3B0aW9uczoge1xuICAgICAgZnJvbTogcHJvY2Vzcy5lbnYuRU1BSUxfRlJPTSxcbiAgICAgIHN1YmplY3Q6IHN1YmplY3QsXG4gICAgICBodG1sOiBodG1sLFxuICAgICAgdGV4dDogdGV4dFxuICAgIH0sXG4gICAgc2hvdWxkU2VuZENvbmZpcm1hdGlvbjogdHJ1ZSxcbiAgICBjb25maXJtTWFpbE9wdGlvbnM6IHtcbiAgICAgIGZyb206IHByb2Nlc3MuZW52LkVNQUlMX0ZST00sXG4gICAgICBzdWJqZWN0OiAnU3VjY2Vzc2Z1bGx5IHZlcmlmaWVkIScsXG4gICAgICBodG1sOiAnPHA+WW91ciBhY2NvdW50IGhhcyBiZWVuIHN1Y2Nlc3NmdWxseSB2ZXJpZmllZC48L3A+JyxcbiAgICAgIHRleHQ6ICdZb3VyIGFjY291bnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHZlcmlmaWVkLidcbiAgICB9LFxuICAgIGhhc2hpbmdGdW5jdGlvbjogbXlIYXNoZXJcbiAgfSwgZnVuY3Rpb24gKGVyciwgb3B0aW9ucykge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnY29uZmlndXJlZDogJyArICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpKVxuICB9KVxuXG4gIG5ldi5nZW5lcmF0ZVRlbXBVc2VyTW9kZWwoVXNlciwgZnVuY3Rpb24gKGVyciwgdGVtcFVzZXJNb2RlbCkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnZ2VuZXJhdGVkIHRlbXAgdXNlciBtb2RlbDogJyArICh0eXBlb2YgdGVtcFVzZXJNb2RlbCA9PT0gJ2Z1bmN0aW9uJykpXG4gIH0pXG4gIHJldHVybiBuZXZcbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "User",
        "require",
        "mongoose",
        "nev",
        "bcrypt",
        "module",
        "exports",
        "locale",
        "myHasher",
        "password",
        "tempUserData",
        "insertTempUser",
        "callback",
        "genSalt",
        "err",
        "salt",
        "hash",
        "subject",
        "html",
        "text",
        "configure",
        "verificationURL",
        "process",
        "env",
        "EMAIL_VERIFICATION_URL",
        "URLLength",
        "persistentUserModel",
        "emailFieldName",
        "passwordFieldName",
        "URLFieldName",
        "expirationTime",
        "transportOptions",
        "service",
        "auth",
        "user",
        "EMAIL_USER",
        "pass",
        "EMAIL_PASSWORD",
        "verifyMailOptions",
        "from",
        "EMAIL_FROM",
        "shouldSendConfirmation",
        "confirmMailOptions",
        "hashingFunction",
        "options",
        "console",
        "log",
        "generateTempUserModel",
        "tempUserModel"
      ],
      "mappings": ";;;;AAAA;AACA,IAAIA,OAAOC,QAAQ,gBAAR,CAAX;AACA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;AACA,IAAIE,MAAMF,QAAQ,oBAAR,EAA8BC,QAA9B,CAAV;AACA,IAAIE,SAASH,QAAQ,UAAR,CAAb;;AAEAI,OAAOC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;;AAEjC,MAAMC,WAAW,SAAXA,QAAW,CAACC,QAAD,EAAWC,YAAX,EAAyBC,cAAzB,EAAyCC,QAAzC,EAAsD;AACrER,WAAOS,OAAP,CAAe,CAAf,EAAkB,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AACrCX,aAAOY,IAAP,CAAYP,QAAZ,EAAsBM,IAAtB,EAA4B,UAAUD,GAAV,EAAeE,IAAf,EAAqB;AAC/C,eAAOL,eAAeK,IAAf,EAAqBN,YAArB,EAAmCE,QAAnC,CAAP;AACD,OAFD;AAGD,KAJD;AAKD,GAND;;AAQA;AACA,MAAIK,UAAU,wBAAd;AACA,MAAIC,OAAO,oEAAX;AACA,MAAIC,OAAO,oEAAX;AACA,MAAIZ,WAAS,IAAb,EAAmB;AACjBU,cAAU,+BAAV;AACAC,WAAO,sEAAP;AACAC,WAAO,oEAAP;AACD;;AAEDhB,MAAIiB,SAAJ,CAAc;AACZC,qBAAiBC,QAAQC,GAAR,CAAYC,sBADjB;AAEZC,eAAW,EAFC;;AAIZ;AACAC,yBAAqB1B,IALT;AAMZ2B,oBAAgB,OANJ;AAOZC,uBAAmB,UAPP;AAQZC,kBAAc,yBARF;AASZC,oBAAgB,KATJ,EASW;;AAEvB;AACAC,sBAAkB;AAChBC,eAAS,OADO;AAEhBC,YAAM;AACJC,cAAMZ,QAAQC,GAAR,CAAYY,UADd;AAEJC,cAAMd,QAAQC,GAAR,CAAYc;AAFd;AAFU,KAZN;AAmBZC,uBAAmB;AACjBC,YAAMjB,QAAQC,GAAR,CAAYiB,UADD;AAEjBvB,eAASA,OAFQ;AAGjBC,YAAMA,IAHW;AAIjBC,YAAMA;AAJW,KAnBP;AAyBZsB,4BAAwB,IAzBZ;AA0BZC,wBAAoB;AAClBH,YAAMjB,QAAQC,GAAR,CAAYiB,UADA;AAElBvB,eAAS,wBAFS;AAGlBC,YAAM,qDAHY;AAIlBC,YAAM;AAJY,KA1BR;AAgCZwB,qBAAiBnC;AAhCL,GAAd,EAiCG,UAAUM,GAAV,EAAe8B,OAAf,EAAwB;AACzB,QAAI9B,GAAJ,EAAS;AACP+B,cAAQC,GAAR,CAAYhC,GAAZ;AACA;AACD;AACD+B,YAAQC,GAAR,CAAY,kBAAkB,QAAOF,OAAP,yCAAOA,OAAP,OAAmB,QAArC,CAAZ;AACD,GAvCD;;AAyCAzC,MAAI4C,qBAAJ,CAA0B/C,IAA1B,EAAgC,UAAUc,GAAV,EAAekC,aAAf,EAA8B;AAC5D,QAAIlC,GAAJ,EAAS;AACP+B,cAAQC,GAAR,CAAYhC,GAAZ;AACA;AACD;AACD+B,YAAQC,GAAR,CAAY,iCAAiC,OAAOE,aAAP,KAAyB,UAA1D,CAAZ;AACD,GAND;AAOA,SAAO7C,GAAP;AACD,CArED",
      "file": "index.js",
      "sourceRoot": "/app/mail",
      "sourcesContent": [
        "/* eslint no-template-curly-in-string: 0 */\nvar User = require('../models/User')\nvar mongoose = require('mongoose')\nvar nev = require('email-verification')(mongoose)\nvar bcrypt = require('bcryptjs')\n\nmodule.exports = function (locale) {\n\n  const myHasher = (password, tempUserData, insertTempUser, callback) => {\n    bcrypt.genSalt(8, function (err, salt) {\n      bcrypt.hash(password, salt, function (err, hash) {\n        return insertTempUser(hash, tempUserData, callback)\n      })\n    })\n  }\n\n  /* email messages, we may change them depending on locale */\n  var subject = 'Please confirm account'\n  var html = 'Click the following link to confirm your account:</p><p>${URL}</p>'\n  var text = 'Please confirm your account by clicking the following link: ${URL}'\n  if (locale==='es') {\n    subject = 'Por favor, confirma tu cuenta'\n    html = 'Pulsa el enlace siguiente para confirmar tu cuenta:</p><p>${URL}</p>'\n    text = 'Por favor, confirma tu cuenta pulsando el enlace siguiente: ${URL}'\n  }\n\n  nev.configure({\n    verificationURL: process.env.EMAIL_VERIFICATION_URL,\n    URLLength: 16,\n\n    // mongo-stuff\n    persistentUserModel: User,\n    emailFieldName: 'email',\n    passwordFieldName: 'password',\n    URLFieldName: 'GENERATED_VERIFYING_URL',\n    expirationTime: 86400, //1 day\n\n    // emailing options\n    transportOptions: {\n      service: 'Gmail',\n      auth: {\n        user: process.env.EMAIL_USER,\n        pass: process.env.EMAIL_PASSWORD\n      }\n    },\n    verifyMailOptions: {\n      from: process.env.EMAIL_FROM,\n      subject: subject,\n      html: html,\n      text: text\n    },\n    shouldSendConfirmation: true,\n    confirmMailOptions: {\n      from: process.env.EMAIL_FROM,\n      subject: 'Successfully verified!',\n      html: '<p>Your account has been successfully verified.</p>',\n      text: 'Your account has been successfully verified.'\n    },\n    hashingFunction: myHasher\n  }, function (err, options) {\n    if (err) {\n      console.log(err)\n      return\n    }\n    console.log('configured: ' + (typeof options === 'object'))\n  })\n\n  nev.generateTempUserModel(User, function (err, tempUserModel) {\n    if (err) {\n      console.log(err)\n      return\n    }\n    console.log('generated temp user model: ' + (typeof tempUserModel === 'function'))\n  })\n  return nev\n}\n"
      ]
    },
    "mtime": 1516293705000
  },
  "{\"filename\":\"/app/models/TempUser.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/models/TempUser.js",
      "filenameRelative": "/app/models/TempUser.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "TempUser.js",
      "sourceFileName": "TempUser.js",
      "sourceRoot": "/app/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "TempUser"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar crypto = require('crypto');\n\nvar Schema = mongoose.Schema;\n\nvar oAuthTypes = ['github', 'twitter', 'facebook', 'google', 'linkedin'];\n\nvar userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type: Date, default: Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  GENERATED_VERIFYING_URL: { type: String }\n});\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true;\n  return name.length;\n}, 'Name cannot be blank');\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true;\n  return email.length;\n}, 'Email cannot be blank');\n\nuserSchema.path('email').validate(function (email, fn) {\n  var User = mongoose.model('User');\n  if (this.skipValidation()) fn(true);\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0);\n    });\n  } else fn(true);\n}, 'Email already exists');\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true;\n  return username.length;\n}, 'Username cannot be blank');\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true;\n  return password.length;\n}, 'Password cannot be blank');\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next();\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'));\n  } else {\n    next();\n  }\n});\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password;\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function makeSalt() {\n    return Math.round(new Date().valueOf() * Math.random()) + '';\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function encryptPassword(password) {\n    if (!password) return '';\n    try {\n      return crypto.createHmac('sha1', this.salt).update(password).digest('hex');\n    } catch (err) {\n      return '';\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function skipValidation() {\n    return ~oAuthTypes.indexOf(this.provider);\n  }\n};\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function load(options, cb) {\n    options.select = options.select || 'name username';\n    return this.findOne(options.criteria).select(options.select).exec(cb);\n  }\n};\n\nvar TempUser = mongoose.model('TempUser', userSchema);\n\nmodule.exports = TempUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRlbXBVc2VyLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNyeXB0byIsIlNjaGVtYSIsIm9BdXRoVHlwZXMiLCJ1c2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiZW1haWwiLCJ1c2VybmFtZSIsInByb3ZpZGVyIiwibG9jYWxlIiwicGFzc3dvcmQiLCJhdXRoVG9rZW4iLCJsYXN0bG9naW4iLCJEYXRlIiwibm93IiwiZmFjZWJvb2siLCJpZCIsInRva2VuIiwiZ29vZ2xlIiwiR0VORVJBVEVEX1ZFUklGWUlOR19VUkwiLCJ2YWxpZGF0ZVByZXNlbmNlT2YiLCJ2YWx1ZSIsImxlbmd0aCIsInBhdGgiLCJ2YWxpZGF0ZSIsInNraXBWYWxpZGF0aW9uIiwiZm4iLCJVc2VyIiwibW9kZWwiLCJpc05ldyIsImlzTW9kaWZpZWQiLCJmaW5kIiwiZXhlYyIsImVyciIsInVzZXJzIiwicHJlIiwibmV4dCIsIkVycm9yIiwibWV0aG9kcyIsImF1dGhlbnRpY2F0ZSIsInBsYWluVGV4dCIsImVuY3J5cHRQYXNzd29yZCIsImhhc2hlZF9wYXNzd29yZCIsIm1ha2VTYWx0IiwiTWF0aCIsInJvdW5kIiwidmFsdWVPZiIsInJhbmRvbSIsImNyZWF0ZUhtYWMiLCJzYWx0IiwidXBkYXRlIiwiZGlnZXN0IiwiaW5kZXhPZiIsInN0YXRpY3MiLCJsb2FkIiwib3B0aW9ucyIsImNiIiwic2VsZWN0IiwiZmluZE9uZSIsImNyaXRlcmlhIiwiVGVtcFVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBTUMsU0FBU0QsUUFBUSxRQUFSLENBQWY7O0FBRUEsSUFBSUUsU0FBU0gsU0FBU0csTUFBdEI7O0FBRUEsSUFBTUMsYUFBYSxDQUNqQixRQURpQixFQUVqQixTQUZpQixFQUdqQixVQUhpQixFQUlqQixRQUppQixFQUtqQixVQUxpQixD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WCxDQUFtQixLQUFLNUMsUUFBeEIsQ0FBUjtBQUNEO0FBbkRrQixDQUFyQjs7QUFzREE7Ozs7QUFJQVAsV0FBV29ELE9BQVgsR0FBcUI7O0FBRW5COzs7Ozs7OztBQVFBQyxRQUFNLGNBQVVDLE9BQVYsRUFBbUJDLEVBQW5CLEVBQXVCO0FBQzNCRCxZQUFRRSxNQUFSLEdBQWlCRixRQUFRRSxNQUFSLElBQWtCLGVBQW5DO0FBQ0EsV0FBTyxLQUFLQyxPQUFMLENBQWFILFFBQVFJLFFBQXJCLEVBQ0pGLE1BREksQ0FDR0YsUUFBUUUsTUFEWCxFQUVKekIsSUFGSSxDQUVDd0IsRUFGRCxDQUFQO0FBR0Q7QUFma0IsQ0FBckI7O0FBbUJBLElBQUlJLFdBQVdoRSxTQUFTZ0MsS0FBVCxDQUFlLFVBQWYsRUFBMkIzQixVQUEzQixDQUFmOztBQUVBNEQsT0FBT0MsT0FBUCxHQUFpQkYsUUFBakIiLCJmaWxlIjoiVGVtcFVzZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG5jb25zdCBjcnlwdG8gPSByZXF1aXJlKCdjcnlwdG8nKVxuXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbmNvbnN0IG9BdXRoVHlwZXMgPSBbXG4gICdnaXRodWInLFxuICAndHdpdHRlcicsXG4gICdmYWNlYm9vaycsXG4gICdnb29nbGUnLFxuICAnbGlua2VkaW4nXG5dXG5cbmNvbnN0IHVzZXJTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgbmFtZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGVtYWlsOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgdXNlcm5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBwcm92aWRlcjogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIGxvY2FsZTogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICdlbicgfSxcbiAgcGFzc3dvcmQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBhdXRoVG9rZW46IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBsYXN0bG9naW46IHsgdHlwZSA6IERhdGUsIGRlZmF1bHQgOiBEYXRlLm5vdyB9LFxuICBmYWNlYm9vazoge1xuICAgIGlkICAgICAgICAgICA6IFN0cmluZyxcbiAgICB0b2tlbiAgICAgICAgOiBTdHJpbmcsXG4gICAgZW1haWwgICAgICAgIDogU3RyaW5nLFxuICAgIG5hbWUgICAgICAgICA6IFN0cmluZ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBpZCAgICAgICAgICAgOiBTdHJpbmcsXG4gICAgdG9rZW4gICAgICAgIDogU3RyaW5nLFxuICAgIGVtYWlsICAgICAgICA6IFN0cmluZyxcbiAgICBuYW1lICAgICAgICAgOiBTdHJpbmdcbiAgfSxcbiAgR0VORVJBVEVEX1ZFUklGWUlOR19VUkw6IHt0eXBlOiBTdHJpbmd9XG59KVxuXG5jb25zdCB2YWxpZGF0ZVByZXNlbmNlT2YgPSB2YWx1ZSA9PiB2YWx1ZSAmJiB2YWx1ZS5sZW5ndGhcblxuXG4vKipcbiAqIFZhbGlkYXRpb25zXG4gKi9cblxuLy8gdGhlIGJlbG93IDUgdmFsaWRhdGlvbnMgb25seSBhcHBseSBpZiB5b3UgYXJlIHNpZ25pbmcgdXAgdHJhZGl0aW9uYWxseVxuXG51c2VyU2NoZW1hLnBhdGgoJ25hbWUnKS52YWxpZGF0ZShmdW5jdGlvbiAobmFtZSkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gbmFtZS5sZW5ndGhcbn0sICdOYW1lIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZShmdW5jdGlvbiAoZW1haWwpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIGVtYWlsLmxlbmd0aFxufSwgJ0VtYWlsIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZShmdW5jdGlvbiAoZW1haWwsIGZuKSB7XG4gIGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicpXG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIGZuKHRydWUpXG5cbiAgLy8gQ2hlY2sgb25seSB3aGVuIGl0IGlzIGEgbmV3IHVzZXIgb3Igd2hlbiBlbWFpbCBmaWVsZCBpcyBtb2RpZmllZFxuICBpZiAodGhpcy5pc05ldyB8fCB0aGlzLmlzTW9kaWZpZWQoJ2VtYWlsJykpIHtcbiAgICBVc2VyLmZpbmQoeyBlbWFpbDogZW1haWwgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgZm4oIWVyciAmJiB1c2Vycy5sZW5ndGggPT09IDApXG4gICAgfSlcbiAgfSBlbHNlIGZuKHRydWUpXG59LCAnRW1haWwgYWxyZWFkeSBleGlzdHMnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ3VzZXJuYW1lJykudmFsaWRhdGUoZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiB1c2VybmFtZS5sZW5ndGhcbn0sICdVc2VybmFtZSBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ3Bhc3N3b3JkJykudmFsaWRhdGUoZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiBwYXNzd29yZC5sZW5ndGhcbn0sICdQYXNzd29yZCBjYW5ub3QgYmUgYmxhbmsnKVxuXG5cbi8qKlxuICogUHJlLXNhdmUgaG9va1xuICovXG5cbnVzZXJTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgaWYgKCF0aGlzLmlzTmV3KSByZXR1cm4gbmV4dCgpXG5cbiAgaWYgKCF2YWxpZGF0ZVByZXNlbmNlT2YodGhpcy5wYXNzd29yZCkgJiYgIXRoaXMuc2tpcFZhbGlkYXRpb24oKSkge1xuICAgIG5leHQobmV3IEVycm9yKCdJbnZhbGlkIHBhc3N3b3JkJykpXG4gIH0gZWxzZSB7XG4gICAgbmV4dCgpXG4gIH1cbn0pXG5cbi8qKlxuICogTWV0aG9kc1xuICovXG5cbnVzZXJTY2hlbWEubWV0aG9kcyA9IHtcblxuICAvKipcbiAgICogQXV0aGVudGljYXRlIC0gY2hlY2sgaWYgdGhlIHBhc3N3b3JkcyBhcmUgdGhlIHNhbWVcbiAgICpcbiAgICogQHBhcmFtIHtTdHJpbmd9IHBsYWluVGV4dFxuICAgKiBAcmV0dXJuIHtCb29sZWFufVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBhdXRoZW50aWNhdGU6IGZ1bmN0aW9uIChwbGFpblRleHQpIHtcbiAgICByZXR1cm4gdGhpcy5lbmNyeXB0UGFzc3dvcmQocGxhaW5UZXh0KSA9PT0gdGhpcy5oYXNoZWRfcGFzc3dvcmRcbiAgfSxcblxuICAvKipcbiAgICogTWFrZSBzYWx0XG4gICAqXG4gICAqIEByZXR1cm4ge1N0cmluZ31cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgbWFrZVNhbHQ6IGZ1bmN0aW9uICgpIHtcbiAgICByZXR1cm4gTWF0aC5yb3VuZCgobmV3IERhdGUoKS52YWx1ZU9mKCkgKiBNYXRoLnJhbmRvbSgpKSkgKyAnJ1xuICB9LFxuXG4gIC8qKlxuICAgKiBFbmNyeXB0IHBhc3N3b3JkXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwYXNzd29yZFxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIGVuY3J5cHRQYXNzd29yZDogZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gICAgaWYgKCFwYXNzd29yZCkgcmV0dXJuICcnXG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBjcnlwdG9cbiAgICAgICAgLmNyZWF0ZUhtYWMoJ3NoYTEnLCB0aGlzLnNhbHQpXG4gICAgICAgIC51cGRhdGUocGFzc3dvcmQpXG4gICAgICAgIC5kaWdlc3QoJ2hleCcpXG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gIH0sXG5cbiAgLyoqXG4gICAqIFZhbGlkYXRpb24gaXMgbm90IHJlcXVpcmVkIGlmIHVzaW5nIE9BdXRoXG4gICAqL1xuXG4gIHNraXBWYWxpZGF0aW9uOiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIH5vQXV0aFR5cGVzLmluZGV4T2YodGhpcy5wcm92aWRlcilcbiAgfVxufVxuXG4vKipcbiAqIFN0YXRpY3NcbiAqL1xuXG51c2VyU2NoZW1hLnN0YXRpY3MgPSB7XG5cbiAgLyoqXG4gICAqIExvYWRcbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IG9wdGlvbnNcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gY2JcbiAgICogQGFwaSBwcml2YXRlXG4gICAqL1xuXG4gIGxvYWQ6IGZ1bmN0aW9uIChvcHRpb25zLCBjYikge1xuICAgIG9wdGlvbnMuc2VsZWN0ID0gb3B0aW9ucy5zZWxlY3QgfHwgJ25hbWUgdXNlcm5hbWUnXG4gICAgcmV0dXJuIHRoaXMuZmluZE9uZShvcHRpb25zLmNyaXRlcmlhKVxuICAgICAgLnNlbGVjdChvcHRpb25zLnNlbGVjdClcbiAgICAgIC5leGVjKGNiKVxuICB9XG59XG5cblxudmFyIFRlbXBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1RlbXBVc2VyJywgdXNlclNjaGVtYSlcblxubW9kdWxlLmV4cG9ydHMgPSBUZW1wVXNlclxuXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "TempUser.js"
      ],
      "names": [
        "mongoose",
        "require",
        "crypto",
        "Schema",
        "oAuthTypes",
        "userSchema",
        "name",
        "type",
        "String",
        "default",
        "email",
        "username",
        "provider",
        "locale",
        "password",
        "authToken",
        "lastlogin",
        "Date",
        "now",
        "facebook",
        "id",
        "token",
        "google",
        "GENERATED_VERIFYING_URL",
        "validatePresenceOf",
        "value",
        "length",
        "path",
        "validate",
        "skipValidation",
        "fn",
        "User",
        "model",
        "isNew",
        "isModified",
        "find",
        "exec",
        "err",
        "users",
        "pre",
        "next",
        "Error",
        "methods",
        "authenticate",
        "plainText",
        "encryptPassword",
        "hashed_password",
        "makeSalt",
        "Math",
        "round",
        "valueOf",
        "random",
        "createHmac",
        "salt",
        "update",
        "digest",
        "indexOf",
        "statics",
        "load",
        "options",
        "cb",
        "select",
        "findOne",
        "criteria",
        "TempUser",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "TempUser.js",
      "sourceRoot": "/app/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nconst crypto = require('crypto')\n\nvar Schema = mongoose.Schema\n\nconst oAuthTypes = [\n  'github',\n  'twitter',\n  'facebook',\n  'google',\n  'linkedin'\n]\n\nconst userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type : Date, default : Date.now },\n  facebook: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  google: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  GENERATED_VERIFYING_URL: {type: String}\n})\n\nconst validatePresenceOf = value => value && value.length\n\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true\n  return name.length\n}, 'Name cannot be blank')\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true\n  return email.length\n}, 'Email cannot be blank')\n\nuserSchema.path('email').validate(function (email, fn) {\n  const User = mongoose.model('User')\n  if (this.skipValidation()) fn(true)\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0)\n    })\n  } else fn(true)\n}, 'Email already exists')\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true\n  return username.length\n}, 'Username cannot be blank')\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true\n  return password.length\n}, 'Password cannot be blank')\n\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next()\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'))\n  } else {\n    next()\n  }\n})\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function (plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function () {\n    return Math.round((new Date().valueOf() * Math.random())) + ''\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function (password) {\n    if (!password) return ''\n    try {\n      return crypto\n        .createHmac('sha1', this.salt)\n        .update(password)\n        .digest('hex')\n    } catch (err) {\n      return ''\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function () {\n    return ~oAuthTypes.indexOf(this.provider)\n  }\n}\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function (options, cb) {\n    options.select = options.select || 'name username'\n    return this.findOne(options.criteria)\n      .select(options.select)\n      .exec(cb)\n  }\n}\n\n\nvar TempUser = mongoose.model('TempUser', userSchema)\n\nmodule.exports = TempUser\n\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/helpers/auth.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/helpers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:production": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/helpers/auth.js",
      "filenameRelative": "/app/helpers/auth.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "auth.js",
      "sourceFileName": "auth.js",
      "sourceRoot": "/app/helpers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/helpers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "auth"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar jwt = require('jsonwebtoken');\nvar sharedSecret = 'shh';\nvar issuer = 'my-awesome-website.com';\n\nmodule.exports = {\n  verifyToken: verifyToken,\n  issueToken: issueToken\n};\n\n//Here we setup the security checks for the endpoints\n//that need it (in our case, only /protected). This\n//function will be called every time a request to a protected\n//endpoint is received\nvar verifyToken = function verifyToken(req, authOrSecDef, token, callback) {\n  //these are the scopes/roles defined for the current endpoint\n  var currentScopes = req.swagger.operation['x-security-scopes'];\n\n  function sendError() {\n    return req.res.status(403).json({ message: 'Error: Access Denied' });\n  }\n\n  //validate the 'Authorization' header. it should have the following format:\n  //'Bearer tokenString'\n  if (token && token.indexOf('Bearer ') === 0) {\n    var tokenString = token.split(' ')[1];\n\n    jwt.verify(tokenString, sharedSecret, function (verificationError, decodedToken) {\n      //check if the JWT was verified correctly\n      if (verificationError === null && Array.isArray(currentScopes) && decodedToken && decodedToken.role) {\n        // check if the role is valid for this endpoint\n        var roleMatch = currentScopes.indexOf(decodedToken.role) !== -1;\n        // check if the issuer matches\n        var issuerMatch = decodedToken.iss === issuer;\n\n        // you can add more verification checks for the\n        // token here if necessary, such as checking if\n        // the username belongs to an active user\n\n        if (roleMatch && issuerMatch) {\n          //add the token to the request so that we\n          //can access it in the endpoint code if necessary\n          req.auth = decodedToken;\n          //if there is no error, just return null in the callback\n          return callback(null);\n        }\n        //return the error in the callback if there is one\n        return callback(sendError());\n      }\n      // return the error in the callback if the JWT was not verified\n      return callback(sendError());\n    });\n  } else {\n    //return the error in the callback if the Authorization header doesn't have the correct format\n    return callback(sendError());\n  }\n};\n\nvar issueToken = function issueToken(username, role) {\n  var token = jwt.sign({\n    sub: username,\n    iss: issuer,\n    role: role\n  }, sharedSecret);\n  return token;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF1dGguanMiXSwibmFtZXMiOlsiand0IiwicmVxdWlyZSIsInNoYXJlZFNlY3JldCIsImlzc3VlciIsIm1vZHVsZSIsImV4cG9ydHMiLCJ2ZXJpZnlUb2tlbiIsImlzc3VlVG9rZW4iLCJyZXEiLCJhdXRoT3JTZWNEZWYiLCJ0b2tlbiIsImNhbGxiYWNrIiwiY3VycmVudFNjb3BlcyIsInN3YWdnZXIiLCJvcGVyYXRpb24iLCJzZW5kRXJyb3IiLCJyZXMiLCJzdGF0dXMiLCJqc29uIiwibWVzc2FnZSIsImluZGV4T2YiLCJ0b2tlblN0cmluZyIsInNwbGl0IiwidmVyaWZ5IiwidmVyaWZpY2F0aW9uRXJyb3IiLCJkZWNvZGVkVG9rZW4iLCJBcnJheSIsImlzQXJyYXkiLCJyb2xlIiwicm9sZU1hdGNoIiwiaXNzdWVyTWF0Y2giLCJpc3MiLCJhdXRoIiwidXNlcm5hbWUiLCJzaWduIiwic3ViIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLE1BQU1DLFFBQVEsY0FBUixDQUFWO0FBQ0EsSUFBSUMsZUFBZSxLQUFuQjtBQUNBLElBQUlDLFNBQVMsd0JBQWI7O0FBR0FDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsMEJBRGU7QUFFZkM7QUFGZSxDQUFqQjs7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLElBQU1ELGNBQWMsU0FBZEEsV0FBYyxDQUFDRSxHQUFELEVBQU1DLFlBQU4sRUFBb0JDLEtBQXBCLEVBQTJCQyxRQUEzQixFQUF3QztBQUMxRDtBQUNBLE1BQUlDLGdCQUFnQkosSUFBSUssT0FBSixDQUFZQyxTQUFaLENBQXNCLG1CQUF0QixDQUFwQjs7QUFFQSxXQUFTQyxTQUFULEdBQXFCO0FBQ25CLFdBQU9QLElBQUlRLEdBQUosQ0FBUUMsTUFBUixDQUFlLEdBQWYsRUFBb0JDLElBQXBCLENBQXlCLEVBQUVDLFNBQVMsc0JBQVgsRUFBekIsQ0FBUDtBQUNEOztBQUVEO0FBQ0E7QUFDQSxNQUFJVCxTQUFTQSxNQUFNVSxPQUFOLENBQWMsU0FBZCxNQUE2QixDQUExQyxFQUE2QztBQUMzQyxRQUFJQyxjQUFjWCxNQUFNWSxLQUFOLENBQVksR0FBWixFQUFpQixDQUFqQixDQUFsQjs7QUFFQXRCLFFBQUl1QixNQUFKLENBQVdGLFdBQVgsRUFBd0JuQixZQUF4QixFQUFzQyxVQUNwQ3NCLGlCQURvQyxFQUVwQ0MsWUFGb0MsRUFHcEM7QUFDQTtBQUNBLFVBQ0VELHNCQUFzQixJQUF0QixJQUNBRSxNQUFNQyxPQUFOLENBQWNmLGFBQWQsQ0FEQSxJQUVBYSxZQUZBLElBR0FBLGFBQWFHLElBSmYsRUFLRTtBQUNBO0FBQ0EsWUFBSUMsWUFBWWpCLGNBQWNRLE9BQWQsQ0FBc0JLLGFBQWFHLElBQW5DLE1BQTZDLENBQUMsQ0FBOUQ7QUFDQTtBQUNBLFlBQUlFLGNBQWNMLGFBQWFNLEdBQWIsS0FBcUI1QixNQUF2Qzs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsWUFBSTBCLGFBQWFDLFdBQWpCLEVBQThCO0FBQzVCO0FBQ0E7QUFDQXRCLGNBQUl3QixJQUFKLEdBQVdQLFlBQVg7QUFDQTtBQUNBLGlCQUFPZCxTQUFTLElBQVQsQ0FBUDtBQUNEO0FBQ0Q7QUFDQSxlQUFPQSxTQUFTSSxXQUFULENBQVA7QUFDRDtBQUNEO0FBQ0EsYUFBT0osU0FBU0ksV0FBVCxDQUFQO0FBQ0QsS0FoQ0Q7QUFpQ0QsR0FwQ0QsTUFvQ087QUFDTDtBQUNBLFdBQU9KLFNBQVNJLFdBQVQsQ0FBUDtBQUNEO0FBQ0YsQ0FsREQ7O0FBb0RBLElBQU1SLGFBQWEsU0FBYkEsVUFBYSxDQUFDMEIsUUFBRCxFQUFXTCxJQUFYLEVBQW9CO0FBQ3JDLE1BQUlsQixRQUFRVixJQUFJa0MsSUFBSixDQUNWO0FBQ0VDLFNBQUtGLFFBRFA7QUFFRUYsU0FBSzVCLE1BRlA7QUFHRXlCLFVBQU1BO0FBSFIsR0FEVSxFQU1WMUIsWUFOVSxDQUFaO0FBUUEsU0FBT1EsS0FBUDtBQUNELENBVkQiLCJmaWxlIjoiYXV0aC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2hlbHBlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgand0ID0gcmVxdWlyZSgnanNvbndlYnRva2VuJylcbnZhciBzaGFyZWRTZWNyZXQgPSAnc2hoJ1xudmFyIGlzc3VlciA9ICdteS1hd2Vzb21lLXdlYnNpdGUuY29tJ1xuXG5cbm1vZHVsZS5leHBvcnRzID0ge1xuICB2ZXJpZnlUb2tlbixcbiAgaXNzdWVUb2tlblxufVxuXG4vL0hlcmUgd2Ugc2V0dXAgdGhlIHNlY3VyaXR5IGNoZWNrcyBmb3IgdGhlIGVuZHBvaW50c1xuLy90aGF0IG5lZWQgaXQgKGluIG91ciBjYXNlLCBvbmx5IC9wcm90ZWN0ZWQpLiBUaGlzXG4vL2Z1bmN0aW9uIHdpbGwgYmUgY2FsbGVkIGV2ZXJ5IHRpbWUgYSByZXF1ZXN0IHRvIGEgcHJvdGVjdGVkXG4vL2VuZHBvaW50IGlzIHJlY2VpdmVkXG5jb25zdCB2ZXJpZnlUb2tlbiA9IChyZXEsIGF1dGhPclNlY0RlZiwgdG9rZW4sIGNhbGxiYWNrKSA9PiB7XG4gIC8vdGhlc2UgYXJlIHRoZSBzY29wZXMvcm9sZXMgZGVmaW5lZCBmb3IgdGhlIGN1cnJlbnQgZW5kcG9pbnRcbiAgdmFyIGN1cnJlbnRTY29wZXMgPSByZXEuc3dhZ2dlci5vcGVyYXRpb25bJ3gtc2VjdXJpdHktc2NvcGVzJ11cblxuICBmdW5jdGlvbiBzZW5kRXJyb3IoKSB7XG4gICAgcmV0dXJuIHJlcS5yZXMuc3RhdHVzKDQwMykuanNvbih7IG1lc3NhZ2U6ICdFcnJvcjogQWNjZXNzIERlbmllZCcgfSlcbiAgfVxuXG4gIC8vdmFsaWRhdGUgdGhlICdBdXRob3JpemF0aW9uJyBoZWFkZXIuIGl0IHNob3VsZCBoYXZlIHRoZSBmb2xsb3dpbmcgZm9ybWF0OlxuICAvLydCZWFyZXIgdG9rZW5TdHJpbmcnXG4gIGlmICh0b2tlbiAmJiB0b2tlbi5pbmRleE9mKCdCZWFyZXIgJykgPT09IDApIHtcbiAgICB2YXIgdG9rZW5TdHJpbmcgPSB0b2tlbi5zcGxpdCgnICcpWzFdXG5cbiAgICBqd3QudmVyaWZ5KHRva2VuU3RyaW5nLCBzaGFyZWRTZWNyZXQsIGZ1bmN0aW9uIChcbiAgICAgIHZlcmlmaWNhdGlvbkVycm9yLFxuICAgICAgZGVjb2RlZFRva2VuXG4gICAgKSB7XG4gICAgICAvL2NoZWNrIGlmIHRoZSBKV1Qgd2FzIHZlcmlmaWVkIGNvcnJlY3RseVxuICAgICAgaWYgKFxuICAgICAgICB2ZXJpZmljYXRpb25FcnJvciA9PT0gbnVsbCAmJlxuICAgICAgICBBcnJheS5pc0FycmF5KGN1cnJlbnRTY29wZXMpICYmXG4gICAgICAgIGRlY29kZWRUb2tlbiAmJlxuICAgICAgICBkZWNvZGVkVG9rZW4ucm9sZVxuICAgICAgKSB7XG4gICAgICAgIC8vIGNoZWNrIGlmIHRoZSByb2xlIGlzIHZhbGlkIGZvciB0aGlzIGVuZHBvaW50XG4gICAgICAgIHZhciByb2xlTWF0Y2ggPSBjdXJyZW50U2NvcGVzLmluZGV4T2YoZGVjb2RlZFRva2VuLnJvbGUpICE9PSAtMVxuICAgICAgICAvLyBjaGVjayBpZiB0aGUgaXNzdWVyIG1hdGNoZXNcbiAgICAgICAgdmFyIGlzc3Vlck1hdGNoID0gZGVjb2RlZFRva2VuLmlzcyA9PT0gaXNzdWVyXG5cbiAgICAgICAgLy8geW91IGNhbiBhZGQgbW9yZSB2ZXJpZmljYXRpb24gY2hlY2tzIGZvciB0aGVcbiAgICAgICAgLy8gdG9rZW4gaGVyZSBpZiBuZWNlc3NhcnksIHN1Y2ggYXMgY2hlY2tpbmcgaWZcbiAgICAgICAgLy8gdGhlIHVzZXJuYW1lIGJlbG9uZ3MgdG8gYW4gYWN0aXZlIHVzZXJcblxuICAgICAgICBpZiAocm9sZU1hdGNoICYmIGlzc3Vlck1hdGNoKSB7XG4gICAgICAgICAgLy9hZGQgdGhlIHRva2VuIHRvIHRoZSByZXF1ZXN0IHNvIHRoYXQgd2VcbiAgICAgICAgICAvL2NhbiBhY2Nlc3MgaXQgaW4gdGhlIGVuZHBvaW50IGNvZGUgaWYgbmVjZXNzYXJ5XG4gICAgICAgICAgcmVxLmF1dGggPSBkZWNvZGVkVG9rZW5cbiAgICAgICAgICAvL2lmIHRoZXJlIGlzIG5vIGVycm9yLCBqdXN0IHJldHVybiBudWxsIGluIHRoZSBjYWxsYmFja1xuICAgICAgICAgIHJldHVybiBjYWxsYmFjayhudWxsKVxuICAgICAgICB9IFxuICAgICAgICAvL3JldHVybiB0aGUgZXJyb3IgaW4gdGhlIGNhbGxiYWNrIGlmIHRoZXJlIGlzIG9uZVxuICAgICAgICByZXR1cm4gY2FsbGJhY2soc2VuZEVycm9yKCkpXG4gICAgICB9IFxuICAgICAgLy8gcmV0dXJuIHRoZSBlcnJvciBpbiB0aGUgY2FsbGJhY2sgaWYgdGhlIEpXVCB3YXMgbm90IHZlcmlmaWVkXG4gICAgICByZXR1cm4gY2FsbGJhY2soc2VuZEVycm9yKCkpXG4gICAgfSlcbiAgfSBlbHNlIHtcbiAgICAvL3JldHVybiB0aGUgZXJyb3IgaW4gdGhlIGNhbGxiYWNrIGlmIHRoZSBBdXRob3JpemF0aW9uIGhlYWRlciBkb2Vzbid0IGhhdmUgdGhlIGNvcnJlY3QgZm9ybWF0XG4gICAgcmV0dXJuIGNhbGxiYWNrKHNlbmRFcnJvcigpKVxuICB9XG59XG5cbmNvbnN0IGlzc3VlVG9rZW4gPSAodXNlcm5hbWUsIHJvbGUpID0+IHtcbiAgdmFyIHRva2VuID0gand0LnNpZ24oXG4gICAge1xuICAgICAgc3ViOiB1c2VybmFtZSxcbiAgICAgIGlzczogaXNzdWVyLFxuICAgICAgcm9sZTogcm9sZVxuICAgIH0sXG4gICAgc2hhcmVkU2VjcmV0XG4gIClcbiAgcmV0dXJuIHRva2VuXG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "auth.js"
      ],
      "names": [
        "jwt",
        "require",
        "sharedSecret",
        "issuer",
        "module",
        "exports",
        "verifyToken",
        "issueToken",
        "req",
        "authOrSecDef",
        "token",
        "callback",
        "currentScopes",
        "swagger",
        "operation",
        "sendError",
        "res",
        "status",
        "json",
        "message",
        "indexOf",
        "tokenString",
        "split",
        "verify",
        "verificationError",
        "decodedToken",
        "Array",
        "isArray",
        "role",
        "roleMatch",
        "issuerMatch",
        "iss",
        "auth",
        "username",
        "sign",
        "sub"
      ],
      "mappings": ";;AAAA,IAAIA,MAAMC,QAAQ,cAAR,CAAV;AACA,IAAIC,eAAe,KAAnB;AACA,IAAIC,SAAS,wBAAb;;AAGAC,OAAOC,OAAP,GAAiB;AACfC,0BADe;AAEfC;AAFe,CAAjB;;AAKA;AACA;AACA;AACA;AACA,IAAMD,cAAc,SAAdA,WAAc,CAACE,GAAD,EAAMC,YAAN,EAAoBC,KAApB,EAA2BC,QAA3B,EAAwC;AAC1D;AACA,MAAIC,gBAAgBJ,IAAIK,OAAJ,CAAYC,SAAZ,CAAsB,mBAAtB,CAApB;;AAEA,WAASC,SAAT,GAAqB;AACnB,WAAOP,IAAIQ,GAAJ,CAAQC,MAAR,CAAe,GAAf,EAAoBC,IAApB,CAAyB,EAAEC,SAAS,sBAAX,EAAzB,CAAP;AACD;;AAED;AACA;AACA,MAAIT,SAASA,MAAMU,OAAN,CAAc,SAAd,MAA6B,CAA1C,EAA6C;AAC3C,QAAIC,cAAcX,MAAMY,KAAN,CAAY,GAAZ,EAAiB,CAAjB,CAAlB;;AAEAtB,QAAIuB,MAAJ,CAAWF,WAAX,EAAwBnB,YAAxB,EAAsC,UACpCsB,iBADoC,EAEpCC,YAFoC,EAGpC;AACA;AACA,UACED,sBAAsB,IAAtB,IACAE,MAAMC,OAAN,CAAcf,aAAd,CADA,IAEAa,YAFA,IAGAA,aAAaG,IAJf,EAKE;AACA;AACA,YAAIC,YAAYjB,cAAcQ,OAAd,CAAsBK,aAAaG,IAAnC,MAA6C,CAAC,CAA9D;AACA;AACA,YAAIE,cAAcL,aAAaM,GAAb,KAAqB5B,MAAvC;;AAEA;AACA;AACA;;AAEA,YAAI0B,aAAaC,WAAjB,EAA8B;AAC5B;AACA;AACAtB,cAAIwB,IAAJ,GAAWP,YAAX;AACA;AACA,iBAAOd,SAAS,IAAT,CAAP;AACD;AACD;AACA,eAAOA,SAASI,WAAT,CAAP;AACD;AACD;AACA,aAAOJ,SAASI,WAAT,CAAP;AACD,KAhCD;AAiCD,GApCD,MAoCO;AACL;AACA,WAAOJ,SAASI,WAAT,CAAP;AACD;AACF,CAlDD;;AAoDA,IAAMR,aAAa,SAAbA,UAAa,CAAC0B,QAAD,EAAWL,IAAX,EAAoB;AACrC,MAAIlB,QAAQV,IAAIkC,IAAJ,CACV;AACEC,SAAKF,QADP;AAEEF,SAAK5B,MAFP;AAGEyB,UAAMA;AAHR,GADU,EAMV1B,YANU,CAAZ;AAQA,SAAOQ,KAAP;AACD,CAVD",
      "file": "auth.js",
      "sourceRoot": "/app/helpers",
      "sourcesContent": [
        "var jwt = require('jsonwebtoken')\nvar sharedSecret = 'shh'\nvar issuer = 'my-awesome-website.com'\n\n\nmodule.exports = {\n  verifyToken,\n  issueToken\n}\n\n//Here we setup the security checks for the endpoints\n//that need it (in our case, only /protected). This\n//function will be called every time a request to a protected\n//endpoint is received\nconst verifyToken = (req, authOrSecDef, token, callback) => {\n  //these are the scopes/roles defined for the current endpoint\n  var currentScopes = req.swagger.operation['x-security-scopes']\n\n  function sendError() {\n    return req.res.status(403).json({ message: 'Error: Access Denied' })\n  }\n\n  //validate the 'Authorization' header. it should have the following format:\n  //'Bearer tokenString'\n  if (token && token.indexOf('Bearer ') === 0) {\n    var tokenString = token.split(' ')[1]\n\n    jwt.verify(tokenString, sharedSecret, function (\n      verificationError,\n      decodedToken\n    ) {\n      //check if the JWT was verified correctly\n      if (\n        verificationError === null &&\n        Array.isArray(currentScopes) &&\n        decodedToken &&\n        decodedToken.role\n      ) {\n        // check if the role is valid for this endpoint\n        var roleMatch = currentScopes.indexOf(decodedToken.role) !== -1\n        // check if the issuer matches\n        var issuerMatch = decodedToken.iss === issuer\n\n        // you can add more verification checks for the\n        // token here if necessary, such as checking if\n        // the username belongs to an active user\n\n        if (roleMatch && issuerMatch) {\n          //add the token to the request so that we\n          //can access it in the endpoint code if necessary\n          req.auth = decodedToken\n          //if there is no error, just return null in the callback\n          return callback(null)\n        } \n        //return the error in the callback if there is one\n        return callback(sendError())\n      } \n      // return the error in the callback if the JWT was not verified\n      return callback(sendError())\n    })\n  } else {\n    //return the error in the callback if the Authorization header doesn't have the correct format\n    return callback(sendError())\n  }\n}\n\nconst issueToken = (username, role) => {\n  var token = jwt.sign(\n    {\n      sub: username,\n      iss: issuer,\n      role: role\n    },\n    sharedSecret\n  )\n  return token\n}"
      ]
    },
    "mtime": 1516137320000
  }
}