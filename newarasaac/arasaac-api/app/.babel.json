{
  "{\"filename\":\"/app/app.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/app.js",
      "filenameRelative": "/app/app.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "app.js",
      "sourceFileName": "app.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "app"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar SwaggerExpress = require('swagger-express-mw');\nvar express = require('express');\nvar cors = require('cors');\nvar app = express();\nvar morgan = require('morgan');\n// const swaggerUi = require('swagger-ui-express')\n\nvar config = require('./config');\n// const errorhandler = require('errorhandler')\n\n\nvar yaml = require('js-yaml');\nvar fs = require('fs');\ntry {\n  var swaggerDocument = yaml.safeLoad(fs.readFileSync('./api/swagger/swagger.yaml', 'utf8'));\n  var swaggerJSON = JSON.stringify(swaggerDocument, null, 4);\n  fs.writeFile('./public/arasaac.json', swaggerJSON, function (err) {\n    if (err) return console.log(err);\n    console.log('arasaac.json file generated');\n  });\n} catch (e) {\n  console.log(e);\n}\n\nvar swaggerConfig = {\n  appRoot: __dirname // required config,\n};\n\n/*bbdd configuration in its own file*/\nrequire('./db');\n\napp.use(cors());\napp.set('etag', false);\napp.use(morgan('dev'));\nconsole.log(app);\napp.use(express.static('./public'));\n\n// app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument))\n\n\nSwaggerExpress.create(swaggerConfig, function (err, swaggerExpress) {\n  if (err) {\n    throw err;\n  }\n  // install middleware\n  swaggerExpress.register(app);\n\n  var port = process.env.PORT || config.port;\n  app.listen(port);\n  console.log('App running on port ' + port);\n});\n\nmodule.exports = app; // for testing\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJTd2FnZ2VyRXhwcmVzcyIsInJlcXVpcmUiLCJleHByZXNzIiwiY29ycyIsImFwcCIsIm1vcmdhbiIsImNvbmZpZyIsInlhbWwiLCJmcyIsInN3YWdnZXJEb2N1bWVudCIsInNhZmVMb2FkIiwicmVhZEZpbGVTeW5jIiwic3dhZ2dlckpTT04iLCJKU09OIiwic3RyaW5naWZ5Iiwid3JpdGVGaWxlIiwiZXJyIiwiY29uc29sZSIsImxvZyIsImUiLCJzd2FnZ2VyQ29uZmlnIiwiYXBwUm9vdCIsIl9fZGlybmFtZSIsInVzZSIsInNldCIsInN0YXRpYyIsImNyZWF0ZSIsInN3YWdnZXJFeHByZXNzIiwicmVnaXN0ZXIiLCJwb3J0IiwicHJvY2VzcyIsImVudiIsIlBPUlQiLCJsaXN0ZW4iLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQU1BLGlCQUFpQkMsUUFBUSxvQkFBUixDQUF2QjtBQUNBLElBQUlDLFVBQVVELFFBQVEsU0FBUixDQUFkO0FBQ0EsSUFBSUUsT0FBT0YsUUFBUSxNQUFSLENBQVg7QUFDQSxJQUFJRyxNQUFNRixTQUFWO0FBQ0EsSUFBTUcsU0FBU0osUUFBUSxRQUFSLENBQWY7QUFDQTs7QUFFQSxJQUFNSyxTQUFTTCxRQUFRLFVBQVIsQ0FBZjtBQUNBOzs7QUFHQSxJQUFNTSxPQUFPTixRQUFRLFNBQVIsQ0FBYjtBQUNBLElBQU1PLEtBQUtQLFFBQVEsSUFBUixDQUFYO0FBQ0EsSUFBSTtBQUNGLE1BQUlRLGtCQUFrQkYsS0FBS0csUUFBTCxDQUFjRixHQUFHRyxZQUFILENBQWdCLDRCQUFoQixFQUE4QyxNQUE5QyxDQUFkLENBQXRCO0FBQ0EsTUFBTUMsY0FBY0MsS0FBS0MsU0FBTCxDQUFlTCxlQUFmLEVBQWdDLElBQWhDLEVBQXNDLENBQXRDLENBQXBCO0FBQ0FELEtBQUdPLFNBQUgsQ0FBYSx1QkFBYixFQUFzQ0gsV0FBdEMsRUFBbUQsVUFBVUksR0FBVixFQUFlO0FBQ2hFLFFBQUlBLEdBQUosRUFBUyxPQUFPQyxRQUFRQyxHQUFSLENBQVlGLEdBQVosQ0FBUDtBQUNUQyxZQUFRQyxHQUFSLENBQVksNkJBQVo7QUFDRCxHQUhEO0FBSUQsQ0FQRCxDQU9FLE9BQU9DLENBQVAsRUFBVTtBQUNWRixVQUFRQyxHQUFSLENBQVlDLENBQVo7QUFDRDs7QUFFRCxJQUFJQyxnQkFBZ0I7QUFDbEJDLFdBQVNDLFNBRFMsQ0FDQztBQURELENBQXBCOztBQUlBO0FBQ0FyQixRQUFRLE1BQVI7O0FBRUFHLElBQUltQixHQUFKLENBQVFwQixNQUFSO0FBQ0FDLElBQUlvQixHQUFKLENBQVEsTUFBUixFQUFnQixLQUFoQjtBQUNBcEIsSUFBSW1CLEdBQUosQ0FBUWxCLE9BQU8sS0FBUCxDQUFSO0FBQ0FZLFFBQVFDLEdBQVIsQ0FBWWQsR0FBWjtBQUNBQSxJQUFJbUIsR0FBSixDQUFRckIsUUFBUXVCLE1BQVIsQ0FBZSxVQUFmLENBQVI7O0FBRUE7OztBQUdBekIsZUFBZTBCLE1BQWYsQ0FBc0JOLGFBQXRCLEVBQXFDLFVBQVNKLEdBQVQsRUFBY1csY0FBZCxFQUE4QjtBQUNqRSxNQUFJWCxHQUFKLEVBQVM7QUFBRSxVQUFNQSxHQUFOO0FBQVc7QUFDdEI7QUFDQVcsaUJBQWVDLFFBQWYsQ0FBd0J4QixHQUF4Qjs7QUFFQSxNQUFJeUIsT0FBT0MsUUFBUUMsR0FBUixDQUFZQyxJQUFaLElBQW9CMUIsT0FBT3VCLElBQXRDO0FBQ0F6QixNQUFJNkIsTUFBSixDQUFXSixJQUFYO0FBQ0FaLFVBQVFDLEdBQVIsQ0FBWSx5QkFBeUJXLElBQXJDO0FBRUQsQ0FURDs7QUFXQUssT0FBT0MsT0FBUCxHQUFpQi9CLEdBQWpCLEMsQ0FBcUIiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlUm9vdCI6Ii9hcHAiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBTd2FnZ2VyRXhwcmVzcyA9IHJlcXVpcmUoJ3N3YWdnZXItZXhwcmVzcy1tdycpXG52YXIgZXhwcmVzcyA9IHJlcXVpcmUoJ2V4cHJlc3MnKVxudmFyIGNvcnMgPSByZXF1aXJlKCdjb3JzJylcbnZhciBhcHAgPSBleHByZXNzKClcbmNvbnN0IG1vcmdhbiA9IHJlcXVpcmUoJ21vcmdhbicpXG4vLyBjb25zdCBzd2FnZ2VyVWkgPSByZXF1aXJlKCdzd2FnZ2VyLXVpLWV4cHJlc3MnKVxuXG5jb25zdCBjb25maWcgPSByZXF1aXJlKCcuL2NvbmZpZycpXG4vLyBjb25zdCBlcnJvcmhhbmRsZXIgPSByZXF1aXJlKCdlcnJvcmhhbmRsZXInKVxuXG5cbmNvbnN0IHlhbWwgPSByZXF1aXJlKCdqcy15YW1sJylcbmNvbnN0IGZzID0gcmVxdWlyZSgnZnMnKVxudHJ5IHtcbiAgdmFyIHN3YWdnZXJEb2N1bWVudCA9IHlhbWwuc2FmZUxvYWQoZnMucmVhZEZpbGVTeW5jKCcuL2FwaS9zd2FnZ2VyL3N3YWdnZXIueWFtbCcsICd1dGY4JykpXG4gIGNvbnN0IHN3YWdnZXJKU09OID0gSlNPTi5zdHJpbmdpZnkoc3dhZ2dlckRvY3VtZW50LCBudWxsLCA0KVxuICBmcy53cml0ZUZpbGUoJy4vcHVibGljL2FyYXNhYWMuanNvbicsIHN3YWdnZXJKU09OLCBmdW5jdGlvbiAoZXJyKSB7XG4gICAgaWYgKGVycikgcmV0dXJuIGNvbnNvbGUubG9nKGVycilcbiAgICBjb25zb2xlLmxvZygnYXJhc2FhYy5qc29uIGZpbGUgZ2VuZXJhdGVkJylcbiAgfSlcbn0gY2F0Y2ggKGUpIHtcbiAgY29uc29sZS5sb2coZSlcbn1cblxudmFyIHN3YWdnZXJDb25maWcgPSB7XG4gIGFwcFJvb3Q6IF9fZGlybmFtZSAvLyByZXF1aXJlZCBjb25maWcsXG59XG5cbi8qYmJkZCBjb25maWd1cmF0aW9uIGluIGl0cyBvd24gZmlsZSovXG5yZXF1aXJlKCcuL2RiJylcblxuYXBwLnVzZShjb3JzKCkpXG5hcHAuc2V0KCdldGFnJywgZmFsc2UpXG5hcHAudXNlKG1vcmdhbignZGV2JykpXG5jb25zb2xlLmxvZyhhcHApXG5hcHAudXNlKGV4cHJlc3Muc3RhdGljKCcuL3B1YmxpYycpKVxuXG4vLyBhcHAudXNlKCcvYXBpLWRvY3MnLCBzd2FnZ2VyVWkuc2VydmUsIHN3YWdnZXJVaS5zZXR1cChzd2FnZ2VyRG9jdW1lbnQpKVxuXG5cblN3YWdnZXJFeHByZXNzLmNyZWF0ZShzd2FnZ2VyQ29uZmlnLCBmdW5jdGlvbihlcnIsIHN3YWdnZXJFeHByZXNzKSB7XG4gIGlmIChlcnIpIHsgdGhyb3cgZXJyIH1cbiAgLy8gaW5zdGFsbCBtaWRkbGV3YXJlXG4gIHN3YWdnZXJFeHByZXNzLnJlZ2lzdGVyKGFwcClcblxuICB2YXIgcG9ydCA9IHByb2Nlc3MuZW52LlBPUlQgfHwgY29uZmlnLnBvcnRcbiAgYXBwLmxpc3Rlbihwb3J0KVxuICBjb25zb2xlLmxvZygnQXBwIHJ1bm5pbmcgb24gcG9ydCAnICsgcG9ydClcblxufSlcblxubW9kdWxlLmV4cG9ydHMgPSBhcHAgLy8gZm9yIHRlc3RpbmdcbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "app.js"
      ],
      "names": [
        "SwaggerExpress",
        "require",
        "express",
        "cors",
        "app",
        "morgan",
        "config",
        "yaml",
        "fs",
        "swaggerDocument",
        "safeLoad",
        "readFileSync",
        "swaggerJSON",
        "JSON",
        "stringify",
        "writeFile",
        "err",
        "console",
        "log",
        "e",
        "swaggerConfig",
        "appRoot",
        "__dirname",
        "use",
        "set",
        "static",
        "create",
        "swaggerExpress",
        "register",
        "port",
        "process",
        "env",
        "PORT",
        "listen",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAMA,iBAAiBC,QAAQ,oBAAR,CAAvB;AACA,IAAIC,UAAUD,QAAQ,SAAR,CAAd;AACA,IAAIE,OAAOF,QAAQ,MAAR,CAAX;AACA,IAAIG,MAAMF,SAAV;AACA,IAAMG,SAASJ,QAAQ,QAAR,CAAf;AACA;;AAEA,IAAMK,SAASL,QAAQ,UAAR,CAAf;AACA;;;AAGA,IAAMM,OAAON,QAAQ,SAAR,CAAb;AACA,IAAMO,KAAKP,QAAQ,IAAR,CAAX;AACA,IAAI;AACF,MAAIQ,kBAAkBF,KAAKG,QAAL,CAAcF,GAAGG,YAAH,CAAgB,4BAAhB,EAA8C,MAA9C,CAAd,CAAtB;AACA,MAAMC,cAAcC,KAAKC,SAAL,CAAeL,eAAf,EAAgC,IAAhC,EAAsC,CAAtC,CAApB;AACAD,KAAGO,SAAH,CAAa,uBAAb,EAAsCH,WAAtC,EAAmD,UAAUI,GAAV,EAAe;AAChE,QAAIA,GAAJ,EAAS,OAAOC,QAAQC,GAAR,CAAYF,GAAZ,CAAP;AACTC,YAAQC,GAAR,CAAY,6BAAZ;AACD,GAHD;AAID,CAPD,CAOE,OAAOC,CAAP,EAAU;AACVF,UAAQC,GAAR,CAAYC,CAAZ;AACD;;AAED,IAAIC,gBAAgB;AAClBC,WAASC,SADS,CACC;AADD,CAApB;;AAIA;AACArB,QAAQ,MAAR;;AAEAG,IAAImB,GAAJ,CAAQpB,MAAR;AACAC,IAAIoB,GAAJ,CAAQ,MAAR,EAAgB,KAAhB;AACApB,IAAImB,GAAJ,CAAQlB,OAAO,KAAP,CAAR;AACAY,QAAQC,GAAR,CAAYd,GAAZ;AACAA,IAAImB,GAAJ,CAAQrB,QAAQuB,MAAR,CAAe,UAAf,CAAR;;AAEA;;;AAGAzB,eAAe0B,MAAf,CAAsBN,aAAtB,EAAqC,UAASJ,GAAT,EAAcW,cAAd,EAA8B;AACjE,MAAIX,GAAJ,EAAS;AAAE,UAAMA,GAAN;AAAW;AACtB;AACAW,iBAAeC,QAAf,CAAwBxB,GAAxB;;AAEA,MAAIyB,OAAOC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB1B,OAAOuB,IAAtC;AACAzB,MAAI6B,MAAJ,CAAWJ,IAAX;AACAZ,UAAQC,GAAR,CAAY,yBAAyBW,IAArC;AAED,CATD;;AAWAK,OAAOC,OAAP,GAAiB/B,GAAjB,C,CAAqB",
      "file": "app.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "const SwaggerExpress = require('swagger-express-mw')\nvar express = require('express')\nvar cors = require('cors')\nvar app = express()\nconst morgan = require('morgan')\n// const swaggerUi = require('swagger-ui-express')\n\nconst config = require('./config')\n// const errorhandler = require('errorhandler')\n\n\nconst yaml = require('js-yaml')\nconst fs = require('fs')\ntry {\n  var swaggerDocument = yaml.safeLoad(fs.readFileSync('./api/swagger/swagger.yaml', 'utf8'))\n  const swaggerJSON = JSON.stringify(swaggerDocument, null, 4)\n  fs.writeFile('./public/arasaac.json', swaggerJSON, function (err) {\n    if (err) return console.log(err)\n    console.log('arasaac.json file generated')\n  })\n} catch (e) {\n  console.log(e)\n}\n\nvar swaggerConfig = {\n  appRoot: __dirname // required config,\n}\n\n/*bbdd configuration in its own file*/\nrequire('./db')\n\napp.use(cors())\napp.set('etag', false)\napp.use(morgan('dev'))\nconsole.log(app)\napp.use(express.static('./public'))\n\n// app.use('/api-docs', swaggerUi.serve, swaggerUi.setup(swaggerDocument))\n\n\nSwaggerExpress.create(swaggerConfig, function(err, swaggerExpress) {\n  if (err) { throw err }\n  // install middleware\n  swaggerExpress.register(app)\n\n  var port = process.env.PORT || config.port\n  app.listen(port)\n  console.log('App running on port ' + port)\n\n})\n\nmodule.exports = app // for testing\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/config/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/index.js",
      "filenameRelative": "/app/config/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/config",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nrequire('babel-polyfill');\nvar path = require('path');\n\nvar development = require('./env/development');\nvar test = require('./env/test');\nvar production = require('./env/production');\n\nvar defaults = {\n  host: process.env.HOST || 'mongodb',\n  port: process.env.PORT || 8100,\n  materialsDir: path.join(process.cwd(), 'materials'),\n  jwtSecret: 'asdfgASDFG12345'\n};\n\n/**\n * Expose\n */\n\nmodule.exports = {\n  development: Object.assign({}, defaults, development),\n  test: Object.assign({}, defaults, test),\n  production: Object.assign({}, defaults, production)\n}[process.env.NODE_ENV || 'development'];\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbInJlcXVpcmUiLCJwYXRoIiwiZGV2ZWxvcG1lbnQiLCJ0ZXN0IiwicHJvZHVjdGlvbiIsImRlZmF1bHRzIiwiaG9zdCIsInByb2Nlc3MiLCJlbnYiLCJIT1NUIiwicG9ydCIsIlBPUlQiLCJtYXRlcmlhbHNEaXIiLCJqb2luIiwiY3dkIiwiand0U2VjcmV0IiwibW9kdWxlIiwiZXhwb3J0cyIsIk9iamVjdCIsImFzc2lnbiIsIk5PREVfRU5WIl0sIm1hcHBpbmdzIjoiOztBQUFBQSxRQUFRLGdCQUFSO0FBQ0EsSUFBTUMsT0FBT0QsUUFBUSxNQUFSLENBQWI7O0FBRUEsSUFBTUUsY0FBY0YsUUFBUSxtQkFBUixDQUFwQjtBQUNBLElBQU1HLE9BQU9ILFFBQVEsWUFBUixDQUFiO0FBQ0EsSUFBTUksYUFBYUosUUFBUSxrQkFBUixDQUFuQjs7QUFHQSxJQUFNSyxXQUFXO0FBQ2ZDLFFBQU1DLFFBQVFDLEdBQVIsQ0FBWUMsSUFBWixJQUFvQixTQURYO0FBRWZDLFFBQU1ILFFBQVFDLEdBQVIsQ0FBWUcsSUFBWixJQUFvQixJQUZYO0FBR2ZDLGdCQUFjWCxLQUFLWSxJQUFMLENBQVdOLFFBQVFPLEdBQVIsRUFBWCxFQUEwQixXQUExQixDQUhDO0FBSWZDLGFBQVc7QUFKSSxDQUFqQjs7QUFPQTs7OztBQUlBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZmLGVBQWFnQixPQUFPQyxNQUFQLENBQWMsRUFBZCxFQUFrQmQsUUFBbEIsRUFBNEJILFdBQTVCLENBREU7QUFFZkMsUUFBTWUsT0FBT0MsTUFBUCxDQUFjLEVBQWQsRUFBa0JkLFFBQWxCLEVBQTRCRixJQUE1QixDQUZTO0FBR2ZDLGNBQVljLE9BQU9DLE1BQVAsQ0FBYyxFQUFkLEVBQWtCZCxRQUFsQixFQUE0QkQsVUFBNUI7QUFIRyxFQUlmRyxRQUFRQyxHQUFSLENBQVlZLFFBQVosSUFBd0IsYUFKVCxDQUFqQiIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2NvbmZpZyIsInNvdXJjZXNDb250ZW50IjpbInJlcXVpcmUoJ2JhYmVsLXBvbHlmaWxsJylcbmNvbnN0IHBhdGggPSByZXF1aXJlKCdwYXRoJylcblxuY29uc3QgZGV2ZWxvcG1lbnQgPSByZXF1aXJlKCcuL2Vudi9kZXZlbG9wbWVudCcpXG5jb25zdCB0ZXN0ID0gcmVxdWlyZSgnLi9lbnYvdGVzdCcpXG5jb25zdCBwcm9kdWN0aW9uID0gcmVxdWlyZSgnLi9lbnYvcHJvZHVjdGlvbicpXG5cblxuY29uc3QgZGVmYXVsdHMgPSB7XG4gIGhvc3Q6IHByb2Nlc3MuZW52LkhPU1QgfHwgJ21vbmdvZGInLFxuICBwb3J0OiBwcm9jZXNzLmVudi5QT1JUIHx8IDgxMDAsXG4gIG1hdGVyaWFsc0RpcjogcGF0aC5qb2luKCBwcm9jZXNzLmN3ZCgpLCAnbWF0ZXJpYWxzJyApLFxuICBqd3RTZWNyZXQ6ICdhc2RmZ0FTREZHMTIzNDUnXG59XG5cbi8qKlxuICogRXhwb3NlXG4gKi9cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGRldmVsb3BtZW50OiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgZGV2ZWxvcG1lbnQpLFxuICB0ZXN0OiBPYmplY3QuYXNzaWduKHt9LCBkZWZhdWx0cywgdGVzdCksXG4gIHByb2R1Y3Rpb246IE9iamVjdC5hc3NpZ24oe30sIGRlZmF1bHRzLCBwcm9kdWN0aW9uKVxufVtwcm9jZXNzLmVudi5OT0RFX0VOViB8fCAnZGV2ZWxvcG1lbnQnXVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "require",
        "path",
        "development",
        "test",
        "production",
        "defaults",
        "host",
        "process",
        "env",
        "HOST",
        "port",
        "PORT",
        "materialsDir",
        "join",
        "cwd",
        "jwtSecret",
        "module",
        "exports",
        "Object",
        "assign",
        "NODE_ENV"
      ],
      "mappings": ";;AAAAA,QAAQ,gBAAR;AACA,IAAMC,OAAOD,QAAQ,MAAR,CAAb;;AAEA,IAAME,cAAcF,QAAQ,mBAAR,CAApB;AACA,IAAMG,OAAOH,QAAQ,YAAR,CAAb;AACA,IAAMI,aAAaJ,QAAQ,kBAAR,CAAnB;;AAGA,IAAMK,WAAW;AACfC,QAAMC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,SADX;AAEfC,QAAMH,QAAQC,GAAR,CAAYG,IAAZ,IAAoB,IAFX;AAGfC,gBAAcX,KAAKY,IAAL,CAAWN,QAAQO,GAAR,EAAX,EAA0B,WAA1B,CAHC;AAIfC,aAAW;AAJI,CAAjB;;AAOA;;;;AAIAC,OAAOC,OAAP,GAAiB;AACff,eAAagB,OAAOC,MAAP,CAAc,EAAd,EAAkBd,QAAlB,EAA4BH,WAA5B,CADE;AAEfC,QAAMe,OAAOC,MAAP,CAAc,EAAd,EAAkBd,QAAlB,EAA4BF,IAA5B,CAFS;AAGfC,cAAYc,OAAOC,MAAP,CAAc,EAAd,EAAkBd,QAAlB,EAA4BD,UAA5B;AAHG,EAIfG,QAAQC,GAAR,CAAYY,QAAZ,IAAwB,aAJT,CAAjB",
      "file": "index.js",
      "sourceRoot": "/app/config",
      "sourcesContent": [
        "require('babel-polyfill')\nconst path = require('path')\n\nconst development = require('./env/development')\nconst test = require('./env/test')\nconst production = require('./env/production')\n\n\nconst defaults = {\n  host: process.env.HOST || 'mongodb',\n  port: process.env.PORT || 8100,\n  materialsDir: path.join( process.cwd(), 'materials' ),\n  jwtSecret: 'asdfgASDFG12345'\n}\n\n/**\n * Expose\n */\n\nmodule.exports = {\n  development: Object.assign({}, defaults, development),\n  test: Object.assign({}, defaults, test),\n  production: Object.assign({}, defaults, production)\n}[process.env.NODE_ENV || 'development']\n"
      ]
    },
    "mtime": 1507868851000
  },
  "{\"filename\":\"/app/config/env/development.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/development.js",
      "filenameRelative": "/app/config/env/development.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "development.js",
      "sourceFileName": "development.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "development"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'development',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://mongodb/arasaac',\n  jwt: { secret: process.env.JWT_SECRET || 'secret key for testing' },\n  // https://developers.facebook.com/\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID || 'Ie20AZvLJI2lQD5Dsgxgjauns',\n    clientSecret: process.env.FACEBOOK_SECRET || 'KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ',\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  // https://apps.twitter.com/\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID || 'prueba',\n    clientSecret: process.env.TWITTER_SECRET || 'prueba',\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  // https://cloud.google.com/console/project\n  google: {\n    clientID: process.env.GOOGLE_CLIENT_ID || '251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com',\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || 'Y8yR9yZAhm9jQ8FKAL8QIEcd',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRldmVsb3BtZW50LmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJlbnYiLCJkYXRhYmFzZVVybCIsInByb2Nlc3MiLCJNT05HT19VUkwiLCJqd3QiLCJzZWNyZXQiLCJKV1RfU0VDUkVUIiwiZmFjZWJvb2siLCJjbGllbnRJRCIsIkZBQ0VCT09LX0NMSUVOVElEIiwiY2xpZW50U2VjcmV0IiwiRkFDRUJPT0tfU0VDUkVUIiwiY2FsbGJhY2tVUkwiLCJ0d2l0dGVyIiwiVFdJVFRFUl9DTElFTlRJRCIsIlRXSVRURVJfU0VDUkVUIiwiZ2l0aHViIiwiR0lUSFVCX0NMSUVOVElEIiwiR0lUSFVCX1NFQ1JFVCIsImxpbmtlZGluIiwiTElOS0VESU5fQ0xJRU5USUQiLCJMSU5LRURJTl9TRUNSRVQiLCJnb29nbGUiLCJHT09HTEVfQ0xJRU5UX0lEIiwiR09PR0xFX0NMSUVOVF9TRUNSRVQiXSwibWFwcGluZ3MiOiI7O0FBQUFBLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsT0FBSyxhQURVO0FBRWZDLGVBQWFDLFFBQVFGLEdBQVIsQ0FBWUcsU0FBWixJQUF5QiwyQkFGdkI7QUFHZkMsT0FBSyxFQUFFQyxRQUFRSCxRQUFRRixHQUFSLENBQVlNLFVBQVosSUFBMEIsd0JBQXBDLEVBSFU7QUFJZjtBQUNBQyxZQUFVO0FBQ1JDLGNBQVVOLFFBQVFGLEdBQVIsQ0FBWVMsaUJBQVosSUFBaUMsMkJBRG5DO0FBRVJDLGtCQUFjUixRQUFRRixHQUFSLENBQVlXLGVBQVosSUFBK0Isb0RBRnJDO0FBR1JDLGlCQUFhO0FBSEwsR0FMSztBQVVmO0FBQ0FDLFdBQVM7QUFDUEwsY0FBVU4sUUFBUUYsR0FBUixDQUFZYyxnQkFBWixJQUFnQyxRQURuQztBQUVQSixrQkFBY1IsUUFBUUYsR0FBUixDQUFZZSxjQUFaLElBQThCLFFBRnJDO0FBR1BILGlCQUFhO0FBSE4sR0FYTTtBQWdCZkksVUFBUTtBQUNOUixjQUFVTixRQUFRRixHQUFSLENBQVlpQixlQURoQjtBQUVOUCxrQkFBY1IsUUFBUUYsR0FBUixDQUFZa0IsYUFGcEI7QUFHTk4saUJBQWE7QUFIUCxHQWhCTztBQXFCZk8sWUFBVTtBQUNSWCxjQUFVTixRQUFRRixHQUFSLENBQVlvQixpQkFEZDtBQUVSVixrQkFBY1IsUUFBUUYsR0FBUixDQUFZcUIsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQXJCSztBQTBCZjtBQUNBVSxVQUFRO0FBQ05kLGNBQVVOLFFBQVFGLEdBQVIsQ0FBWXVCLGdCQUFaLElBQWdDLDBFQURwQztBQUVOYixrQkFBY1IsUUFBUUYsR0FBUixDQUFZd0Isb0JBQVosSUFBb0MsMEJBRjVDO0FBR05aLGlCQUFhO0FBSFA7QUEzQk8sQ0FBakIiLCJmaWxlIjoiZGV2ZWxvcG1lbnQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9jb25maWcvZW52Iiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gIGVudjogJ2RldmVsb3BtZW50JyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL21vbmdvZGIvYXJhc2FhYycsXG4gIGp3dDogeyBzZWNyZXQ6IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgJ3NlY3JldCBrZXkgZm9yIHRlc3RpbmcnIH0sXG4gIC8vIGh0dHBzOi8vZGV2ZWxvcGVycy5mYWNlYm9vay5jb20vXG4gIGZhY2Vib29rOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVElEIHx8ICdJZTIwQVp2TEpJMmxRRDVEc2d4Z2phdW5zJyxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX1NFQ1JFVCB8fCAnS1RaNmN4b0tuRWFrUUNlU3BabGFVQ0pXR0FsVEVCSmoweTJFTWtVQnVqQTd6V1N2YVEnLFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snXG4gIH0sXG4gIC8vIGh0dHBzOi8vYXBwcy50d2l0dGVyLmNvbS9cbiAgdHdpdHRlcjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5UV0lUVEVSX0NMSUVOVElEIHx8ICdwcnVlYmEnLFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuVFdJVFRFUl9TRUNSRVQgfHwgJ3BydWViYScsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC90d2l0dGVyL2NhbGxiYWNrJ1xuICB9LFxuICBnaXRodWI6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR0lUSFVCX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR0lUSFVCX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2dpdGh1Yi9jYWxsYmFjaydcbiAgfSxcbiAgbGlua2VkaW46IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuTElOS0VESU5fQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5MSU5LRURJTl9TRUNSRVQsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9saW5rZWRpbi9jYWxsYmFjaydcbiAgfSxcbiAgLy8gaHR0cHM6Ly9jbG91ZC5nb29nbGUuY29tL2NvbnNvbGUvcHJvamVjdFxuICBnb29nbGU6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCB8fCAnMjUxNDEwNzMwNTUwLWFoY2cwb3U1bWdmaGw4aGx1aTF1cnJ1N2puNXMxMmttLmFwcHMuZ29vZ2xldXNlcmNvbnRlbnQuY29tJyxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdPT0dMRV9DTElFTlRfU0VDUkVUIHx8ICdZOHlSOXlaQWhtOWpROEZLQUw4UUlFY2QnLFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ29vZ2xlL2NhbGxiYWNrJ1xuICB9XG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "development.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "jwt",
        "secret",
        "JWT_SECRET",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENT_ID",
        "GOOGLE_CLIENT_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,aADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,2BAFvB;AAGfC,OAAK,EAAEC,QAAQH,QAAQF,GAAR,CAAYM,UAAZ,IAA0B,wBAApC,EAHU;AAIf;AACAC,YAAU;AACRC,cAAUN,QAAQF,GAAR,CAAYS,iBAAZ,IAAiC,2BADnC;AAERC,kBAAcR,QAAQF,GAAR,CAAYW,eAAZ,IAA+B,oDAFrC;AAGRC,iBAAa;AAHL,GALK;AAUf;AACAC,WAAS;AACPL,cAAUN,QAAQF,GAAR,CAAYc,gBAAZ,IAAgC,QADnC;AAEPJ,kBAAcR,QAAQF,GAAR,CAAYe,cAAZ,IAA8B,QAFrC;AAGPH,iBAAa;AAHN,GAXM;AAgBfI,UAAQ;AACNR,cAAUN,QAAQF,GAAR,CAAYiB,eADhB;AAENP,kBAAcR,QAAQF,GAAR,CAAYkB,aAFpB;AAGNN,iBAAa;AAHP,GAhBO;AAqBfO,YAAU;AACRX,cAAUN,QAAQF,GAAR,CAAYoB,iBADd;AAERV,kBAAcR,QAAQF,GAAR,CAAYqB,eAFlB;AAGRT,iBAAa;AAHL,GArBK;AA0Bf;AACAU,UAAQ;AACNd,cAAUN,QAAQF,GAAR,CAAYuB,gBAAZ,IAAgC,0EADpC;AAENb,kBAAcR,QAAQF,GAAR,CAAYwB,oBAAZ,IAAoC,0BAF5C;AAGNZ,iBAAa;AAHP;AA3BO,CAAjB",
      "file": "development.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'development',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://mongodb/arasaac',\n  jwt: { secret: process.env.JWT_SECRET || 'secret key for testing' },\n  // https://developers.facebook.com/\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID || 'Ie20AZvLJI2lQD5Dsgxgjauns',\n    clientSecret: process.env.FACEBOOK_SECRET || 'KTZ6cxoKnEakQCeSpZlaUCJWGAlTEBJj0y2EMkUBujA7zWSvaQ',\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  // https://apps.twitter.com/\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID || 'prueba',\n    clientSecret: process.env.TWITTER_SECRET || 'prueba',\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  // https://cloud.google.com/console/project\n  google: {\n    clientID: process.env.GOOGLE_CLIENT_ID || '251410730550-ahcg0ou5mgfhl8hlui1urru7jn5s12km.apps.googleusercontent.com',\n    clientSecret: process.env.GOOGLE_CLIENT_SECRET || 'Y8yR9yZAhm9jQ8FKAL8QIEcd',\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/config/env/test.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/test.js",
      "filenameRelative": "/app/config/env/test.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "test.js",
      "sourceFileName": "test.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "test"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'test',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_tests',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QuanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImVudiIsImRhdGFiYXNlVXJsIiwicHJvY2VzcyIsIk1PTkdPX1VSTCIsImZhY2Vib29rIiwiY2xpZW50SUQiLCJGQUNFQk9PS19DTElFTlRJRCIsImNsaWVudFNlY3JldCIsIkZBQ0VCT09LX1NFQ1JFVCIsImNhbGxiYWNrVVJMIiwidHdpdHRlciIsIlRXSVRURVJfQ0xJRU5USUQiLCJUV0lUVEVSX1NFQ1JFVCIsImdpdGh1YiIsIkdJVEhVQl9DTElFTlRJRCIsIkdJVEhVQl9TRUNSRVQiLCJsaW5rZWRpbiIsIkxJTktFRElOX0NMSUVOVElEIiwiTElOS0VESU5fU0VDUkVUIiwiZ29vZ2xlIiwiR09PR0xFX0NMSUVOVElEIiwiR09PR0xFX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxPQUFLLE1BRFU7QUFFZkMsZUFBYUMsUUFBUUYsR0FBUixDQUFZRyxTQUFaLElBQXlCLCtCQUZ2QjtBQUdmQyxZQUFVO0FBQ1JDLGNBQVVILFFBQVFGLEdBQVIsQ0FBWU0saUJBRGQ7QUFFUkMsa0JBQWNMLFFBQVFGLEdBQVIsQ0FBWVEsZUFGbEI7QUFHUkMsaUJBQWE7QUFITCxHQUhLO0FBUWZDLFdBQVM7QUFDUEwsY0FBVUgsUUFBUUYsR0FBUixDQUFZVyxnQkFEZjtBQUVQSixrQkFBY0wsUUFBUUYsR0FBUixDQUFZWSxjQUZuQjtBQUdQSCxpQkFBYTtBQUhOLEdBUk07QUFhZkksVUFBUTtBQUNOUixjQUFVSCxRQUFRRixHQUFSLENBQVljLGVBRGhCO0FBRU5QLGtCQUFjTCxRQUFRRixHQUFSLENBQVllLGFBRnBCO0FBR05OLGlCQUFhO0FBSFAsR0FiTztBQWtCZk8sWUFBVTtBQUNSWCxjQUFVSCxRQUFRRixHQUFSLENBQVlpQixpQkFEZDtBQUVSVixrQkFBY0wsUUFBUUYsR0FBUixDQUFZa0IsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQWxCSztBQXVCZlUsVUFBUTtBQUNOZCxjQUFVSCxRQUFRRixHQUFSLENBQVlvQixlQURoQjtBQUVOYixrQkFBY0wsUUFBUUYsR0FBUixDQUFZcUIsYUFGcEI7QUFHTlosaUJBQWE7QUFIUDtBQXZCTyxDQUFqQiIsImZpbGUiOiJ0ZXN0LmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnL2VudiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbnY6ICd0ZXN0JyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9BUElfdGVzdHMnLFxuICBmYWNlYm9vazoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5GQUNFQk9PS19DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2ZhY2Vib29rL2NhbGxiYWNrJ1xuICB9LFxuICB0d2l0dGVyOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LlRXSVRURVJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5UV0lUVEVSX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL3R3aXR0ZXIvY2FsbGJhY2snXG4gIH0sXG4gIGdpdGh1Yjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HSVRIVUJfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HSVRIVUJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ2l0aHViL2NhbGxiYWNrJ1xuICB9LFxuICBsaW5rZWRpbjoge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5MSU5LRURJTl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkxJTktFRElOX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2xpbmtlZGluL2NhbGxiYWNrJ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX1NFQ1JFVCxcbiAgICBjYWxsYmFja1VSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9hdXRoL2dvb2dsZS9jYWxsYmFjaydcbiAgfVxufSJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "test.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENTID",
        "GOOGLE_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,MADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,+BAFvB;AAGfC,YAAU;AACRC,cAAUH,QAAQF,GAAR,CAAYM,iBADd;AAERC,kBAAcL,QAAQF,GAAR,CAAYQ,eAFlB;AAGRC,iBAAa;AAHL,GAHK;AAQfC,WAAS;AACPL,cAAUH,QAAQF,GAAR,CAAYW,gBADf;AAEPJ,kBAAcL,QAAQF,GAAR,CAAYY,cAFnB;AAGPH,iBAAa;AAHN,GARM;AAafI,UAAQ;AACNR,cAAUH,QAAQF,GAAR,CAAYc,eADhB;AAENP,kBAAcL,QAAQF,GAAR,CAAYe,aAFpB;AAGNN,iBAAa;AAHP,GAbO;AAkBfO,YAAU;AACRX,cAAUH,QAAQF,GAAR,CAAYiB,iBADd;AAERV,kBAAcL,QAAQF,GAAR,CAAYkB,eAFlB;AAGRT,iBAAa;AAHL,GAlBK;AAuBfU,UAAQ;AACNd,cAAUH,QAAQF,GAAR,CAAYoB,eADhB;AAENb,kBAAcL,QAAQF,GAAR,CAAYqB,aAFpB;AAGNZ,iBAAa;AAHP;AAvBO,CAAjB",
      "file": "test.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'test',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_tests',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/config/env/production.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/config/env\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/config/env/production.js",
      "filenameRelative": "/app/config/env/production.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "production.js",
      "sourceFileName": "production.js",
      "sourceRoot": "/app/config/env",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/config/env",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "production"
    },
    "ignored": false,
    "code": "'use strict';\n\nmodule.exports = {\n  env: 'production',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_prod',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInByb2R1Y3Rpb24uanMiXSwibmFtZXMiOlsibW9kdWxlIiwiZXhwb3J0cyIsImVudiIsImRhdGFiYXNlVXJsIiwicHJvY2VzcyIsIk1PTkdPX1VSTCIsImZhY2Vib29rIiwiY2xpZW50SUQiLCJGQUNFQk9PS19DTElFTlRJRCIsImNsaWVudFNlY3JldCIsIkZBQ0VCT09LX1NFQ1JFVCIsImNhbGxiYWNrVVJMIiwidHdpdHRlciIsIlRXSVRURVJfQ0xJRU5USUQiLCJUV0lUVEVSX1NFQ1JFVCIsImdpdGh1YiIsIkdJVEhVQl9DTElFTlRJRCIsIkdJVEhVQl9TRUNSRVQiLCJsaW5rZWRpbiIsIkxJTktFRElOX0NMSUVOVElEIiwiTElOS0VESU5fU0VDUkVUIiwiZ29vZ2xlIiwiR09PR0xFX0NMSUVOVElEIiwiR09PR0xFX1NFQ1JFVCJdLCJtYXBwaW5ncyI6Ijs7QUFBQUEsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxPQUFLLFlBRFU7QUFFZkMsZUFBYUMsUUFBUUYsR0FBUixDQUFZRyxTQUFaLElBQXlCLDhCQUZ2QjtBQUdmQyxZQUFVO0FBQ1JDLGNBQVVILFFBQVFGLEdBQVIsQ0FBWU0saUJBRGQ7QUFFUkMsa0JBQWNMLFFBQVFGLEdBQVIsQ0FBWVEsZUFGbEI7QUFHUkMsaUJBQWE7QUFITCxHQUhLO0FBUWZDLFdBQVM7QUFDUEwsY0FBVUgsUUFBUUYsR0FBUixDQUFZVyxnQkFEZjtBQUVQSixrQkFBY0wsUUFBUUYsR0FBUixDQUFZWSxjQUZuQjtBQUdQSCxpQkFBYTtBQUhOLEdBUk07QUFhZkksVUFBUTtBQUNOUixjQUFVSCxRQUFRRixHQUFSLENBQVljLGVBRGhCO0FBRU5QLGtCQUFjTCxRQUFRRixHQUFSLENBQVllLGFBRnBCO0FBR05OLGlCQUFhO0FBSFAsR0FiTztBQWtCZk8sWUFBVTtBQUNSWCxjQUFVSCxRQUFRRixHQUFSLENBQVlpQixpQkFEZDtBQUVSVixrQkFBY0wsUUFBUUYsR0FBUixDQUFZa0IsZUFGbEI7QUFHUlQsaUJBQWE7QUFITCxHQWxCSztBQXVCZlUsVUFBUTtBQUNOZCxjQUFVSCxRQUFRRixHQUFSLENBQVlvQixlQURoQjtBQUVOYixrQkFBY0wsUUFBUUYsR0FBUixDQUFZcUIsYUFGcEI7QUFHTlosaUJBQWE7QUFIUDtBQXZCTyxDQUFqQiIsImZpbGUiOiJwcm9kdWN0aW9uLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvY29uZmlnL2VudiIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBlbnY6ICdwcm9kdWN0aW9uJyxcbiAgZGF0YWJhc2VVcmw6IHByb2Nlc3MuZW52Lk1PTkdPX1VSTCB8fCAnbW9uZ29kYjovL2xvY2FsaG9zdC9BUElfcHJvZCcsXG4gIGZhY2Vib29rOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkZBQ0VCT09LX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuRkFDRUJPT0tfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZmFjZWJvb2svY2FsbGJhY2snXG4gIH0sXG4gIHR3aXR0ZXI6IHtcbiAgICBjbGllbnRJRDogcHJvY2Vzcy5lbnYuVFdJVFRFUl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LlRXSVRURVJfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvdHdpdHRlci9jYWxsYmFjaydcbiAgfSxcbiAgZ2l0aHViOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkdJVEhVQl9DTElFTlRJRCxcbiAgICBjbGllbnRTZWNyZXQ6IHByb2Nlc3MuZW52LkdJVEhVQl9TRUNSRVQsXG4gICAgY2FsbGJhY2tVUkw6ICdodHRwOi8vbG9jYWxob3N0OjMwMDAvYXV0aC9naXRodWIvY2FsbGJhY2snXG4gIH0sXG4gIGxpbmtlZGluOiB7XG4gICAgY2xpZW50SUQ6IHByb2Nlc3MuZW52LkxJTktFRElOX0NMSUVOVElELFxuICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuTElOS0VESU5fU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvbGlua2VkaW4vY2FsbGJhY2snXG4gIH0sXG4gIGdvb2dsZToge1xuICAgIGNsaWVudElEOiBwcm9jZXNzLmVudi5HT09HTEVfQ0xJRU5USUQsXG4gICAgY2xpZW50U2VjcmV0OiBwcm9jZXNzLmVudi5HT09HTEVfU0VDUkVULFxuICAgIGNhbGxiYWNrVVJMOiAnaHR0cDovL2xvY2FsaG9zdDozMDAwL2F1dGgvZ29vZ2xlL2NhbGxiYWNrJ1xuICB9XG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "production.js"
      ],
      "names": [
        "module",
        "exports",
        "env",
        "databaseUrl",
        "process",
        "MONGO_URL",
        "facebook",
        "clientID",
        "FACEBOOK_CLIENTID",
        "clientSecret",
        "FACEBOOK_SECRET",
        "callbackURL",
        "twitter",
        "TWITTER_CLIENTID",
        "TWITTER_SECRET",
        "github",
        "GITHUB_CLIENTID",
        "GITHUB_SECRET",
        "linkedin",
        "LINKEDIN_CLIENTID",
        "LINKEDIN_SECRET",
        "google",
        "GOOGLE_CLIENTID",
        "GOOGLE_SECRET"
      ],
      "mappings": ";;AAAAA,OAAOC,OAAP,GAAiB;AACfC,OAAK,YADU;AAEfC,eAAaC,QAAQF,GAAR,CAAYG,SAAZ,IAAyB,8BAFvB;AAGfC,YAAU;AACRC,cAAUH,QAAQF,GAAR,CAAYM,iBADd;AAERC,kBAAcL,QAAQF,GAAR,CAAYQ,eAFlB;AAGRC,iBAAa;AAHL,GAHK;AAQfC,WAAS;AACPL,cAAUH,QAAQF,GAAR,CAAYW,gBADf;AAEPJ,kBAAcL,QAAQF,GAAR,CAAYY,cAFnB;AAGPH,iBAAa;AAHN,GARM;AAafI,UAAQ;AACNR,cAAUH,QAAQF,GAAR,CAAYc,eADhB;AAENP,kBAAcL,QAAQF,GAAR,CAAYe,aAFpB;AAGNN,iBAAa;AAHP,GAbO;AAkBfO,YAAU;AACRX,cAAUH,QAAQF,GAAR,CAAYiB,iBADd;AAERV,kBAAcL,QAAQF,GAAR,CAAYkB,eAFlB;AAGRT,iBAAa;AAHL,GAlBK;AAuBfU,UAAQ;AACNd,cAAUH,QAAQF,GAAR,CAAYoB,eADhB;AAENb,kBAAcL,QAAQF,GAAR,CAAYqB,aAFpB;AAGNZ,iBAAa;AAHP;AAvBO,CAAjB",
      "file": "production.js",
      "sourceRoot": "/app/config/env",
      "sourcesContent": [
        "module.exports = {\n  env: 'production',\n  databaseUrl: process.env.MONGO_URL || 'mongodb://localhost/API_prod',\n  facebook: {\n    clientID: process.env.FACEBOOK_CLIENTID,\n    clientSecret: process.env.FACEBOOK_SECRET,\n    callbackURL: 'http://localhost:3000/auth/facebook/callback'\n  },\n  twitter: {\n    clientID: process.env.TWITTER_CLIENTID,\n    clientSecret: process.env.TWITTER_SECRET,\n    callbackURL: 'http://localhost:3000/auth/twitter/callback'\n  },\n  github: {\n    clientID: process.env.GITHUB_CLIENTID,\n    clientSecret: process.env.GITHUB_SECRET,\n    callbackURL: 'http://localhost:3000/auth/github/callback'\n  },\n  linkedin: {\n    clientID: process.env.LINKEDIN_CLIENTID,\n    clientSecret: process.env.LINKEDIN_SECRET,\n    callbackURL: 'http://localhost:3000/auth/linkedin/callback'\n  },\n  google: {\n    clientID: process.env.GOOGLE_CLIENTID,\n    clientSecret: process.env.GOOGLE_SECRET,\n    callbackURL: 'http://localhost:3000/auth/google/callback'\n  }\n}"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/db.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/db.js",
      "filenameRelative": "/app/db.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "db.js",
      "sourceFileName": "db.js",
      "sourceRoot": "/app",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "db"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar config = require('./config');\n\nmongoose.connect(config.databaseUrl);\nmongoose.connection.on('connected', function () {\n  return console.log('Connected to database: ' + config.databaseUrl);\n});\nmongoose.connection.on('error', function (err) {\n  return console.log('Database connection error: ' + err);\n});\nmongoose.connection.on('disconnected', function () {\n  return console.log('Disconnected from database');\n});\n\nprocess.on('SIGINT', function () {\n  return mongoose.connection.close(function () {\n    console.log('Finished App and disconnected from database');\n    process.exit(0);\n  });\n});\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImRiLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNvbmZpZyIsImNvbm5lY3QiLCJkYXRhYmFzZVVybCIsImNvbm5lY3Rpb24iLCJvbiIsImNvbnNvbGUiLCJsb2ciLCJlcnIiLCJwcm9jZXNzIiwiY2xvc2UiLCJleGl0Il0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0QsUUFBUSxVQUFSLENBQWI7O0FBRUFELFNBQVNHLE9BQVQsQ0FBaUJELE9BQU9FLFdBQXhCO0FBQ0FKLFNBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLFdBQXZCLEVBQW9DO0FBQUEsU0FBTUMsUUFBUUMsR0FBUixDQUFZLDRCQUE0Qk4sT0FBT0UsV0FBL0MsQ0FBTjtBQUFBLENBQXBDO0FBQ0FKLFNBQVNLLFVBQVQsQ0FBb0JDLEVBQXBCLENBQXVCLE9BQXZCLEVBQStCLFVBQUNHLEdBQUQ7QUFBQSxTQUFTRixRQUFRQyxHQUFSLENBQVksZ0NBQWdDQyxHQUE1QyxDQUFUO0FBQUEsQ0FBL0I7QUFDQVQsU0FBU0ssVUFBVCxDQUFvQkMsRUFBcEIsQ0FBdUIsY0FBdkIsRUFBdUM7QUFBQSxTQUFNQyxRQUFRQyxHQUFSLENBQVksNEJBQVosQ0FBTjtBQUFBLENBQXZDOztBQUVBRSxRQUFRSixFQUFSLENBQVcsUUFBWCxFQUFxQjtBQUFBLFNBQU1OLFNBQVNLLFVBQVQsQ0FBb0JNLEtBQXBCLENBQTJCLFlBQU07QUFDMURKLFlBQVFDLEdBQVIsQ0FBWSw2Q0FBWjtBQUNBRSxZQUFRRSxJQUFSLENBQWEsQ0FBYjtBQUNELEdBSDBCLENBQU47QUFBQSxDQUFyQiIsImZpbGUiOiJkYi5qcyIsInNvdXJjZVJvb3QiOiIvYXBwIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxudmFyIGNvbmZpZyA9IHJlcXVpcmUoJy4vY29uZmlnJylcblxubW9uZ29vc2UuY29ubmVjdChjb25maWcuZGF0YWJhc2VVcmwpXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdjb25uZWN0ZWQnLCAoKSA9PiBjb25zb2xlLmxvZygnQ29ubmVjdGVkIHRvIGRhdGFiYXNlOiAnICsgY29uZmlnLmRhdGFiYXNlVXJsKSlcbm1vbmdvb3NlLmNvbm5lY3Rpb24ub24oJ2Vycm9yJywoZXJyKSA9PiBjb25zb2xlLmxvZygnRGF0YWJhc2UgY29ubmVjdGlvbiBlcnJvcjogJyArIGVycikpXG5tb25nb29zZS5jb25uZWN0aW9uLm9uKCdkaXNjb25uZWN0ZWQnLCAoKSA9PiBjb25zb2xlLmxvZygnRGlzY29ubmVjdGVkIGZyb20gZGF0YWJhc2UnKSlcblxucHJvY2Vzcy5vbignU0lHSU5UJywgKCkgPT4gbW9uZ29vc2UuY29ubmVjdGlvbi5jbG9zZSggKCkgPT4ge1xuICBjb25zb2xlLmxvZygnRmluaXNoZWQgQXBwIGFuZCBkaXNjb25uZWN0ZWQgZnJvbSBkYXRhYmFzZScpXG4gIHByb2Nlc3MuZXhpdCgwKVxufSkpIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "db.js"
      ],
      "names": [
        "mongoose",
        "require",
        "config",
        "connect",
        "databaseUrl",
        "connection",
        "on",
        "console",
        "log",
        "err",
        "process",
        "close",
        "exit"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASD,QAAQ,UAAR,CAAb;;AAEAD,SAASG,OAAT,CAAiBD,OAAOE,WAAxB;AACAJ,SAASK,UAAT,CAAoBC,EAApB,CAAuB,WAAvB,EAAoC;AAAA,SAAMC,QAAQC,GAAR,CAAY,4BAA4BN,OAAOE,WAA/C,CAAN;AAAA,CAApC;AACAJ,SAASK,UAAT,CAAoBC,EAApB,CAAuB,OAAvB,EAA+B,UAACG,GAAD;AAAA,SAASF,QAAQC,GAAR,CAAY,gCAAgCC,GAA5C,CAAT;AAAA,CAA/B;AACAT,SAASK,UAAT,CAAoBC,EAApB,CAAuB,cAAvB,EAAuC;AAAA,SAAMC,QAAQC,GAAR,CAAY,4BAAZ,CAAN;AAAA,CAAvC;;AAEAE,QAAQJ,EAAR,CAAW,QAAX,EAAqB;AAAA,SAAMN,SAASK,UAAT,CAAoBM,KAApB,CAA2B,YAAM;AAC1DJ,YAAQC,GAAR,CAAY,6CAAZ;AACAE,YAAQE,IAAR,CAAa,CAAb;AACD,GAH0B,CAAN;AAAA,CAArB",
      "file": "db.js",
      "sourceRoot": "/app",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar config = require('./config')\n\nmongoose.connect(config.databaseUrl)\nmongoose.connection.on('connected', () => console.log('Connected to database: ' + config.databaseUrl))\nmongoose.connection.on('error',(err) => console.log('Database connection error: ' + err))\nmongoose.connection.on('disconnected', () => console.log('Disconnected from database'))\n\nprocess.on('SIGINT', () => mongoose.connection.close( () => {\n  console.log('Finished App and disconnected from database')\n  process.exit(0)\n}))"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/controllers/cervezasController.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/cervezasController.js",
      "filenameRelative": "/app/api/controllers/cervezasController.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "cervezasController.js",
      "sourceFileName": "cervezasController.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "cervezasController"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Cervezas = require('../models/Cervezas');\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function search(req, res) {\n    var q = req.query.q;\n    Cervezas.find({ $text: { $search: q } }, function (err, cervezas) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        });\n      }\n      return res.json(cervezas);\n    });\n  },\n  list: function list(req, res) {\n    Cervezas.find(function (err, cervezas) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo la cerveza'\n        });\n      }\n      return res.json(cervezas);\n    });\n  },\n  show: function show(req, res) {\n    var id = req.params.id;\n    Cervezas.findOne({ _id: id }, function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener la cerveza'\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No tenemos esta cerveza'\n        });\n      }\n      return res.json(cerveza);\n    });\n  },\n  create: function create(req, res) {\n    var cerveza = new Cervezas(req.body);\n    cerveza.save(function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error al guardar la cerveza',\n          error: err\n        });\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: cerveza._id\n      });\n    });\n  },\n  update: function update(req, res) {\n    var id = req.params.id;\n    Cervezas.findOne({ _id: id }, function (err, cerveza) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar la cerveza',\n          error: err\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la cerveza'\n        });\n      }\n      cerveza.Nombre = req.body.nombre;\n      cerveza.Descripción = req.body.descripcion;\n      cerveza.Graduacion = req.body.graduacion;\n      cerveza.Envase = req.body.envase;\n      cerveza.Precio = req.body.precio;\n      cerveza.save(function (err, cerveza) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar la cerveza'\n          });\n        }\n        if (!cerveza) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la cerveza'\n          });\n        }\n        return res.json(cerveza);\n      });\n    });\n  },\n  remove: function remove(req, res) {\n    var id = req.params.id;\n    Cervezas.findByIdAndRemove(id, function (err, cerveza) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado la cerveza'\n        });\n      }\n      return res.json(cerveza);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNlcnZlemFzQ29udHJvbGxlci5qcyJdLCJuYW1lcyI6WyJDZXJ2ZXphcyIsInJlcXVpcmUiLCJtb2R1bGUiLCJleHBvcnRzIiwic2VhcmNoIiwicmVxIiwicmVzIiwicSIsInF1ZXJ5IiwiZmluZCIsIiR0ZXh0IiwiJHNlYXJjaCIsImVyciIsImNlcnZlemFzIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJsaXN0Iiwic2hvdyIsImlkIiwicGFyYW1zIiwiZmluZE9uZSIsIl9pZCIsImNlcnZlemEiLCJjcmVhdGUiLCJib2R5Iiwic2F2ZSIsImVycm9yIiwidXBkYXRlIiwiTm9tYnJlIiwibm9tYnJlIiwiRGVzY3JpcGNpw7NuIiwiZGVzY3JpcGNpb24iLCJHcmFkdWFjaW9uIiwiZ3JhZHVhY2lvbiIsIkVudmFzZSIsImVudmFzZSIsIlByZWNpbyIsInByZWNpbyIsInJlbW92ZSIsImZpbmRCeUlkQW5kUmVtb3ZlIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsb0JBQVIsQ0FBZjtBQUNBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2Y7QUFDQUMsVUFBUSxnQkFBVUMsR0FBVixFQUFlQyxHQUFmLEVBQW9CO0FBQzFCLFFBQUlDLElBQUlGLElBQUlHLEtBQUosQ0FBVUQsQ0FBbEI7QUFDQVAsYUFBU1MsSUFBVCxDQUFjLEVBQUVDLE9BQU8sRUFBRUMsU0FBU0osQ0FBWCxFQUFULEVBQWQsRUFBeUMsVUFBU0ssR0FBVCxFQUFjQyxRQUFkLEVBQXdCO0FBQy9ELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9OLElBQUlRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVM7QUFEaUIsU0FBckIsQ0FBUDtBQUdEO0FBQ0QsYUFBT1YsSUFBSVMsSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQVBEO0FBUUQsR0FaYztBQWFmSSxRQUFNLGNBQVNaLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN2Qk4sYUFBU1Ms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LEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxZQUFHLENBQUNPLE9BQUosRUFBYTtBQUNYLGlCQUFPakIsSUFBSVEsTUFBSixDQUFXLEdBQVgsRUFBZ0JDLElBQWhCLENBQXFCO0FBQzFCQyxxQkFBUztBQURpQixXQUFyQixDQUFQO0FBR0Q7QUFDRCxlQUFPVixJQUFJUyxJQUFKLENBQVNRLE9BQVQsQ0FBUDtBQUNELE9BWkQ7QUFhRCxLQTlCRDtBQStCRCxHQXZGYztBQXdGZmdCLFVBQVEsZ0JBQVNsQyxHQUFULEVBQWNDLEdBQWQsRUFBbUI7QUFDekIsUUFBSWEsS0FBS2QsSUFBSWUsTUFBSixDQUFXRCxFQUFwQjtBQUNBbkIsYUFBU3dDLGlCQUFULENBQTJCckIsRUFBM0IsRUFBK0IsVUFBU1AsR0FBVCxFQUFjVyxPQUFkLEVBQXNCO0FBQ25ELFVBQUdYLEdBQUgsRUFBUTtBQUNOLGVBQU9OLElBQUlTLElBQUosQ0FBUyxHQUFULEVBQWM7QUFDbkJDLG1CQUFTO0FBRFUsU0FBZCxDQUFQO0FBR0Q7QUFDRCxhQUFPVixJQUFJUyxJQUFKLENBQVNRLE9BQVQsQ0FBUDtBQUNELEtBUEQ7QUFRRDtBQWxHYyxDQUFqQiIsImZpbGUiOiJjZXJ2ZXphc0NvbnRyb2xsZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9hcGkvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQ2VydmV6YXMgPSByZXF1aXJlKCcuLi9tb2RlbHMvQ2VydmV6YXMnKVxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIC8vIGh0dHBzOi8vZG9jcy5tb25nb2RiLmNvbS92My4wL3JlZmVyZW5jZS9vcGVyYXRvci9xdWVyeS90ZXh0L1xuICBzZWFyY2g6IGZ1bmN0aW9uIChyZXEsIHJlcykge1xuICAgIHZhciBxID0gcmVxLnF1ZXJ5LnFcbiAgICBDZXJ2ZXphcy5maW5kKHsgJHRleHQ6IHsgJHNlYXJjaDogcSB9IH0sIGZ1bmN0aW9uKGVyciwgY2VydmV6YXMpIHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBlbiBsYSBiw7pzcXVlZGEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oY2VydmV6YXMpXG4gICAgfSlcbiAgfSxcbiAgbGlzdDogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBDZXJ2ZXphcy5maW5kKGZ1bmN0aW9uKGVyciwgY2VydmV6YXMpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIG9idGVuaWVuZG8gbGEgY2VydmV6YSdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihjZXJ2ZXphcylcbiAgICB9KVxuICB9LFxuICBzaG93OiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBDZXJ2ZXphcy5maW5kT25lKHtfaWQ6IGlkfSwgZnVuY3Rpb24oZXJyLCBjZXJ2ZXphKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgb2J0ZW5lciBsYSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIWNlcnZlemEpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIHRlbmVtb3MgZXN0YSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGNlcnZlemEpXG4gICAgfSlcbiAgfSxcbiAgY3JlYXRlOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBjZXJ2ZXphID0gbmV3IENlcnZlemFzIChyZXEuYm9keSlcbiAgICBjZXJ2ZXphLnNhdmUoZnVuY3Rpb24oZXJyLCBjZXJ2ZXphKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oIHtcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYWwgZ3VhcmRhciBsYSBjZXJ2ZXphJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnc2F2ZWQnLFxuICAgICAgICBfaWQ6IGNlcnZlemEuX2lkXG4gICAgICB9KVxuICAgIH0pXG4gIH0sXG4gIHVwZGF0ZTogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgQ2VydmV6YXMuZmluZE9uZSh7X2lkOiBpZH0sIGZ1bmN0aW9uKGVyciwgY2VydmV6YSl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yIGFsIGd1YXJkYXIgbGEgY2VydmV6YScsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIWNlcnZlemEpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gaGVtb3MgZW5jb250cmFkbyBsYSBjZXJ2ZXphJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgY2VydmV6YS5Ob21icmUgPSByZXEuYm9keS5ub21icmVcbiAgICAgIGNlcnZlemEuRGVzY3JpcGNpw7NuID0gIHJlcS5ib2R5LmRlc2NyaXBjaW9uXG4gICAgICBjZXJ2ZXphLkdyYWR1YWNpb24gPSByZXEuYm9keS5ncmFkdWFjaW9uXG4gICAgICBjZXJ2ZXphLkVudmFzZSA9IHJlcS5ib2R5LmVudmFzZVxuICAgICAgY2VydmV6YS5QcmVjaW8gPSByZXEuYm9keS5wcmVjaW9cbiAgICAgIGNlcnZlemEuc2F2ZShmdW5jdGlvbihlcnIsIGNlcnZlemEpe1xuICAgICAgICBpZihlcnIpIHtcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIGFsIGd1YXJkYXIgbGEgY2VydmV6YSdcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmKCFjZXJ2ZXphKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBoZW1vcyBlbmNvbnRyYWRvIGxhIGNlcnZlemEnXG4gICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzLmpzb24oY2VydmV6YSlcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBDZXJ2ZXphcy5maW5kQnlJZEFuZFJlbW92ZShpZCwgZnVuY3Rpb24oZXJyLCBjZXJ2ZXphKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oNTAwLCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gbGEgY2VydmV6YSdcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihjZXJ2ZXphKVxuICAgIH0pXG4gIH1cbn0iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "cervezasController.js"
      ],
      "names": [
        "Cervezas",
        "require",
        "module",
        "exports",
        "search",
        "req",
        "res",
        "q",
        "query",
        "find",
        "$text",
        "$search",
        "err",
        "cervezas",
        "status",
        "json",
        "message",
        "list",
        "show",
        "id",
        "params",
        "findOne",
        "_id",
        "cerveza",
        "create",
        "body",
        "save",
        "error",
        "update",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "remove",
        "findByIdAndRemove"
      ],
      "mappings": "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",
      "file": "cervezasController.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "var Cervezas = require('../models/Cervezas')\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function (req, res) {\n    var q = req.query.q\n    Cervezas.find({ $text: { $search: q } }, function(err, cervezas) {\n      if(err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        })\n      }\n      return res.json(cervezas)\n    })\n  },\n  list: function(req, res) {\n    Cervezas.find(function(err, cervezas){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo la cerveza'\n        })\n      }\n      return res.json(cervezas)\n    })\n  },\n  show: function(req, res) {\n    var id = req.params.id\n    Cervezas.findOne({_id: id}, function(err, cerveza){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener la cerveza'\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json( {\n          message: 'No tenemos esta cerveza'\n        })\n      }\n      return res.json(cerveza)\n    })\n  },\n  create: function(req, res) {\n    var cerveza = new Cervezas (req.body)\n    cerveza.save(function(err, cerveza){\n      if(err) {\n        return res.status(500).json( {\n          message: 'Error al guardar la cerveza',\n          error: err\n        })\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: cerveza._id\n      })\n    })\n  },\n  update: function(req, res) {\n    var id = req.params.id\n    Cervezas.findOne({_id: id}, function(err, cerveza){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar la cerveza',\n          error: err\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la cerveza'\n        })\n      }\n      cerveza.Nombre = req.body.nombre\n      cerveza.Descripción =  req.body.descripcion\n      cerveza.Graduacion = req.body.graduacion\n      cerveza.Envase = req.body.envase\n      cerveza.Precio = req.body.precio\n      cerveza.save(function(err, cerveza){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar la cerveza'\n          })\n        }\n        if(!cerveza) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la cerveza'\n          })\n        }\n        return res.json(cerveza)\n      })\n    })\n  },\n  remove: function(req, res) {\n    var id = req.params.id\n    Cervezas.findByIdAndRemove(id, function(err, cerveza){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado la cerveza'\n        })\n      }\n      return res.json(cerveza)\n    })\n  }\n}"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/models/Cervezas.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/models/Cervezas.js",
      "filenameRelative": "/app/api/models/Cervezas.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Cervezas.js",
      "sourceFileName": "Cervezas.js",
      "sourceRoot": "/app/api/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Cervezas"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar cervezaSchema = new Schema({\n  Nombre: String,\n  Descripción: String,\n  Graduacion: String,\n  Envase: String,\n  Precio: String\n});\n\nvar Cerveza = mongoose.model('Cerveza', cervezaSchema);\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Cerveza;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkNlcnZlemFzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsImNlcnZlemFTY2hlbWEiLCJOb21icmUiLCJTdHJpbmciLCJEZXNjcmlwY2nDs24iLCJHcmFkdWFjaW9uIiwiRW52YXNlIiwiUHJlY2lvIiwiQ2VydmV6YSIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBLElBQUlDLGdCQUFnQixJQUFJRCxNQUFKLENBQVc7QUFDN0JFLFVBQVFDLE1BRHFCO0FBRTdCQyxlQUFhRCxNQUZnQjtBQUc3QkUsY0FBWUYsTUFIaUI7QUFJN0JHLFVBQVFILE1BSnFCO0FBSzdCSSxVQUFRSjtBQUxxQixDQUFYLENBQXBCOztBQVFBLElBQUlLLFVBQVVWLFNBQVNXLEtBQVQsQ0FBZSxTQUFmLEVBQTBCUixhQUExQixDQUFkOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBUyxPQUFPQyxPQUFQLEdBQWlCSCxPQUFqQiIsImZpbGUiOiJDZXJ2ZXphcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2FwaS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbnZhciBjZXJ2ZXphU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIE5vbWJyZTogU3RyaW5nLCBcbiAgRGVzY3JpcGNpw7NuOiBTdHJpbmcsIFxuICBHcmFkdWFjaW9uOiBTdHJpbmcsXG4gIEVudmFzZTogU3RyaW5nLFxuICBQcmVjaW86IFN0cmluZyBcbn0pXG5cbnZhciBDZXJ2ZXphID0gbW9uZ29vc2UubW9kZWwoJ0NlcnZlemEnLCBjZXJ2ZXphU2NoZW1hKVxuXG4vKlxuXG5Fc3RvIGRhIGVycm9yIGVuIHVwZGF0ZSB5IGNyZWF0ZTpcbmNlcnZlemFTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIENlcnZlemEuY291bnQoe2NlcnZlemE6IHNlbGYubmFtZX0sIGZ1bmN0aW9uIChlcnIsIGNvdW50KSB7XG4gICAgaWYgKGNvdW50PjApe1xuICAgICAgbmV4dChuZXcgRXJyb3IoJ8KhWWEgZXhpc3RlIGVzdGEgY2VydmV6YSEnKSlcbiAgICB9ZWxzZXsgICAgICAgICAgICAgICAgXG4gICAgICBuZXh0KClcbiAgICB9XG4gIH0pXG59KSBcblxuKi9cblxubW9kdWxlLmV4cG9ydHMgPSBDZXJ2ZXphXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Cervezas.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "cervezaSchema",
        "Nombre",
        "String",
        "Descripción",
        "Graduacion",
        "Envase",
        "Precio",
        "Cerveza",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,UAAQC,MADqB;AAE7BC,eAAaD,MAFgB;AAG7BE,cAAYF,MAHiB;AAI7BG,UAAQH,MAJqB;AAK7BI,UAAQJ;AALqB,CAAX,CAApB;;AAQA,IAAIK,UAAUV,SAASW,KAAT,CAAe,SAAf,EAA0BR,aAA1B,CAAd;;AAEA;;;;;;;;;;;;;;;;AAgBAS,OAAOC,OAAP,GAAiBH,OAAjB",
      "file": "Cervezas.js",
      "sourceRoot": "/app/api/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar cervezaSchema = new Schema({\n  Nombre: String, \n  Descripción: String, \n  Graduacion: String,\n  Envase: String,\n  Precio: String \n})\n\nvar Cerveza = mongoose.model('Cerveza', cervezaSchema)\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Cerveza\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/controllers/hello_world.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/hello_world.js",
      "filenameRelative": "/app/api/controllers/hello_world.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "hello_world.js",
      "sourceFileName": "hello_world.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "hello_world"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar util = require('util');\n\n/*\n  In the starter/skeleton project the 'get' operation on the '/hello' path has an operationId named 'hello'.  Here,\n  we specify that in the exports of this module that 'hello' maps to the function named 'hello'\n */\nmodule.exports = {\n  hello: hello\n};\n\n/*\n  Functions in a127 controllers used for operations should take two parameters:\n\n  Param 1: a handle to the request object\n  Param 2: a handle to the response object\n */\nfunction hello(req, res) {\n  // variables defined in the Swagger document can be referenced using req.swagger.params.{parameter_name}\n  var name = req.swagger.params.name.value || 'stranger';\n  var hello = util.format('Hello, %s!', name);\n\n  // this sends back a JSON response which is a single string\n  res.json(hello);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImhlbGxvX3dvcmxkLmpzIl0sIm5hbWVzIjpbInV0aWwiLCJyZXF1aXJlIiwibW9kdWxlIiwiZXhwb3J0cyIsImhlbGxvIiwicmVxIiwicmVzIiwibmFtZSIsInN3YWdnZXIiLCJwYXJhbXMiLCJ2YWx1ZSIsImZvcm1hdCIsImpzb24iXSwibWFwcGluZ3MiOiJBQUFBOztBQUVBLElBQUlBLE9BQU9DLFFBQVEsTUFBUixDQUFYOztBQUVBOzs7O0FBSUFDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsU0FBT0E7QUFEUSxDQUFqQjs7QUFJQTs7Ozs7O0FBTUEsU0FBU0EsS0FBVCxDQUFlQyxHQUFmLEVBQW9CQyxHQUFwQixFQUF5QjtBQUN2QjtBQUNBLE1BQUlDLE9BQU9GLElBQUlHLE9BQUosQ0FBWUMsTUFBWixDQUFtQkYsSUFBbkIsQ0FBd0JHLEtBQXhCLElBQWlDLFVBQTVDO0FBQ0EsTUFBSU4sUUFBUUosS0FBS1csTUFBTCxDQUFZLFlBQVosRUFBMEJKLElBQTFCLENBQVo7O0FBRUE7QUFDQUQsTUFBSU0sSUFBSixDQUFTUixLQUFUO0FBQ0QiLCJmaWxlIjoiaGVsbG9fd29ybGQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9hcGkvY29udHJvbGxlcnMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCdcblxudmFyIHV0aWwgPSByZXF1aXJlKCd1dGlsJylcblxuLypcbiAgSW4gdGhlIHN0YXJ0ZXIvc2tlbGV0b24gcHJvamVjdCB0aGUgJ2dldCcgb3BlcmF0aW9uIG9uIHRoZSAnL2hlbGxvJyBwYXRoIGhhcyBhbiBvcGVyYXRpb25JZCBuYW1lZCAnaGVsbG8nLiAgSGVyZSxcbiAgd2Ugc3BlY2lmeSB0aGF0IGluIHRoZSBleHBvcnRzIG9mIHRoaXMgbW9kdWxlIHRoYXQgJ2hlbGxvJyBtYXBzIHRvIHRoZSBmdW5jdGlvbiBuYW1lZCAnaGVsbG8nXG4gKi9cbm1vZHVsZS5leHBvcnRzID0ge1xuICBoZWxsbzogaGVsbG9cbn1cblxuLypcbiAgRnVuY3Rpb25zIGluIGExMjcgY29udHJvbGxlcnMgdXNlZCBmb3Igb3BlcmF0aW9ucyBzaG91bGQgdGFrZSB0d28gcGFyYW1ldGVyczpcblxuICBQYXJhbSAxOiBhIGhhbmRsZSB0byB0aGUgcmVxdWVzdCBvYmplY3RcbiAgUGFyYW0gMjogYSBoYW5kbGUgdG8gdGhlIHJlc3BvbnNlIG9iamVjdFxuICovXG5mdW5jdGlvbiBoZWxsbyhyZXEsIHJlcykge1xuICAvLyB2YXJpYWJsZXMgZGVmaW5lZCBpbiB0aGUgU3dhZ2dlciBkb2N1bWVudCBjYW4gYmUgcmVmZXJlbmNlZCB1c2luZyByZXEuc3dhZ2dlci5wYXJhbXMue3BhcmFtZXRlcl9uYW1lfVxuICB2YXIgbmFtZSA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5uYW1lLnZhbHVlIHx8ICdzdHJhbmdlcidcbiAgdmFyIGhlbGxvID0gdXRpbC5mb3JtYXQoJ0hlbGxvLCAlcyEnLCBuYW1lKVxuXG4gIC8vIHRoaXMgc2VuZHMgYmFjayBhIEpTT04gcmVzcG9uc2Ugd2hpY2ggaXMgYSBzaW5nbGUgc3RyaW5nXG4gIHJlcy5qc29uKGhlbGxvKVxufVxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "hello_world.js"
      ],
      "names": [
        "util",
        "require",
        "module",
        "exports",
        "hello",
        "req",
        "res",
        "name",
        "swagger",
        "params",
        "value",
        "format",
        "json"
      ],
      "mappings": "AAAA;;AAEA,IAAIA,OAAOC,QAAQ,MAAR,CAAX;;AAEA;;;;AAIAC,OAAOC,OAAP,GAAiB;AACfC,SAAOA;AADQ,CAAjB;;AAIA;;;;;;AAMA,SAASA,KAAT,CAAeC,GAAf,EAAoBC,GAApB,EAAyB;AACvB;AACA,MAAIC,OAAOF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBF,IAAnB,CAAwBG,KAAxB,IAAiC,UAA5C;AACA,MAAIN,QAAQJ,KAAKW,MAAL,CAAY,YAAZ,EAA0BJ,IAA1B,CAAZ;;AAEA;AACAD,MAAIM,IAAJ,CAASR,KAAT;AACD",
      "file": "hello_world.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "'use strict'\n\nvar util = require('util')\n\n/*\n  In the starter/skeleton project the 'get' operation on the '/hello' path has an operationId named 'hello'.  Here,\n  we specify that in the exports of this module that 'hello' maps to the function named 'hello'\n */\nmodule.exports = {\n  hello: hello\n}\n\n/*\n  Functions in a127 controllers used for operations should take two parameters:\n\n  Param 1: a handle to the request object\n  Param 2: a handle to the response object\n */\nfunction hello(req, res) {\n  // variables defined in the Swagger document can be referenced using req.swagger.params.{parameter_name}\n  var name = req.swagger.params.name.value || 'stranger'\n  var hello = util.format('Hello, %s!', name)\n\n  // this sends back a JSON response which is a single string\n  res.json(hello)\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/controllers/keywords.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/keywords.js",
      "filenameRelative": "/app/api/controllers/keywords.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "keywords.js",
      "sourceFileName": "keywords.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "keywords"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar Keywords = require('../models/Keyword');\nmodule.exports = {\n  getAll: function getAll(req, res) {\n    var language = req.swagger.params.language.value;\n    Keywords.findOne({ language: language }, function (err, keywords) {\n      if (err) {\n        return res.status(500).json({ error: err.message });\n      }\n      console.log(keywords);\n      return res.json(keywords);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtleXdvcmRzLmpzIl0sIm5hbWVzIjpbIktleXdvcmRzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXRBbGwiLCJyZXEiLCJyZXMiLCJsYW5ndWFnZSIsInN3YWdnZXIiLCJwYXJhbXMiLCJ2YWx1ZSIsImZpbmRPbmUiLCJlcnIiLCJrZXl3b3JkcyIsInN0YXR1cyIsImpzb24iLCJlcnJvciIsIm1lc3NhZ2UiLCJjb25zb2xlIiwibG9nIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsbUJBQVIsQ0FBZjtBQUNBQyxPQUFPQyxPQUFQLEdBQWlCO0FBQ2ZDLFVBQVEsZ0JBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN6QixRQUFJQyxXQUFXRixJQUFJRyxPQUFKLENBQVlDLE1BQVosQ0FBbUJGLFFBQW5CLENBQTRCRyxLQUEzQztBQUNBVixhQUFTVyxPQUFULENBQWlCLEVBQUNKLGtCQUFELEVBQWpCLEVBQTZCLFVBQUNLLEdBQUQsRUFBTUMsUUFBTixFQUFtQjtBQUM5QyxVQUFHRCxHQUFILEVBQVE7QUFDTixlQUFPTixJQUFJUSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ0MsT0FBT0osSUFBSUssT0FBWixFQUFyQixDQUFQO0FBQ0Q7QUFDREMsY0FBUUMsR0FBUixDQUFZTixRQUFaO0FBQ0EsYUFBT1AsSUFBSVMsSUFBSixDQUFTRixRQUFULENBQVA7QUFDRCxLQU5EO0FBT0Q7QUFWYyxDQUFqQiIsImZpbGUiOiJrZXl3b3Jkcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2FwaS9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbInZhciBLZXl3b3JkcyA9IHJlcXVpcmUoJy4uL21vZGVscy9LZXl3b3JkJylcbm1vZHVsZS5leHBvcnRzID0ge1xuICBnZXRBbGw6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGxhbmd1YWdlID0gcmVxLnN3YWdnZXIucGFyYW1zLmxhbmd1YWdlLnZhbHVlXG4gICAgS2V5d29yZHMuZmluZE9uZSh7bGFuZ3VhZ2V9LCAoZXJyLCBrZXl3b3JkcykgPT4ge1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7ZXJyb3I6IGVyci5tZXNzYWdlfSlcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKGtleXdvcmRzKVxuICAgICAgcmV0dXJuIHJlcy5qc29uKGtleXdvcmRzKVxuICAgIH0pXG4gIH1cbn1cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "keywords.js"
      ],
      "names": [
        "Keywords",
        "require",
        "module",
        "exports",
        "getAll",
        "req",
        "res",
        "language",
        "swagger",
        "params",
        "value",
        "findOne",
        "err",
        "keywords",
        "status",
        "json",
        "error",
        "message",
        "console",
        "log"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,mBAAR,CAAf;AACAC,OAAOC,OAAP,GAAiB;AACfC,UAAQ,gBAASC,GAAT,EAAcC,GAAd,EAAmB;AACzB,QAAIC,WAAWF,IAAIG,OAAJ,CAAYC,MAAZ,CAAmBF,QAAnB,CAA4BG,KAA3C;AACAV,aAASW,OAAT,CAAiB,EAACJ,kBAAD,EAAjB,EAA6B,UAACK,GAAD,EAAMC,QAAN,EAAmB;AAC9C,UAAGD,GAAH,EAAQ;AACN,eAAON,IAAIQ,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,OAAOJ,IAAIK,OAAZ,EAArB,CAAP;AACD;AACDC,cAAQC,GAAR,CAAYN,QAAZ;AACA,aAAOP,IAAIS,IAAJ,CAASF,QAAT,CAAP;AACD,KAND;AAOD;AAVc,CAAjB",
      "file": "keywords.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "var Keywords = require('../models/Keyword')\nmodule.exports = {\n  getAll: function(req, res) {\n    var language = req.swagger.params.language.value\n    Keywords.findOne({language}, (err, keywords) => {\n      if(err) {\n        return res.status(500).json({error: err.message})\n      }\n      console.log(keywords)\n      return res.json(keywords)\n    })\n  }\n}\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/models/Keyword.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/models/Keyword.js",
      "filenameRelative": "/app/api/models/Keyword.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Keyword.js",
      "sourceFileName": "Keyword.js",
      "sourceRoot": "/app/api/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Keyword"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar keywordSchema = new Schema({\n  locale: String,\n  keyword: String\n});\n\nvar Keyword = mongoose.model('Keyword', keywordSchema, 'keywords');\n\nmodule.exports = Keyword;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIktleXdvcmQuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiU2NoZW1hIiwia2V5d29yZFNjaGVtYSIsImxvY2FsZSIsIlN0cmluZyIsImtleXdvcmQiLCJLZXl3b3JkIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0YsU0FBU0UsTUFBdEI7O0FBRUEsSUFBSUMsZ0JBQWdCLElBQUlELE1BQUosQ0FBVztBQUM3QkUsVUFBUUMsTUFEcUI7QUFFN0JDLFdBQVNEO0FBRm9CLENBQVgsQ0FBcEI7O0FBS0EsSUFBSUUsVUFBVVAsU0FBU1EsS0FBVCxDQUFlLFNBQWYsRUFBMEJMLGFBQTFCLEVBQXlDLFVBQXpDLENBQWQ7O0FBRUFNLE9BQU9DLE9BQVAsR0FBaUJILE9BQWpCIiwiZmlsZSI6IktleXdvcmQuanMiLCJzb3VyY2VSb290IjoiL2FwcC9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG52YXIga2V5d29yZFNjaGVtYSA9IG5ldyBTY2hlbWEoe1xuICBsb2NhbGU6IFN0cmluZywgXG4gIGtleXdvcmQ6IFN0cmluZ1xufSlcblxudmFyIEtleXdvcmQgPSBtb25nb29zZS5tb2RlbCgnS2V5d29yZCcsIGtleXdvcmRTY2hlbWEsICdrZXl3b3JkcycpXG5cbm1vZHVsZS5leHBvcnRzID0gS2V5d29yZFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Keyword.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "keywordSchema",
        "locale",
        "String",
        "keyword",
        "Keyword",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,gBAAgB,IAAID,MAAJ,CAAW;AAC7BE,UAAQC,MADqB;AAE7BC,WAASD;AAFoB,CAAX,CAApB;;AAKA,IAAIE,UAAUP,SAASQ,KAAT,CAAe,SAAf,EAA0BL,aAA1B,EAAyC,UAAzC,CAAd;;AAEAM,OAAOC,OAAP,GAAiBH,OAAjB",
      "file": "Keyword.js",
      "sourceRoot": "/app/api/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar keywordSchema = new Schema({\n  locale: String, \n  keyword: String\n})\n\nvar Keyword = mongoose.model('Keyword', keywordSchema, 'keywords')\n\nmodule.exports = Keyword\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/controllers/materials.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/materials.js",
      "filenameRelative": "/app/api/controllers/materials.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "materials.js",
      "sourceFileName": "materials.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "materials"
    },
    "ignored": false,
    "code": "'use strict';\n\n// habrá que concatenar dos funciones asíncronas,\n// Una para recibir los ficheros (imagenes de materiales) del dir correspondiente\n// Otra que lee los datos en la bbdd\n// mandar json cuandto todo acabe:\n// https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j/37532027#37532027\nvar Materials = require('../models/Materials');\nvar config = require('../../config');\nvar recursive = require('recursive-readdir');\nvar path = require('path');\n\nmodule.exports = {\n  getMaterialById: function getMaterialById(req, res) {\n    var id = req.swagger.params.idMaterial.value;\n    // Use lean to get a plain JS object to modify it, instead of a full model instance\n    // Materials.findOne({idMaterial: id}, function(err, material){\n    Materials.findOne({ idMaterial: id }).lean().exec(function (err, material) {\n\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        });\n      }\n      if (!material) {\n        return res.status(404).json({\n          message: 'No tenemos este material',\n          err: err\n        });\n      }\n      recursive(config.materialsDir + '/' + id + '/screenshots', function (err, files) {\n        files.map(function (file) {\n          var subdir = path.dirname(file).split(path.sep).pop(); //get first parent dir(material_id or language )\n          var defaultLanguage = subdir === 'screenshots';\n          if (defaultLanguage) material.images.push(path.basename(file));\n          // para ver la lista:\n          // db.getCollection('materials').find({ translations: { $exists: true, $not: {$size: 0} } }) \n          else {\n              material.translations.reduce(function (allTranslations, translation) {\n                //lang because translation.language is for mongodb and ga, ca have none value!\n                if (translation.lang === subdir) {\n                  if (!translation.images) translation.images = [];\n                  translation.images.push(path.basename(file));\n                }\n                allTranslations.push(translation);\n                return allTranslations;\n              }, []);\n            }\n        });\n        return res.json(material);\n      });\n    });\n  },\n  // Materials.find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}}).sort({score:{$meta:'textScore'}}, function(err, materials) {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  searchMaterials: function searchMaterials(req, res) {\n    var locale = req.swagger.params.locale.value;\n    var searchText = req.swagger.params.searchText.value;\n    Materials.find({ $text: { $search: searchText, $language: locale } }, { score: { $meta: 'textScore' } }).sort({ 'score': { '$meta': 'textScore' } }).exec(function (err, materials) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error buscando el material',\n          error: err\n        });\n      }\n      return res.json(materials);\n    });\n  },\n  listMaterials: function listMaterials(req, res) {\n    Materials.find(function (err, materials) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los materiales',\n          error: err\n        });\n      }\n      return res.json(materials);\n    });\n  },\n  showMaterials: function showMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findOne({ _id: id }, function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        });\n      }\n      if (!cerveza) {\n        return res.status(404).json({\n          message: 'No tenemos este material',\n          err: err\n        });\n      }\n      return res.json(material);\n    });\n  },\n  createMaterials: function createMaterials(req, res) {\n    var material = new Material(req.body);\n    material.save(function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error al guardar el material',\n          error: err\n        });\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: material._id\n      });\n    });\n  },\n  updateMaterials: function updateMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findOne({ _id: id }, function (err, material) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el material',\n          error: err\n        });\n      }\n      if (!material) {\n        return res.status(404).json({\n          message: 'No hemos encontrado el material'\n        });\n      }\n      material.Nombre = req.body.nombre;\n      material.Descripción = req.body.descripcion;\n      material.Graduacion = req.body.graduacion;\n      material.Envase = req.body.envase;\n      material.Precio = req.body.precio;\n      material.save(function (err, material) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar el material'\n          });\n        }\n        if (!material) {\n          return res.status(404).json({\n            message: 'No hemos encontrado el material'\n          });\n        }\n        return res.json(material);\n      });\n    });\n  },\n  removeMaterials: function removeMaterials(req, res) {\n    var id = req.params.id;\n    Materials.findByIdAndRemove(id, function (err, material) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el  material',\n          error: err\n        });\n      }\n      return res.json(material);\n    });\n  }\n};\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1hdGVyaWFscy5qcyJdLCJuYW1lcyI6WyJNYXRlcmlhbHMiLCJyZXF1aXJlIiwiY29uZmlnIiwicmVjdXJzaXZlIiwicGF0aCIsIm1vZHVsZSIsImV4cG9ydHMiLCJnZXRNYXRlcmlhbEJ5SWQiLCJyZXEiLCJyZXMiLCJpZCIsInN3YWdnZXIiLCJwYXJhbXMiLCJpZE1hdGVyaWFsIiwidmFsdWUiLCJmaW5kT25lIiwibGVhbiIsImV4ZWMiLCJlcnIiLCJtYXRlcmlhbCIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwiZXJyb3IiLCJtYXRlcmlhbHNEaXIiLCJmaWxlcyIsIm1hcCIsInN1YmRpciIsImRpcm5hbWUiLCJmaWxlIiwic3BsaXQiLCJzZXAiLCJwb3AiLCJkZWZhdWx0TGFuZ3VhZ2UiLCJpbWFnZXMiLCJwdXNoIiwiYmFzZW5hbWUiLCJ0cmFuc2xhdGlvbnMiLCJyZWR1Y2UiLCJhbGxUcmFuc2xhdGlvbnMiLCJ0cmFuc2xhdGlvbiIsImxhbmciLCJzZWFyY2hNYXRlcmlhbHMiLCJsb2NhbGUiLCJzZWFyY2hUZXh0IiwiZmluZCIsIiR0ZXh0IiwiJHNlYXJjaCIsIiRsYW5ndWFnZSIsInNjb3JlIiwiJG1ldGEiLCJzb3J0IiwibWF0ZXJpYWxzIiwibGlzdE1hdGVyaWFscyIsInNob3dNYXRlcmlhbHMiLCJfaWQiLCJjZXJ2ZXphIiwiY3JlYXRlTWF0ZXJpYWxzIiwiTWF0ZXJpYWwiLCJib2R5Iiwic2F2ZSIsInVwZGF0ZU1hdGVyaWFscyIsIk5vbWJyZSIsIm5vbWJyZSIsIkRlc2NyaXBjacOzbiIsImRlc2NyaXBjaW9uIiwiR3JhZHVhY2lvbiIsImdyYWR1YWNpb24iLCJFbnZhc2UiLCJlbnZhc2UiLCJQcmVjaW8iLCJwcmVjaW8iLCJyZW1vdmVNYXRlcmlhbHMiLCJmaW5kQnlJZEFuZFJlbW92ZSIsImlzTnVtZXJpYyIsIm4iLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc0Zpbml0ZSJdLCJtYXBwaW5ncyI6Ijs7QUFBQTtBQUNBO0FBQ0E7QUFD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RDtBQVNEO0FBckpjLENBQWpCOztBQTBKQSxTQUFTdUQsU0FBVCxDQUFtQkMsQ0FBbkIsRUFBc0I7QUFDcEIsU0FBTyxDQUFDQyxNQUFNQyxXQUFXRixDQUFYLENBQU4sQ0FBRCxJQUF5QkcsU0FBU0gsQ0FBVCxDQUFoQztBQUNEIiwiZmlsZSI6Im1hdGVyaWFscy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2FwaS9jb250cm9sbGVycyIsInNvdXJjZXNDb250ZW50IjpbIi8vIGhhYnLDoSBxdWUgY29uY2F0ZW5hciBkb3MgZnVuY2lvbmVzIGFzw61uY3JvbmFzLFxuLy8gVW5hIHBhcmEgcmVjaWJpciBsb3MgZmljaGVyb3MgKGltYWdlbmVzIGRlIG1hdGVyaWFsZXMpIGRlbCBkaXIgY29ycmVzcG9uZGllbnRlXG4vLyBPdHJhIHF1ZSBsZWUgbG9zIGRhdG9zIGVuIGxhIGJiZGRcbi8vIG1hbmRhciBqc29uIGN1YW5kdG8gdG9kbyBhY2FiZTpcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzI3MjcxNjcvaG93LWRvLXlvdS1nZXQtYS1saXN0LW9mLXRoZS1uYW1lcy1vZi1hbGwtZmlsZXMtcHJlc2VudC1pbi1hLWRpcmVjdG9yeS1pbi1ub2RlLWovMzc1MzIwMjcjMzc1MzIwMjdcbnZhciBNYXRlcmlhbHMgPSByZXF1aXJlKCcuLi9tb2RlbHMvTWF0ZXJpYWxzJylcbmNvbnN0IGNvbmZpZyA9IHJlcXVpcmUoJy4uLy4uL2NvbmZpZycpXG52YXIgcmVjdXJzaXZlID0gcmVxdWlyZSgncmVjdXJzaXZlLXJlYWRkaXInKVxudmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJylcblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIGdldE1hdGVyaWFsQnlJZDogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEuc3dhZ2dlci5wYXJhbXMuaWRNYXRlcmlhbC52YWx1ZVxuICAgIC8vIFVzZSBsZWFuIHRvIGdldCBhIHBsYWluIEpTIG9iamVjdCB0byBtb2RpZnkgaXQsIGluc3RlYWQgb2YgYSBmdWxsIG1vZGVsIGluc3RhbmNlXG4gICAgLy8gTWF0ZXJpYWxzLmZpbmRPbmUoe2lkTWF0ZXJpYWw6IGlkfSwgZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgTWF0ZXJpYWxzLmZpbmRPbmUoe2lkTWF0ZXJpYWw6IGlkfSkubGVhbigpLmV4ZWMoZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG5cbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgb2J0ZW5lciBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIW1hdGVyaWFsKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyB0ZW5lbW9zIGVzdGUgbWF0ZXJpYWwnLFxuICAgICAgICAgIGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmVjdXJzaXZlKGAke2NvbmZpZy5tYXRlcmlhbHNEaXJ9LyR7aWR9L3NjcmVlbnNob3RzYCwgKGVyciwgZmlsZXMpID0+IHtcbiAgICAgICAgZmlsZXMubWFwKGZpbGUgPT57XG4gICAgICAgICAgbGV0IHN1YmRpciA9IHBhdGguZGlybmFtZShmaWxlKS5zcGxpdChwYXRoLnNlcCkucG9wKCkgLy9nZXQgZmlyc3QgcGFyZW50IGRpcihtYXRlcmlhbF9pZCBvciBsYW5ndWFnZSApXG4gICAgICAgICAgbGV0IGRlZmF1bHRMYW5ndWFnZSA9IChzdWJkaXI9PT0nc2NyZWVuc2hvdHMnKSBcbiAgICAgICAgICBpZiAoZGVmYXVsdExhbmd1YWdlKSBtYXRlcmlhbC5pbWFnZXMucHVzaChwYXRoLmJhc2VuYW1lKGZpbGUpKVxuICAgICAgICAgIC8vIHBhcmEgdmVyIGxhIGxpc3RhOlxuICAgICAgICAgIC8vIGRiLmdldENvbGxlY3Rpb24oJ21hdGVyaWFscycpLmZpbmQoeyB0cmFuc2xhdGlvbnM6IHsgJGV4aXN0czogdHJ1ZSwgJG5vdDogeyRzaXplOiAwfSB9IH0pIFxuICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWF0ZXJpYWwudHJhbnNsYXRpb25zLnJlZHVjZShmdW5jdGlvbihhbGxUcmFuc2xhdGlvbnMsIHRyYW5zbGF0aW9uKSB7XG4gICAgICAgICAgICAgIC8vbGFuZyBiZWNhdXNlIHRyYW5zbGF0aW9uLmxhbmd1YWdlIGlzIGZvciBtb25nb2RiIGFuZCBnYSwgY2EgaGF2ZSBub25lIHZhbHVlIVxuICAgICAgICAgICAgICBpZiAodHJhbnNsYXRpb24ubGFuZyA9PT0gKHN1YmRpcikpIHsgXG4gICAgICAgICAgICAgICAgaWYgKCF0cmFuc2xhdGlvbi5pbWFnZXMpIHRyYW5zbGF0aW9uLmltYWdlcz1bXVxuICAgICAgICAgICAgICAgIHRyYW5zbGF0aW9uLmltYWdlcy5wdXNoKHBhdGguYmFzZW5hbWUoZmlsZSkpXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYWxsVHJhbnNsYXRpb25zLnB1c2godHJhbnNsYXRpb24pXG4gICAgICAgICAgICAgIHJldHVybiBhbGxUcmFuc2xhdGlvbnNcbiAgICAgICAgICAgIH0sIFtdKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKG1hdGVyaWFsKVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICAvLyBNYXRlcmlhbHMuZmluZCh7ICR0ZXh0OiB7ICRzZWFyY2g6IHNlYXJjaFRleHQsICRsYW5ndWFnZTogbG9jYWxlIH0gfSwge3Njb3JlOiB7JG1ldGE6ICd0ZXh0U2NvcmUnfX0pLnNvcnQoe3Njb3JlOnskbWV0YTondGV4dFNjb3JlJ319LCBmdW5jdGlvbihlcnIsIG1hdGVyaWFscykge1xuICAvLyBodHRwczovL2RvY3MubW9uZ29kYi5jb20vdjMuMC9yZWZlcmVuY2Uvb3BlcmF0b3IvcXVlcnkvdGV4dC9cbiAgc2VhcmNoTWF0ZXJpYWxzOiBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICB2YXIgbG9jYWxlID0gcmVxLnN3YWdnZXIucGFyYW1zLmxvY2FsZS52YWx1ZVxuICAgIHZhciBzZWFyY2hUZXh0ID0gcmVxLnN3YWdnZXIucGFyYW1zLnNlYXJjaFRleHQudmFsdWVcbiAgICBNYXRlcmlhbHNcbiAgICAgIC5maW5kKHsgJHRleHQ6IHsgJHNlYXJjaDogc2VhcmNoVGV4dCwgJGxhbmd1YWdlOiBsb2NhbGUgfSB9LCB7c2NvcmU6IHskbWV0YTogJ3RleHRTY29yZSd9fSlcbiAgICAgIC5zb3J0KHsnc2NvcmUnOiB7ICckbWV0YSc6ICd0ZXh0U2NvcmUnfSB9KVxuICAgICAgLmV4ZWMgKGZ1bmN0aW9uKGVyciwgbWF0ZXJpYWxzKSB7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYnVzY2FuZG8gZWwgbWF0ZXJpYWwnLFxuICAgICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKG1hdGVyaWFscylcbiAgICAgIH0pXG4gIH0sXG4gIGxpc3RNYXRlcmlhbHM6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgTWF0ZXJpYWxzLmZpbmQoZnVuY3Rpb24oZXJyLCBtYXRlcmlhbHMpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ0Vycm9yIG9idGVuaWVuZG8gbG9zIG1hdGVyaWFsZXMnLFxuICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbihtYXRlcmlhbHMpXG4gICAgfSlcbiAgfSxcbiAgc2hvd01hdGVyaWFsczogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgTWF0ZXJpYWxzLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIG1hdGVyaWFsKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgb2J0ZW5lciBlbCBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIWNlcnZlemEpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIHRlbmVtb3MgZXN0ZSBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24obWF0ZXJpYWwpXG4gICAgfSlcbiAgfSxcbiAgY3JlYXRlTWF0ZXJpYWxzOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBtYXRlcmlhbCA9IG5ldyBNYXRlcmlhbCAocmVxLmJvZHkpXG4gICBtYXRlcmlhbC5zYXZlKGZ1bmN0aW9uKGVyciwgbWF0ZXJpYWwpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBhbCBndWFyZGFyIGVsIG1hdGVyaWFsJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oe1xuICAgICAgICBtZXNzYWdlOiAnc2F2ZWQnLFxuICAgICAgICBfaWQ6IG1hdGVyaWFsLl9pZFxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICB1cGRhdGVNYXRlcmlhbHM6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIE1hdGVyaWFscy5maW5kT25lKHtfaWQ6IGlkfSwgZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnU2UgaGEgcHJvZHVjaWRvIHVuIGVycm9yIGFsIGd1YXJkYXIgZWwgbWF0ZXJpYWwnLFxuICAgICAgICAgIGVycm9yOiBlcnJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGlmKCFtYXRlcmlhbCkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBoZW1vcyBlbmNvbnRyYWRvIGVsIG1hdGVyaWFsJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgbWF0ZXJpYWwuTm9tYnJlID0gcmVxLmJvZHkubm9tYnJlXG4gICAgICBtYXRlcmlhbC5EZXNjcmlwY2nDs24gPSAgcmVxLmJvZHkuZGVzY3JpcGNpb25cbiAgICAgIG1hdGVyaWFsLkdyYWR1YWNpb24gPSByZXEuYm9keS5ncmFkdWFjaW9uXG4gICAgICBtYXRlcmlhbC5FbnZhc2UgPSByZXEuYm9keS5lbnZhc2VcbiAgICAgIG1hdGVyaWFsLlByZWNpbyA9IHJlcS5ib2R5LnByZWNpb1xuICAgICAgbWF0ZXJpYWwuc2F2ZShmdW5jdGlvbihlcnIsIG1hdGVyaWFsKXtcbiAgICAgICAgaWYoZXJyKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBhbCBndWFyZGFyIGVsIG1hdGVyaWFsJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgaWYoIW1hdGVyaWFsKSB7XG4gICAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6ICdObyBoZW1vcyBlbmNvbnRyYWRvIGVsIG1hdGVyaWFsJ1xuICAgICAgICAgIH0pXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKG1hdGVyaWFsKVxuICAgICAgfSlcbiAgICB9KVxuICB9LFxuICByZW1vdmVNYXRlcmlhbHM6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIGlkID0gcmVxLnBhcmFtcy5pZFxuICAgIE1hdGVyaWFscy5maW5kQnlJZEFuZFJlbW92ZShpZCwgZnVuY3Rpb24oZXJyLCBtYXRlcmlhbCl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKDUwMCwge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyBoZW1vcyBlbmNvbnRyYWRvIGVsICBtYXRlcmlhbCcsXG4gICAgICAgICAgZXJyb3I6IGVyclxuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKG1hdGVyaWFsKVxuICAgIH0pXG4gIH1cbn1cblxuXG5cbmZ1bmN0aW9uIGlzTnVtZXJpYyhuKSB7XG4gIHJldHVybiAhaXNOYU4ocGFyc2VGbG9hdChuKSkgJiYgaXNGaW5pdGUobik7XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "materials.js"
      ],
      "names": [
        "Materials",
        "require",
        "config",
        "recursive",
        "path",
        "module",
        "exports",
        "getMaterialById",
        "req",
        "res",
        "id",
        "swagger",
        "params",
        "idMaterial",
        "value",
        "findOne",
        "lean",
        "exec",
        "err",
        "material",
        "status",
        "json",
        "message",
        "error",
        "materialsDir",
        "files",
        "map",
        "subdir",
        "dirname",
        "file",
        "split",
        "sep",
        "pop",
        "defaultLanguage",
        "images",
        "push",
        "basename",
        "translations",
        "reduce",
        "allTranslations",
        "translation",
        "lang",
        "searchMaterials",
        "locale",
        "searchText",
        "find",
        "$text",
        "$search",
        "$language",
        "score",
        "$meta",
        "sort",
        "materials",
        "listMaterials",
        "showMaterials",
        "_id",
        "cerveza",
        "createMaterials",
        "Material",
        "body",
        "save",
        "updateMaterials",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "removeMaterials",
        "findByIdAndRemove",
        "isNumeric",
        "n",
        "isNaN",
        "parseFloat",
        "isFinite"
      ],
      "mappings": "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",
      "file": "materials.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "// habrá que concatenar dos funciones asíncronas,\n// Una para recibir los ficheros (imagenes de materiales) del dir correspondiente\n// Otra que lee los datos en la bbdd\n// mandar json cuandto todo acabe:\n// https://stackoverflow.com/questions/2727167/how-do-you-get-a-list-of-the-names-of-all-files-present-in-a-directory-in-node-j/37532027#37532027\nvar Materials = require('../models/Materials')\nconst config = require('../../config')\nvar recursive = require('recursive-readdir')\nvar path = require('path')\n\nmodule.exports = {\n  getMaterialById: function(req, res) {\n    var id = req.swagger.params.idMaterial.value\n    // Use lean to get a plain JS object to modify it, instead of a full model instance\n    // Materials.findOne({idMaterial: id}, function(err, material){\n    Materials.findOne({idMaterial: id}).lean().exec(function(err, material){\n\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json( {\n          message: 'No tenemos este material',\n          err\n        })\n      }\n      recursive(`${config.materialsDir}/${id}/screenshots`, (err, files) => {\n        files.map(file =>{\n          let subdir = path.dirname(file).split(path.sep).pop() //get first parent dir(material_id or language )\n          let defaultLanguage = (subdir==='screenshots') \n          if (defaultLanguage) material.images.push(path.basename(file))\n          // para ver la lista:\n          // db.getCollection('materials').find({ translations: { $exists: true, $not: {$size: 0} } }) \n          else {\n            material.translations.reduce(function(allTranslations, translation) {\n              //lang because translation.language is for mongodb and ga, ca have none value!\n              if (translation.lang === (subdir)) { \n                if (!translation.images) translation.images=[]\n                translation.images.push(path.basename(file))\n              }\n              allTranslations.push(translation)\n              return allTranslations\n            }, [])\n          }\n        })\n        return res.json(material)\n      })\n    })\n  },\n  // Materials.find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}}).sort({score:{$meta:'textScore'}}, function(err, materials) {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  searchMaterials: function (req, res) {\n    var locale = req.swagger.params.locale.value\n    var searchText = req.swagger.params.searchText.value\n    Materials\n      .find({ $text: { $search: searchText, $language: locale } }, {score: {$meta: 'textScore'}})\n      .sort({'score': { '$meta': 'textScore'} })\n      .exec (function(err, materials) {\n        if(err) {\n          return res.status(500).json({\n            message: 'Error buscando el material',\n            error: err\n          })\n        }\n        return res.json(materials)\n      })\n  },\n  listMaterials: function(req, res) {\n    Materials.find(function(err, materials){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los materiales',\n          error: err\n        })\n      }\n      return res.json(materials)\n    })\n  },\n  showMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findOne({_id: id}, function(err, material){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el material',\n          error: err\n        })\n      }\n      if(!cerveza) {\n        return res.status(404).json( {\n          message: 'No tenemos este material',\n          err\n        })\n      }\n      return res.json(material)\n    })\n  },\n  createMaterials: function(req, res) {\n    var material = new Material (req.body)\n   material.save(function(err, material){\n      if(err) {\n        return res.status(500).json( {\n          message: 'Error al guardar el material',\n          error: err\n        })\n      }\n      return res.status(201).json({\n        message: 'saved',\n        _id: material._id\n      })\n    })\n  },\n  updateMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findOne({_id: id}, function(err, material){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el material',\n          error: err\n        })\n      }\n      if(!material) {\n        return res.status(404).json({\n          message: 'No hemos encontrado el material'\n        })\n      }\n      material.Nombre = req.body.nombre\n      material.Descripción =  req.body.descripcion\n      material.Graduacion = req.body.graduacion\n      material.Envase = req.body.envase\n      material.Precio = req.body.precio\n      material.save(function(err, material){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar el material'\n          })\n        }\n        if(!material) {\n          return res.status(404).json({\n            message: 'No hemos encontrado el material'\n          })\n        }\n        return res.json(material)\n      })\n    })\n  },\n  removeMaterials: function(req, res) {\n    var id = req.params.id\n    Materials.findByIdAndRemove(id, function(err, material){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el  material',\n          error: err\n        })\n      }\n      return res.json(material)\n    })\n  }\n}\n\n\n\nfunction isNumeric(n) {\n  return !isNaN(parseFloat(n)) && isFinite(n);\n}\n"
      ]
    },
    "mtime": 1507755449000
  },
  "{\"filename\":\"/app/api/models/Materials.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/models/Materials.js",
      "filenameRelative": "/app/api/models/Materials.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "Materials.js",
      "sourceFileName": "Materials.js",
      "sourceRoot": "/app/api/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "Materials"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar materialSchema = new Schema({\n  Nombre: String,\n  Descripción: String,\n  Graduacion: String,\n  Envase: String,\n  Precio: String\n});\n\nvar Material = mongoose.model('Material', materialSchema, 'materials');\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Material;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIk1hdGVyaWFscy5qcyJdLCJuYW1lcyI6WyJtb25nb29zZSIsInJlcXVpcmUiLCJTY2hlbWEiLCJtYXRlcmlhbFNjaGVtYSIsIk5vbWJyZSIsIlN0cmluZyIsIkRlc2NyaXBjacOzbiIsIkdyYWR1YWNpb24iLCJFbnZhc2UiLCJQcmVjaW8iLCJNYXRlcmlhbCIsIm1vZGVsIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxXQUFXQyxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlDLFNBQVNGLFNBQVNFLE1BQXRCOztBQUVBLElBQUlDLGlCQUFpQixJQUFJRCxNQUFKLENBQVc7QUFDOUJFLFVBQVFDLE1BRHNCO0FBRTlCQyxlQUFhRCxNQUZpQjtBQUc5QkUsY0FBWUYsTUFIa0I7QUFJOUJHLFVBQVFILE1BSnNCO0FBSzlCSSxVQUFRSjtBQUxzQixDQUFYLENBQXJCOztBQVFBLElBQUlLLFdBQVdWLFNBQVNXLEtBQVQsQ0FBZSxVQUFmLEVBQTJCUixjQUEzQixFQUEyQyxXQUEzQyxDQUFmOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7O0FBZ0JBUyxPQUFPQyxPQUFQLEdBQWlCSCxRQUFqQiIsImZpbGUiOiJNYXRlcmlhbHMuanMiLCJzb3VyY2VSb290IjoiL2FwcC9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG52YXIgbWF0ZXJpYWxTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgTm9tYnJlOiBTdHJpbmcsIFxuICBEZXNjcmlwY2nDs246IFN0cmluZywgXG4gIEdyYWR1YWNpb246IFN0cmluZyxcbiAgRW52YXNlOiBTdHJpbmcsXG4gIFByZWNpbzogU3RyaW5nIFxufSlcblxudmFyIE1hdGVyaWFsID0gbW9uZ29vc2UubW9kZWwoJ01hdGVyaWFsJywgbWF0ZXJpYWxTY2hlbWEsICdtYXRlcmlhbHMnKVxuXG4vKlxuXG5Fc3RvIGRhIGVycm9yIGVuIHVwZGF0ZSB5IGNyZWF0ZTpcbmNlcnZlemFTY2hlbWEucHJlKCdzYXZlJywgZnVuY3Rpb24gKG5leHQpIHtcbiAgdmFyIHNlbGYgPSB0aGlzXG4gIENlcnZlemEuY291bnQoe2NlcnZlemE6IHNlbGYubmFtZX0sIGZ1bmN0aW9uIChlcnIsIGNvdW50KSB7XG4gICAgaWYgKGNvdW50PjApe1xuICAgICAgbmV4dChuZXcgRXJyb3IoJ8KhWWEgZXhpc3RlIGVzdGEgY2VydmV6YSEnKSlcbiAgICB9ZWxzZXsgICAgICAgICAgICAgICAgXG4gICAgICBuZXh0KClcbiAgICB9XG4gIH0pXG59KSBcblxuKi9cblxubW9kdWxlLmV4cG9ydHMgPSBNYXRlcmlhbFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "Materials.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "materialSchema",
        "Nombre",
        "String",
        "Descripción",
        "Graduacion",
        "Envase",
        "Precio",
        "Material",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,iBAAiB,IAAID,MAAJ,CAAW;AAC9BE,UAAQC,MADsB;AAE9BC,eAAaD,MAFiB;AAG9BE,cAAYF,MAHkB;AAI9BG,UAAQH,MAJsB;AAK9BI,UAAQJ;AALsB,CAAX,CAArB;;AAQA,IAAIK,WAAWV,SAASW,KAAT,CAAe,UAAf,EAA2BR,cAA3B,EAA2C,WAA3C,CAAf;;AAEA;;;;;;;;;;;;;;;;AAgBAS,OAAOC,OAAP,GAAiBH,QAAjB",
      "file": "Materials.js",
      "sourceRoot": "/app/api/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar materialSchema = new Schema({\n  Nombre: String, \n  Descripción: String, \n  Graduacion: String,\n  Envase: String,\n  Precio: String \n})\n\nvar Material = mongoose.model('Material', materialSchema, 'materials')\n\n/*\n\nEsto da error en update y create:\ncervezaSchema.pre('save', function (next) {\n  var self = this\n  Cerveza.count({cerveza: self.name}, function (err, count) {\n    if (count>0){\n      next(new Error('¡Ya existe esta cerveza!'))\n    }else{                \n      next()\n    }\n  })\n}) \n\n*/\n\nmodule.exports = Material\n"
      ]
    },
    "mtime": 1506701169000
  },
  "{\"filename\":\"/app/api/controllers/pictogramSearches.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/pictogramSearches.js",
      "filenameRelative": "/app/api/controllers/pictogramSearches.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "pictogramSearches.js",
      "sourceFileName": "pictogramSearches.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "pictogramSearches"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar PictogramSearches = require('../models/PictogramSearches');\n//based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\nmodule.exports = {\n  show: function show(req, res) {\n    var searchText = req.params.searchText;\n    // return res.json(searchText)\n    PictogramSearches.list(searchText, function (err, regs) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el listado'\n        });\n      }\n      if (!regs) {\n        return res.status(404).json({\n          message: 'No tenemos ese registro'\n        });\n      }\n      return res.json(regs.map(function (reg) {\n        return reg.nombre;\n      }));\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBpY3RvZ3JhbVNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbIlBpY3RvZ3JhbVNlYXJjaGVzIiwicmVxdWlyZSIsIm1vZHVsZSIsImV4cG9ydHMiLCJzaG93IiwicmVxIiwicmVzIiwic2VhcmNoVGV4dCIsInBhcmFtcyIsImxpc3QiLCJlcnIiLCJyZWdzIiwic3RhdHVzIiwianNvbiIsIm1lc3NhZ2UiLCJtYXAiLCJyZWciLCJub21icmUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsb0JBQW9CQyxRQUFRLDZCQUFSLENBQXhCO0FBQ0E7QUFDQUMsT0FBT0MsT0FBUCxHQUFpQjtBQUNmQyxRQUFNLGNBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUN2QixRQUFJQyxhQUFhRixJQUFJRyxNQUFKLENBQVdELFVBQTVCO0FBQ0E7QUFDQVAsc0JBQWtCUyxJQUFsQixDQUF1QkYsVUFBdkIsRUFBbUMsVUFBU0csR0FBVCxFQUFjQyxJQUFkLEVBQW1CO0FBQ3BELFVBQUdELEdBQUgsRUFBUTtBQUNOLGVBQU9KLElBQUlNLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMsbUJBQVM7QUFEaUIsU0FBckIsQ0FBUDtBQUdEO0FBQ0QsVUFBRyxDQUFDSCxJQUFKLEVBQVU7QUFDUixlQUFPTCxJQUFJTSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBc0I7QUFDM0JDLG1CQUFTO0FBRGtCLFNBQXRCLENBQVA7QUFHRDtBQUNELGFBQU9SLElBQUlPLElBQUosQ0FBU0YsS0FBS0ksR0FBTCxDQUFTLFVBQVNDLEdBQVQsRUFBYztBQUFDLGVBQU9BLElBQUlDLE1BQVg7QUFBa0IsT0FBMUMsQ0FBVCxDQUFQO0FBQ0QsS0FaRDtBQWFEO0FBakJjLENBQWpCIiwiZmlsZSI6InBpY3RvZ3JhbVNlYXJjaGVzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvYXBpL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFBpY3RvZ3JhbVNlYXJjaGVzID0gcmVxdWlyZSgnLi4vbW9kZWxzL1BpY3RvZ3JhbVNlYXJjaGVzJylcbi8vYmFzZWQgb24gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yODg5MTE2NS91c2luZy13ZWlnaHRzLWZvci1zZWFyY2hpbmctaW4tbW9uZ29vc2Vcbm1vZHVsZS5leHBvcnRzID0ge1xuICBzaG93OiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBzZWFyY2hUZXh0ID0gcmVxLnBhcmFtcy5zZWFyY2hUZXh0XG4gICAgLy8gcmV0dXJuIHJlcy5qc29uKHNlYXJjaFRleHQpXG4gICAgUGljdG9ncmFtU2VhcmNoZXMubGlzdChzZWFyY2hUZXh0LCBmdW5jdGlvbihlcnIsIHJlZ3Mpe1xuICAgICAgaWYoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1NlIGhhIHByb2R1Y2lkbyB1biBlcnJvciBhbCBvYnRlbmVyIGVsIGxpc3RhZG8nXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighcmVncykge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDQpLmpzb24oIHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gdGVuZW1vcyBlc2UgcmVnaXN0cm8nXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24ocmVncy5tYXAoZnVuY3Rpb24ocmVnKSB7cmV0dXJuIHJlZy5ub21icmV9KSlcbiAgICB9KVxuICB9XG59XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "pictogramSearches.js"
      ],
      "names": [
        "PictogramSearches",
        "require",
        "module",
        "exports",
        "show",
        "req",
        "res",
        "searchText",
        "params",
        "list",
        "err",
        "regs",
        "status",
        "json",
        "message",
        "map",
        "reg",
        "nombre"
      ],
      "mappings": ";;AAAA,IAAIA,oBAAoBC,QAAQ,6BAAR,CAAxB;AACA;AACAC,OAAOC,OAAP,GAAiB;AACfC,QAAM,cAASC,GAAT,EAAcC,GAAd,EAAmB;AACvB,QAAIC,aAAaF,IAAIG,MAAJ,CAAWD,UAA5B;AACA;AACAP,sBAAkBS,IAAlB,CAAuBF,UAAvB,EAAmC,UAASG,GAAT,EAAcC,IAAd,EAAmB;AACpD,UAAGD,GAAH,EAAQ;AACN,eAAOJ,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB;AAC1BC,mBAAS;AADiB,SAArB,CAAP;AAGD;AACD,UAAG,CAACH,IAAJ,EAAU;AACR,eAAOL,IAAIM,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAsB;AAC3BC,mBAAS;AADkB,SAAtB,CAAP;AAGD;AACD,aAAOR,IAAIO,IAAJ,CAASF,KAAKI,GAAL,CAAS,UAASC,GAAT,EAAc;AAAC,eAAOA,IAAIC,MAAX;AAAkB,OAA1C,CAAT,CAAP;AACD,KAZD;AAaD;AAjBc,CAAjB",
      "file": "pictogramSearches.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "var PictogramSearches = require('../models/PictogramSearches')\n//based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\nmodule.exports = {\n  show: function(req, res) {\n    var searchText = req.params.searchText\n    // return res.json(searchText)\n    PictogramSearches.list(searchText, function(err, regs){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el listado'\n        })\n      }\n      if(!regs) {\n        return res.status(404).json( {\n          message: 'No tenemos ese registro'\n        })\n      }\n      return res.json(regs.map(function(reg) {return reg.nombre}))\n    })\n  }\n}\n"
      ]
    },
    "mtime": 1497952432758
  },
  "{\"filename\":\"/app/api/models/PictogramSearches.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/models/PictogramSearches.js",
      "filenameRelative": "/app/api/models/PictogramSearches.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "PictogramSearches.js",
      "sourceFileName": "PictogramSearches.js",
      "sourceRoot": "/app/api/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "PictogramSearches"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar Schema = mongoose.Schema;\n\nvar pictogramSearchSchema = new Schema({\n  searchText: String,\n  lastSearch: { type: Date, default: Date.now },\n  count: Number\n});\n\n// method based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\npictogramSearchSchema.statics.list = function (textSearch, cb) {\n  // Perform the query\n\n  return this.find({ name: new RegExp(textSearch, 'i') }, cb);\n};\n\nvar PictogramSearch = mongoose.model('PictogramSearch', pictogramSearchSchema);\n\nmodule.exports = PictogramSearch;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlBpY3RvZ3JhbVNlYXJjaGVzLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsIlNjaGVtYSIsInBpY3RvZ3JhbVNlYXJjaFNjaGVtYSIsInNlYXJjaFRleHQiLCJTdHJpbmciLCJsYXN0U2VhcmNoIiwidHlwZSIsIkRhdGUiLCJkZWZhdWx0Iiwibm93IiwiY291bnQiLCJOdW1iZXIiLCJzdGF0aWNzIiwibGlzdCIsInRleHRTZWFyY2giLCJjYiIsImZpbmQiLCJuYW1lIiwiUmVnRXhwIiwiUGljdG9ncmFtU2VhcmNoIiwibW9kZWwiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBSUMsU0FBU0YsU0FBU0UsTUFBdEI7O0FBRUEsSUFBSUMsd0JBQXdCLElBQUlELE1BQUosQ0FBVztBQUNyQ0UsY0FBWUMsTUFEeUI7QUFFckNDLGNBQVksRUFBRUMsTUFBT0MsSUFBVCxFQUFlQyxTQUFVRCxLQUFLRSxHQUE5QixFQUZ5QjtBQUdyQ0MsU0FBT0M7QUFIOEIsQ0FBWCxDQUE1Qjs7QUFPQTtBQUNBVCxzQkFBc0JVLE9BQXRCLENBQThCQyxJQUE5QixHQUFxQyxVQUFTQyxVQUFULEVBQXFCQyxFQUFyQixFQUF5QjtBQUM5RDs7QUFFRSxTQUFPLEtBQUtDLElBQUwsQ0FBVSxFQUFFQyxNQUFNLElBQUlDLE1BQUosQ0FBV0osVUFBWCxFQUF1QixHQUF2QixDQUFSLEVBQVYsRUFBaURDLEVBQWpELENBQVA7QUFDRCxDQUpEOztBQVdBLElBQUlJLGtCQUFrQnBCLFNBQVNxQixLQUFULENBQWUsaUJBQWYsRUFBa0NsQixxQkFBbEMsQ0FBdEI7O0FBRUFtQixPQUFPQyxPQUFQLEdBQWlCSCxlQUFqQiIsImZpbGUiOiJQaWN0b2dyYW1TZWFyY2hlcy5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2FwaS9tb2RlbHMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgU2NoZW1hID0gbW9uZ29vc2UuU2NoZW1hXG5cbnZhciBwaWN0b2dyYW1TZWFyY2hTY2hlbWEgPSBuZXcgU2NoZW1hKHtcbiAgc2VhcmNoVGV4dDogU3RyaW5nLCBcbiAgbGFzdFNlYXJjaDogeyB0eXBlIDogRGF0ZSwgZGVmYXVsdCA6IERhdGUubm93IH0sXG4gIGNvdW50OiBOdW1iZXJcbn0pXG5cblxuLy8gbWV0aG9kIGJhc2VkIG9uIGh0dHA6Ly9zdGFja292ZXJmbG93LmNvbS9xdWVzdGlvbnMvMjg4OTExNjUvdXNpbmctd2VpZ2h0cy1mb3Itc2VhcmNoaW5nLWluLW1vbmdvb3NlXG5waWN0b2dyYW1TZWFyY2hTY2hlbWEuc3RhdGljcy5saXN0ID0gZnVuY3Rpb24odGV4dFNlYXJjaCwgY2IpIHtcbi8vIFBlcmZvcm0gdGhlIHF1ZXJ5XG5cbiAgcmV0dXJuIHRoaXMuZmluZCh7IG5hbWU6IG5ldyBSZWdFeHAodGV4dFNlYXJjaCwgJ2knKSB9LCBjYilcbn1cblxuXG5cblxuXG5cbnZhciBQaWN0b2dyYW1TZWFyY2ggPSBtb25nb29zZS5tb2RlbCgnUGljdG9ncmFtU2VhcmNoJywgcGljdG9ncmFtU2VhcmNoU2NoZW1hKVxuXG5tb2R1bGUuZXhwb3J0cyA9IFBpY3RvZ3JhbVNlYXJjaFxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "PictogramSearches.js"
      ],
      "names": [
        "mongoose",
        "require",
        "Schema",
        "pictogramSearchSchema",
        "searchText",
        "String",
        "lastSearch",
        "type",
        "Date",
        "default",
        "now",
        "count",
        "Number",
        "statics",
        "list",
        "textSearch",
        "cb",
        "find",
        "name",
        "RegExp",
        "PictogramSearch",
        "model",
        "module",
        "exports"
      ],
      "mappings": ";;AAAA,IAAIA,WAAWC,QAAQ,UAAR,CAAf;AACA,IAAIC,SAASF,SAASE,MAAtB;;AAEA,IAAIC,wBAAwB,IAAID,MAAJ,CAAW;AACrCE,cAAYC,MADyB;AAErCC,cAAY,EAAEC,MAAOC,IAAT,EAAeC,SAAUD,KAAKE,GAA9B,EAFyB;AAGrCC,SAAOC;AAH8B,CAAX,CAA5B;;AAOA;AACAT,sBAAsBU,OAAtB,CAA8BC,IAA9B,GAAqC,UAASC,UAAT,EAAqBC,EAArB,EAAyB;AAC9D;;AAEE,SAAO,KAAKC,IAAL,CAAU,EAAEC,MAAM,IAAIC,MAAJ,CAAWJ,UAAX,EAAuB,GAAvB,CAAR,EAAV,EAAiDC,EAAjD,CAAP;AACD,CAJD;;AAWA,IAAII,kBAAkBpB,SAASqB,KAAT,CAAe,iBAAf,EAAkClB,qBAAlC,CAAtB;;AAEAmB,OAAOC,OAAP,GAAiBH,eAAjB",
      "file": "PictogramSearches.js",
      "sourceRoot": "/app/api/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nvar Schema = mongoose.Schema\n\nvar pictogramSearchSchema = new Schema({\n  searchText: String, \n  lastSearch: { type : Date, default : Date.now },\n  count: Number\n})\n\n\n// method based on http://stackoverflow.com/questions/28891165/using-weights-for-searching-in-mongoose\npictogramSearchSchema.statics.list = function(textSearch, cb) {\n// Perform the query\n\n  return this.find({ name: new RegExp(textSearch, 'i') }, cb)\n}\n\n\n\n\n\n\nvar PictogramSearch = mongoose.model('PictogramSearch', pictogramSearchSchema)\n\nmodule.exports = PictogramSearch\n"
      ]
    },
    "mtime": 1497952432758
  },
  "{\"filename\":\"/app/api/controllers/sessions.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/sessions.js",
      "filenameRelative": "/app/api/controllers/sessions.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "sessions.js",
      "sourceFileName": "sessions.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "sessions"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar jwt = require('jsonwebtoken');\nvar User = require('../models/User');\nvar config = require('../../config');\n\nfunction createToken(user) {\n  return jwt.sign({ user: user.name, profile: user.profile }, config.jwtSecret, { expiresInMinutes: 60 * 5 });\n}\n\nmodule.exports = {\n  createSession: function createSession(req, res) {\n    var user = req.swagger.params.username.value;\n    console.log('user es :' + user);\n    var password = req.swagger.params.password.value;\n    User.findOne({ username: user }, function (err, user) {\n      if (err) {\n        return res.status(500).json({ error: err.message });\n      }\n      if (!user) {\n        return res.status(404).send({ message: 'User not found' });\n      }\n      console.log(user);\n      if (!user.authenticate(password)) {\n        return res.status(401).send({ message: 'User unauthorized' });\n      }\n      res.status(201).send({ token: createToken(user) });\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNlc3Npb25zLmpzIl0sIm5hbWVzIjpbImp3dCIsInJlcXVpcmUiLCJVc2VyIiwiY29uZmlnIiwiY3JlYXRlVG9rZW4iLCJ1c2VyIiwic2lnbiIsIm5hbWUiLCJwcm9maWxlIiwiand0U2VjcmV0IiwiZXhwaXJlc0luTWludXRlcyIsIm1vZHVsZSIsImV4cG9ydHMiLCJjcmVhdGVTZXNzaW9uIiwicmVxIiwicmVzIiwic3dhZ2dlciIsInBhcmFtcyIsInVzZXJuYW1lIiwidmFsdWUiLCJjb25zb2xlIiwibG9nIiwicGFzc3dvcmQiLCJmaW5kT25lIiwiZXJyIiwic3RhdHVzIiwianNvbiIsImVycm9yIiwibWVzc2FnZSIsInNlbmQiLCJhdXRoZW50aWNhdGUiLCJ0b2tlbiJdLCJtYXBwaW5ncyI6Ijs7QUFBQSxJQUFJQSxNQUFNQyxRQUFRLGNBQVIsQ0FBVjtBQUNBLElBQUlDLE9BQU9ELFFBQVEsZ0JBQVIsQ0FBWDtBQUNBLElBQUlFLFNBQVNGLFFBQVEsY0FBUixDQUFiOztBQUVBLFNBQVNHLFdBQVQsQ0FBcUJDLElBQXJCLEVBQTJCO0FBQ3pCLFNBQU9MLElBQUlNLElBQUosQ0FBUyxFQUFFRCxNQUFNQSxLQUFLRSxJQUFiLEVBQW1CQyxTQUFTSCxLQUFLRyxPQUFqQyxFQUFULEVBQXFETCxPQUFPTSxTQUE1RCxFQUF1RSxFQUFFQyxrQkFBa0IsS0FBRyxDQUF2QixFQUF2RSxDQUFQO0FBQ0Q7O0FBRURDLE9BQU9DLE9BQVAsR0FBaUI7QUFDZkMsaUJBQWUsdUJBQVNDLEdBQVQsRUFBY0MsR0FBZCxFQUFtQjtBQUNoQyxRQUFJVixPQUFPUyxJQUFJRSxPQUFKLENBQVlDLE1BQVosQ0FBbUJDLFFBQW5CLENBQTRCQyxLQUF2QztBQUNBQyxZQUFRQyxHQUFSLENBQWEsY0FBY2hCLElBQTNCO0FBQ0EsUUFBSWlCLFdBQVdSLElBQUlFLE9BQUosQ0FBWUMsTUFBWixDQUFtQkssUUFBbkIsQ0FBNEJILEtBQTNDO0FBQ0FqQixTQUFLcUIsT0FBTCxDQUFhLEVBQUNMLFVBQVViLElBQVgsRUFBYixFQUErQixVQUFDbUIsR0FBRCxFQUFNbkIsSUFBTixFQUFlO0FBQzVDLFVBQUdtQixHQUFILEVBQVE7QUFDTixlQUFPVCxJQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkMsSUFBaEIsQ0FBcUIsRUFBQ0MsT0FBT0gsSUFBSUksT0FBWixFQUFyQixDQUFQO0FBQ0Q7QUFDRCxVQUFJLENBQUN2QixJQUFMLEVBQVc7QUFDVCxlQUFPVSxJQUFJVSxNQUFKLENBQVcsR0FBWCxFQUFnQkksSUFBaEIsQ0FBcUIsRUFBQ0QsU0FBUyxnQkFBVixFQUFyQixDQUFQO0FBQ0Q7QUFDRFIsY0FBUUMsR0FBUixDQUFZaEIsSUFBWjtBQUNBLFVBQUksQ0FBQ0EsS0FBS3lCLFlBQUwsQ0FBa0JSLFFBQWxCLENBQUwsRUFBa0M7QUFDaEMsZUFBT1AsSUFBSVUsTUFBSixDQUFXLEdBQVgsRUFBZ0JJLElBQWhCLENBQXFCLEVBQUNELFNBQVMsbUJBQVYsRUFBckIsQ0FBUDtBQUNEO0FBQ0RiLFVBQUlVLE1BQUosQ0FBVyxHQUFYLEVBQWdCSSxJQUFoQixDQUFxQixFQUFDRSxPQUFPM0IsWUFBWUMsSUFBWixDQUFSLEVBQXJCO0FBQ0QsS0FaRDtBQWFEO0FBbEJjLENBQWpCIiwiZmlsZSI6InNlc3Npb25zLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvYXBpL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGp3dCA9IHJlcXVpcmUoJ2pzb253ZWJ0b2tlbicpXG52YXIgVXNlciA9IHJlcXVpcmUoJy4uL21vZGVscy9Vc2VyJylcbnZhciBjb25maWcgPSByZXF1aXJlKCcuLi8uLi9jb25maWcnKVxuXG5mdW5jdGlvbiBjcmVhdGVUb2tlbih1c2VyKSB7XG4gIHJldHVybiBqd3Quc2lnbih7IHVzZXI6IHVzZXIubmFtZSwgcHJvZmlsZTogdXNlci5wcm9maWxlIH0sIGNvbmZpZy5qd3RTZWNyZXQsIHsgZXhwaXJlc0luTWludXRlczogNjAqNSB9KVxufVxuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgY3JlYXRlU2Vzc2lvbjogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgdXNlciA9IHJlcS5zd2FnZ2VyLnBhcmFtcy51c2VybmFtZS52YWx1ZVxuICAgIGNvbnNvbGUubG9nICgndXNlciBlcyA6JyArIHVzZXIpXG4gICAgdmFyIHBhc3N3b3JkID0gcmVxLnN3YWdnZXIucGFyYW1zLnBhc3N3b3JkLnZhbHVlXG4gICAgVXNlci5maW5kT25lKHt1c2VybmFtZTogdXNlcn0sIChlcnIsIHVzZXIpID0+IHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe2Vycm9yOiBlcnIubWVzc2FnZX0pXG4gICAgICB9XG4gICAgICBpZiAoIXVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5zZW5kKHttZXNzYWdlOiAnVXNlciBub3QgZm91bmQnfSlcbiAgICAgIH1cbiAgICAgIGNvbnNvbGUubG9nKHVzZXIpXG4gICAgICBpZiAoIXVzZXIuYXV0aGVudGljYXRlKHBhc3N3b3JkKSkge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLnNlbmQoe21lc3NhZ2U6ICdVc2VyIHVuYXV0aG9yaXplZCd9KVxuICAgICAgfVxuICAgICAgcmVzLnN0YXR1cygyMDEpLnNlbmQoe3Rva2VuOiBjcmVhdGVUb2tlbih1c2VyKX0pXG4gICAgfSlcbiAgfVxufSAgXG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "sessions.js"
      ],
      "names": [
        "jwt",
        "require",
        "User",
        "config",
        "createToken",
        "user",
        "sign",
        "name",
        "profile",
        "jwtSecret",
        "expiresInMinutes",
        "module",
        "exports",
        "createSession",
        "req",
        "res",
        "swagger",
        "params",
        "username",
        "value",
        "console",
        "log",
        "password",
        "findOne",
        "err",
        "status",
        "json",
        "error",
        "message",
        "send",
        "authenticate",
        "token"
      ],
      "mappings": ";;AAAA,IAAIA,MAAMC,QAAQ,cAAR,CAAV;AACA,IAAIC,OAAOD,QAAQ,gBAAR,CAAX;AACA,IAAIE,SAASF,QAAQ,cAAR,CAAb;;AAEA,SAASG,WAAT,CAAqBC,IAArB,EAA2B;AACzB,SAAOL,IAAIM,IAAJ,CAAS,EAAED,MAAMA,KAAKE,IAAb,EAAmBC,SAASH,KAAKG,OAAjC,EAAT,EAAqDL,OAAOM,SAA5D,EAAuE,EAAEC,kBAAkB,KAAG,CAAvB,EAAvE,CAAP;AACD;;AAEDC,OAAOC,OAAP,GAAiB;AACfC,iBAAe,uBAASC,GAAT,EAAcC,GAAd,EAAmB;AAChC,QAAIV,OAAOS,IAAIE,OAAJ,CAAYC,MAAZ,CAAmBC,QAAnB,CAA4BC,KAAvC;AACAC,YAAQC,GAAR,CAAa,cAAchB,IAA3B;AACA,QAAIiB,WAAWR,IAAIE,OAAJ,CAAYC,MAAZ,CAAmBK,QAAnB,CAA4BH,KAA3C;AACAjB,SAAKqB,OAAL,CAAa,EAACL,UAAUb,IAAX,EAAb,EAA+B,UAACmB,GAAD,EAAMnB,IAAN,EAAe;AAC5C,UAAGmB,GAAH,EAAQ;AACN,eAAOT,IAAIU,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,OAAOH,IAAII,OAAZ,EAArB,CAAP;AACD;AACD,UAAI,CAACvB,IAAL,EAAW;AACT,eAAOU,IAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACD,SAAS,gBAAV,EAArB,CAAP;AACD;AACDR,cAAQC,GAAR,CAAYhB,IAAZ;AACA,UAAI,CAACA,KAAKyB,YAAL,CAAkBR,QAAlB,CAAL,EAAkC;AAChC,eAAOP,IAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACD,SAAS,mBAAV,EAArB,CAAP;AACD;AACDb,UAAIU,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqB,EAACE,OAAO3B,YAAYC,IAAZ,CAAR,EAArB;AACD,KAZD;AAaD;AAlBc,CAAjB",
      "file": "sessions.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "var jwt = require('jsonwebtoken')\nvar User = require('../models/User')\nvar config = require('../../config')\n\nfunction createToken(user) {\n  return jwt.sign({ user: user.name, profile: user.profile }, config.jwtSecret, { expiresInMinutes: 60*5 })\n}\n\nmodule.exports = {\n  createSession: function(req, res) {\n    var user = req.swagger.params.username.value\n    console.log ('user es :' + user)\n    var password = req.swagger.params.password.value\n    User.findOne({username: user}, (err, user) => {\n      if(err) {\n        return res.status(500).json({error: err.message})\n      }\n      if (!user) {\n        return res.status(404).send({message: 'User not found'})\n      }\n      console.log(user)\n      if (!user.authenticate(password)) {\n        return res.status(401).send({message: 'User unauthorized'})\n      }\n      res.status(201).send({token: createToken(user)})\n    })\n  }\n}  \n"
      ]
    },
    "mtime": 1497952432758
  },
  "{\"filename\":\"/app/api/models/User.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/models/User.js",
      "filenameRelative": "/app/api/models/User.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "User.js",
      "sourceFileName": "User.js",
      "sourceRoot": "/app/api/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "User"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar crypto = require('crypto');\n\nvar Schema = mongoose.Schema;\n\nvar oAuthTypes = ['github', 'twitter', 'facebook', 'google', 'linkedin'];\n\nvar userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  hashed_password: { type: String, default: '' },\n  salt: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type: Date, default: Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  }\n});\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Virtuals\n */\n\nuserSchema.virtual('password').set(function (password) {\n  this._password = password;\n  this.salt = this.makeSalt();\n  this.hashed_password = this.encryptPassword(password);\n}).get(function () {\n  return this._password;\n});\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true;\n  return name.length;\n}, 'Name cannot be blank');\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true;\n  return email.length;\n}, 'Email cannot be blank');\n\nuserSchema.path('email').validate(function (email, fn) {\n  var User = mongoose.model('User');\n  if (this.skipValidation()) fn(true);\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0);\n    });\n  } else fn(true);\n}, 'Email already exists');\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true;\n  return username.length;\n}, 'Username cannot be blank');\n\nuserSchema.path('hashed_password').validate(function (hashed_password) {\n  if (this.skipValidation()) return true;\n  return hashed_password.length && this._password.length;\n}, 'Password cannot be blank');\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next();\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'));\n  } else {\n    next();\n  }\n});\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password;\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function makeSalt() {\n    return Math.round(new Date().valueOf() * Math.random()) + '';\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function encryptPassword(password) {\n    if (!password) return '';\n    try {\n      return crypto.createHmac('sha1', this.salt).update(password).digest('hex');\n    } catch (err) {\n      return '';\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function skipValidation() {\n    return ~oAuthTypes.indexOf(this.provider);\n  }\n};\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function load(options, cb) {\n    options.select = options.select || 'name username';\n    return this.findOne(options.criteria).select(options.select).exec(cb);\n  }\n};\n\nvar User = mongoose.model('User', userSchema, 'users');\n\nmodule.exports = User;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlVzZXIuanMiXSwibmFtZXMiOlsibW9uZ29vc2UiLCJyZXF1aXJlIiwiY3J5cHRvIiwiU2NoZW1hIiwib0F1dGhUeXBlcyIsInVzZXJTY2hlbWEiLCJuYW1lIiwidHlwZSIsIlN0cmluZyIsImRlZmF1bHQiLCJlbWFpbCIsInVzZXJuYW1lIiwicHJvdmlkZXIiLCJsb2NhbGUiLCJoYXNoZWRfcGFzc3dvcmQiLCJzYWx0IiwiYXV0aFRva2VuIiwibGFzdGxvZ2luIiwiRGF0ZSIsIm5vdyIsImZhY2Vib29rIiwiaWQiLCJ0b2tlbiIsImdvb2dsZSIsInZhbGlkYXRlUHJlc2VuY2VPZiIsInZhbHVlIiwibGVuZ3RoIiwidmlydHVhbCIsInNldCIsInBhc3N3b3JkIiwiX3Bhc3N3b3JkIiwibWFrZVNhbHQiLCJlbmNyeXB0UGFzc3dvcmQiLCJnZXQiLCJwYXRoIiwidmFsaWRhdGUiLCJza2lwVmFsaWRhdGlvbiIsImZuIiwiVXNlciIsIm1vZGVsIiwiaXNOZXciLCJpc01vZGlmaWVkIiwiZmluZCIsImV4ZWMiLCJlcnIiLCJ1c2VycyIsInByZSIsIm5leHQiLCJFcnJvciIsIm1ldGhvZHMiLCJhdXRoZW50aWNhdGUiLCJwbGFpblRleHQiLCJNYXRoIiwicm91bmQiLCJ2YWx1ZU9mIiwicmFuZG9tIiwiY3JlYXRlSG1hYyIsInVwZGF0ZSIsImRpZ2VzdCIsImluZGV4T2YiLCJzdGF0aWNzIiwibG9hZCIsIm9wdGlvbnMiLCJjYiIsInNlbGVjdCIsImZpbmRPbmUiLCJjcml0ZXJpYSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsV0FBV0MsUUFBUSxVQUFSLENBQWY7QUFDQSxJQUFNQyxTQUFTRCxRQUFRLFFBQVIsQ0FBZjs7QUFFQSxJQUFJRSxTQUFTSCxTQUFTRyxNQUF0Qjs7QUFFQSxJQUFNQyxhQUFhLENBQ2pCLFFBRGlCLEVBRWpCLFNBRmlCLEVBR2pCLFVBSGlCLEVBSWpCLFFBSmlCLEVBS2pCLFVBTGlCLENBQW5COztB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Ozs7OztBQVFBdkIsbUJBQWlCLHlCQUFVSCxRQUFWLEVBQW9CO0FBQ25DLFFBQUksQ0FBQ0EsUUFBTCxFQUFlLE9BQU8sRUFBUDtBQUNmLFFBQUk7QUFDRixhQUFPM0IsT0FDSnNELFVBREksQ0FDTyxNQURQLEVBQ2UsS0FBS3pDLElBRHBCLEVBRUowQyxNQUZJLENBRUc1QixRQUZILEVBR0o2QixNQUhJLENBR0csS0FISCxDQUFQO0FBSUQsS0FMRCxDQUtFLE9BQU9kLEdBQVAsRUFBWTtBQUNaLGFBQU8sRUFBUDtBQUNEO0FBQ0YsR0EzQ2tCOztBQTZDbkI7Ozs7QUFJQVIsa0JBQWdCLDBCQUFZO0FBQzFCLFdBQU8sQ0FBQ2hDLFdBQVd1RCxPQUFYLENBQW1CLEtBQUsvQyxRQUF4QixDQUFSO0FBQ0Q7QUFuRGtCLENBQXJCOztBQXNEQTs7OztBQUlBUCxXQUFXdUQsT0FBWCxHQUFxQjs7QUFFbkI7Ozs7Ozs7O0FBUUFDLFFBQU0sY0FBVUMsT0FBVixFQUFtQkMsRUFBbkIsRUFBdUI7QUFDM0JELFlBQVFFLE1BQVIsR0FBaUJGLFFBQVFFLE1BQVIsSUFBa0IsZUFBbkM7QUFDQSxXQUFPLEtBQUtDLE9BQUwsQ0FBYUgsUUFBUUksUUFBckIsRUFDSkYsTUFESSxDQUNHRixRQUFRRSxNQURYLEVBRUpyQixJQUZJLENBRUNvQixFQUZELENBQVA7QUFHRDtBQWZrQixDQUFyQjs7QUFrQkEsSUFBSXpCLE9BQU90QyxTQUFTdUMsS0FBVCxDQUFlLE1BQWYsRUFBdUJsQyxVQUF2QixFQUFtQyxPQUFuQyxDQUFYOztBQUVBOEQsT0FBT0MsT0FBUCxHQUFpQjlCLElBQWpCIiwiZmlsZSI6IlVzZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBvQXV0aFR5cGVzID0gW1xuICAnZ2l0aHViJyxcbiAgJ3R3aXR0ZXInLFxuICAnZmFjZWJvb2snLFxuICAnZ29vZ2xlJyxcbiAgJ2xpbmtlZGluJ1xuXVxuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgcHJvdmlkZXI6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBsb2NhbGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnZW4nIH0sXG4gIGhhc2hlZF9wYXNzd29yZDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHNhbHQ6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBhdXRoVG9rZW46IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBsYXN0bG9naW46IHsgdHlwZSA6IERhdGUsIGRlZmF1bHQgOiBEYXRlLm5vdyB9LFxuICBmYWNlYm9vazoge1xuICAgIGlkICAgICAgICAgICA6IFN0cmluZyxcbiAgICB0b2tlbiAgICAgICAgOiBTdHJpbmcsXG4gICAgZW1haWwgICAgICAgIDogU3RyaW5nLFxuICAgIG5hbWUgICAgICAgICA6IFN0cmluZ1xuICB9LFxuICBnb29nbGU6IHtcbiAgICBpZCAgICAgICAgICAgOiBTdHJpbmcsXG4gICAgdG9rZW4gICAgICAgIDogU3RyaW5nLFxuICAgIGVtYWlsICAgICAgICA6IFN0cmluZyxcbiAgICBuYW1lICAgICAgICAgOiBTdHJpbmdcbiAgfVxufSlcblxuY29uc3QgdmFsaWRhdGVQcmVzZW5jZU9mID0gdmFsdWUgPT4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoXG5cbi8qKlxuICogVmlydHVhbHNcbiAqL1xuXG51c2VyU2NoZW1hXG4gIC52aXJ0dWFsKCdwYXNzd29yZCcpXG4gIC5zZXQoZnVuY3Rpb24gKHBhc3N3b3JkKSB7XG4gICAgdGhpcy5fcGFzc3dvcmQgPSBwYXNzd29yZFxuICAgIHRoaXMuc2FsdCA9IHRoaXMubWFrZVNhbHQoKVxuICAgIHRoaXMuaGFzaGVkX3Bhc3N3b3JkID0gdGhpcy5lbmNyeXB0UGFzc3dvcmQocGFzc3dvcmQpXG4gIH0pXG4gIC5nZXQoZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB0aGlzLl9wYXNzd29yZFxuICB9KVxuXG4vKipcbiAqIFZhbGlkYXRpb25zXG4gKi9cblxuLy8gdGhlIGJlbG93IDUgdmFsaWRhdGlvbnMgb25seSBhcHBseSBpZiB5b3UgYXJlIHNpZ25pbmcgdXAgdHJhZGl0aW9uYWxseVxuXG51c2VyU2NoZW1hLnBhdGgoJ25hbWUnKS52YWxpZGF0ZShmdW5jdGlvbiAobmFtZSkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gbmFtZS5sZW5ndGhcbn0sICdOYW1lIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZShmdW5jdGlvbiAoZW1haWwpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIGVtYWlsLmxlbmd0aFxufSwgJ0VtYWlsIGNhbm5vdCBiZSBibGFuaycpXG5cbnVzZXJTY2hlbWEucGF0aCgnZW1haWwnKS52YWxpZGF0ZShmdW5jdGlvbiAoZW1haWwsIGZuKSB7XG4gIGNvbnN0IFVzZXIgPSBtb25nb29zZS5tb2RlbCgnVXNlcicpXG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIGZuKHRydWUpXG5cbiAgLy8gQ2hlY2sgb25seSB3aGVuIGl0IGlzIGEgbmV3IHVzZXIgb3Igd2hlbiBlbWFpbCBmaWVsZCBpcyBtb2RpZmllZFxuICBpZiAodGhpcy5pc05ldyB8fCB0aGlzLmlzTW9kaWZpZWQoJ2VtYWlsJykpIHtcbiAgICBVc2VyLmZpbmQoeyBlbWFpbDogZW1haWwgfSkuZXhlYyhmdW5jdGlvbiAoZXJyLCB1c2Vycykge1xuICAgICAgZm4oIWVyciAmJiB1c2Vycy5sZW5ndGggPT09IDApXG4gICAgfSlcbiAgfSBlbHNlIGZuKHRydWUpXG59LCAnRW1haWwgYWxyZWFkeSBleGlzdHMnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ3VzZXJuYW1lJykudmFsaWRhdGUoZnVuY3Rpb24gKHVzZXJuYW1lKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiB1c2VybmFtZS5sZW5ndGhcbn0sICdVc2VybmFtZSBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ2hhc2hlZF9wYXNzd29yZCcpLnZhbGlkYXRlKGZ1bmN0aW9uIChoYXNoZWRfcGFzc3dvcmQpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIGhhc2hlZF9wYXNzd29yZC5sZW5ndGggJiYgdGhpcy5fcGFzc3dvcmQubGVuZ3RoXG59LCAnUGFzc3dvcmQgY2Fubm90IGJlIGJsYW5rJylcblxuXG4vKipcbiAqIFByZS1zYXZlIGhvb2tcbiAqL1xuXG51c2VyU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGlmICghdGhpcy5pc05ldykgcmV0dXJuIG5leHQoKVxuXG4gIGlmICghdmFsaWRhdGVQcmVzZW5jZU9mKHRoaXMucGFzc3dvcmQpICYmICF0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHtcbiAgICBuZXh0KG5ldyBFcnJvcignSW52YWxpZCBwYXNzd29yZCcpKVxuICB9IGVsc2Uge1xuICAgIG5leHQoKVxuICB9XG59KVxuXG4vKipcbiAqIE1ldGhvZHNcbiAqL1xuXG51c2VyU2NoZW1hLm1ldGhvZHMgPSB7XG5cbiAgLyoqXG4gICAqIEF1dGhlbnRpY2F0ZSAtIGNoZWNrIGlmIHRoZSBwYXNzd29yZHMgYXJlIHRoZSBzYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbGFpblRleHRcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXV0aGVudGljYXRlOiBmdW5jdGlvbiAocGxhaW5UZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuZW5jcnlwdFBhc3N3b3JkKHBsYWluVGV4dCkgPT09IHRoaXMuaGFzaGVkX3Bhc3N3b3JkXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1ha2Ugc2FsdFxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG1ha2VTYWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKG5ldyBEYXRlKCkudmFsdWVPZigpICogTWF0aC5yYW5kb20oKSkpICsgJydcbiAgfSxcblxuICAvKipcbiAgICogRW5jcnlwdCBwYXNzd29yZFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmRcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBlbmNyeXB0UGFzc3dvcmQ6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgIGlmICghcGFzc3dvcmQpIHJldHVybiAnJ1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY3J5cHRvXG4gICAgICAgIC5jcmVhdGVIbWFjKCdzaGExJywgdGhpcy5zYWx0KVxuICAgICAgICAudXBkYXRlKHBhc3N3b3JkKVxuICAgICAgICAuZGlnZXN0KCdoZXgnKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGlzIG5vdCByZXF1aXJlZCBpZiB1c2luZyBPQXV0aFxuICAgKi9cblxuICBza2lwVmFsaWRhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+b0F1dGhUeXBlcy5pbmRleE9mKHRoaXMucHJvdmlkZXIpXG4gIH1cbn1cblxuLyoqXG4gKiBTdGF0aWNzXG4gKi9cblxudXNlclNjaGVtYS5zdGF0aWNzID0ge1xuXG4gIC8qKlxuICAgKiBMb2FkXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBsb2FkOiBmdW5jdGlvbiAob3B0aW9ucywgY2IpIHtcbiAgICBvcHRpb25zLnNlbGVjdCA9IG9wdGlvbnMuc2VsZWN0IHx8ICduYW1lIHVzZXJuYW1lJ1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUob3B0aW9ucy5jcml0ZXJpYSlcbiAgICAgIC5zZWxlY3Qob3B0aW9ucy5zZWxlY3QpXG4gICAgICAuZXhlYyhjYilcbiAgfVxufVxuXG52YXIgVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdVc2VyJywgdXNlclNjaGVtYSwgJ3VzZXJzJylcblxubW9kdWxlLmV4cG9ydHMgPSBVc2VyXG5cblxuXG5cbiJdfQ==",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "User.js"
      ],
      "names": [
        "mongoose",
        "require",
        "crypto",
        "Schema",
        "oAuthTypes",
        "userSchema",
        "name",
        "type",
        "String",
        "default",
        "email",
        "username",
        "provider",
        "locale",
        "hashed_password",
        "salt",
        "authToken",
        "lastlogin",
        "Date",
        "now",
        "facebook",
        "id",
        "token",
        "google",
        "validatePresenceOf",
        "value",
        "length",
        "virtual",
        "set",
        "password",
        "_password",
        "makeSalt",
        "encryptPassword",
        "get",
        "path",
        "validate",
        "skipValidation",
        "fn",
        "User",
        "model",
        "isNew",
        "isModified",
        "find",
        "exec",
        "err",
        "users",
        "pre",
        "next",
        "Error",
        "methods",
        "authenticate",
        "plainText",
        "Math",
        "round",
        "valueOf",
        "random",
        "createHmac",
        "update",
        "digest",
        "indexOf",
        "statics",
        "load",
        "options",
        "cb",
        "select",
        "findOne",
        "criteria",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "User.js",
      "sourceRoot": "/app/api/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nconst crypto = require('crypto')\n\nvar Schema = mongoose.Schema\n\nconst oAuthTypes = [\n  'github',\n  'twitter',\n  'facebook',\n  'google',\n  'linkedin'\n]\n\nconst userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  hashed_password: { type: String, default: '' },\n  salt: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type : Date, default : Date.now },\n  facebook: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  google: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  }\n})\n\nconst validatePresenceOf = value => value && value.length\n\n/**\n * Virtuals\n */\n\nuserSchema\n  .virtual('password')\n  .set(function (password) {\n    this._password = password\n    this.salt = this.makeSalt()\n    this.hashed_password = this.encryptPassword(password)\n  })\n  .get(function () {\n    return this._password\n  })\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true\n  return name.length\n}, 'Name cannot be blank')\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true\n  return email.length\n}, 'Email cannot be blank')\n\nuserSchema.path('email').validate(function (email, fn) {\n  const User = mongoose.model('User')\n  if (this.skipValidation()) fn(true)\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0)\n    })\n  } else fn(true)\n}, 'Email already exists')\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true\n  return username.length\n}, 'Username cannot be blank')\n\nuserSchema.path('hashed_password').validate(function (hashed_password) {\n  if (this.skipValidation()) return true\n  return hashed_password.length && this._password.length\n}, 'Password cannot be blank')\n\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next()\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'))\n  } else {\n    next()\n  }\n})\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function (plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function () {\n    return Math.round((new Date().valueOf() * Math.random())) + ''\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function (password) {\n    if (!password) return ''\n    try {\n      return crypto\n        .createHmac('sha1', this.salt)\n        .update(password)\n        .digest('hex')\n    } catch (err) {\n      return ''\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function () {\n    return ~oAuthTypes.indexOf(this.provider)\n  }\n}\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function (options, cb) {\n    options.select = options.select || 'name username'\n    return this.findOne(options.criteria)\n      .select(options.select)\n      .exec(cb)\n  }\n}\n\nvar User = mongoose.model('User', userSchema, 'users')\n\nmodule.exports = User\n\n\n\n\n"
      ]
    },
    "mtime": 1497952432758
  },
  "{\"filename\":\"/app/api/controllers/users.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/controllers\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/controllers/users.js",
      "filenameRelative": "/app/api/controllers/users.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "users.js",
      "sourceFileName": "users.js",
      "sourceRoot": "/app/api/controllers",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/controllers",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "users"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar User = require('../models/User');\nvar TempUser = require('../models/TempUser');\nvar mailing = require('../mail');\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function search(req, res) {\n    var q = req.query.q;\n    User.find({ $text: { $search: q } }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        });\n      }\n      return res.json(users);\n    });\n  },\n  list: function list(req, res) {\n    User.find(function (err, Users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los usuarios'\n        });\n      }\n      return res.json(Users);\n    });\n  },\n  getUser: function getUser(req, res) {\n    // var id = req.params.id\n    console.log('Ha entrado por aquí');\n    User.findOne({ _id: id }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el usuario'\n        });\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'No tenemos a este usuario'\n        });\n      }\n      return res.json(users);\n    });\n  },\n  createUser: function createUser(req, res) {\n    var user = new TempUser(req.body);\n    // console.log (req.body)\n    console.log(user);\n    // var locale = req.swagger.params.locale.value\n    // console.log('locale:' + locale)\n    var nev = mailing(user.locale);\n    nev.createTempUser(user, function (err, existingPersistentUser, newTempUser) {\n      if (err) {\n        return res.status(400).json(err);\n      }\n      // user already exists in persistent collection\n      if (existingPersistentUser) {\n        return res.json({\n          msg: 'You have already signed up and confirmed your account. Did you forget your password?'\n        });\n      }\n      // new user created\n      if (newTempUser) {\n        var URL = newTempUser[nev.options.URLFieldName];\n        nev.sendVerificationEmail(newTempUser.email, URL, function (err, info) {\n          if (err) {\n            return res.status(500).json({ msg: 'ERROR: sending verification email FAILED' });\n          }\n          res.status(200).json({ message: 'An email has been sent to you. Please check it to verify your account.' });\n        });\n\n        // user already exists in temporary collection!\n      } else {\n        return res.status(409).json({\n          message: 'You have already signed up. Please check your email to verify your account.' });\n      }\n    });\n  },\n  activatecreateUser: function activatecreateUser(req, res) {\n    var user = new TempUser(req.body);\n    // console.log (req.body)\n    console.log(user);\n    // var locale = req.swagger.params.locale.value\n    // console.log('locale:' + locale)\n    var nev = mailing(user.locale);\n    nev.createTempUser(user, function (err, existingPersistentUser, newTempUser) {\n      if (err) {\n        return res.status(400).json(err);\n      }\n      // user already exists in persistent collection\n      if (existingPersistentUser) {\n        return res.json({\n          msg: 'You have already signed up and confirmed your account. Did you forget your password?'\n        });\n      }\n      // new user created\n      if (newTempUser) {\n        var URL = newTempUser[nev.options.URLFieldName];\n        nev.sendVerificationEmail(newTempUser.email, URL, function (err, info) {\n          if (err) {\n            return res.status(500).json({ msg: 'ERROR: sending verification email FAILED' });\n          }\n          res.status(200).json({ message: 'An email has been sent to you. Please check it to verify your account.' });\n        });\n\n        // user already exists in temporary collection!\n      } else {\n        return res.status(409).json({\n          message: 'You have already signed up. Please check your email to verify your account.' });\n      }\n    });\n  },\n  update: function update(req, res) {\n    var id = req.params.id;\n    User.findOne({ _id: id }, function (err, users) {\n      if (err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el usuario',\n          error: err\n        });\n      }\n      if (!users) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la users'\n        });\n      }\n      users.Nombre = req.body.nombre;\n      users.Descripción = req.body.descripcion;\n      users.Graduacion = req.body.graduacion;\n      users.Envase = req.body.envase;\n      users.Precio = req.body.precio;\n      users.save(function (err, users) {\n        if (err) {\n          return res.status(500).json({\n            message: 'Error al guardar la users'\n          });\n        }\n        if (!users) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la users'\n          });\n        }\n        return res.json(users);\n      });\n    });\n  },\n  remove: function remove(req, res) {\n    var id = req.params.id;\n    User.findByIdAndRemove(id, function (err, users) {\n      if (err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el usuario'\n        });\n      }\n      return res.json(users);\n    });\n  }\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInVzZXJzLmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwiVGVtcFVzZXIiLCJtYWlsaW5nIiwibW9kdWxlIiwiZXhwb3J0cyIsInNlYXJjaCIsInJlcSIsInJlcyIsInEiLCJxdWVyeSIsImZpbmQiLCIkdGV4dCIsIiRzZWFyY2giLCJlcnIiLCJ1c2VycyIsInN0YXR1cyIsImpzb24iLCJtZXNzYWdlIiwibGlzdCIsIlVzZXJzIiwiZ2V0VXNlciIsImNvbnNvbGUiLCJsb2ciLCJmaW5kT25lIiwiX2lkIiwiaWQiLCJjcmVhdGVVc2VyIiwidXNlciIsImJvZHkiLCJuZXYiLCJsb2NhbGUiLCJjcmVhdGVUZW1wVXNlciIsImV4aXN0aW5nUGVyc2lzdGVudFVzZXIiLCJuZXdUZW1wVXNlciIsIm1zZyIsIlVSTCIsIm9wdGlvbnMiLCJVUkxGaWVsZE5hbWUiLCJzZW5kVmVyaWZpY2F0aW9uRW1haWwiLCJlbWFpbCIsImluZm8iLCJhY3RpdmF0ZWNyZWF0ZVVzZXIiLCJ1cGRhdGUiLCJwYXJhbXMiLCJlcnJvciIsIk5vbWJyZSIsIm5vbWJyZSIsIkRlc2NyaXBjacOzbiIsImRlc2NyaXBjaW9uIiwiR3JhZHVhY2lvbiIsImdyYWR1YWNpb24iLCJFbnZhc2UiLCJlbnZhc2UiLCJQcmVjaW8iLCJwcmVjaW8iLCJzYXZlIiwicmVtb3ZlIiwiZmluZEJ5SWRBbmRSZW1vdmUiXSwibWFwcGluZ3MiOiI7O0FBQUEsSUFBSUEsT0FBT0MsUUFBUSxnQkFBUixDQUFYO0FBQ0EsSUFBSUMsV0FBV0QsUUFBUSxvQkFBUixDQUFmO0FBQ0EsSUFBSUUsVUFBVUYsUUFBUSxTQUFSLENBQWQ7QUFDQUcsT0FBT0MsT0FBUCxHQUFpQjtBQUNmO0FBQ0FDLFVBQVEsZ0JBQVVDLEdBQVYsRUFBZUMsR0FBZixFQUFvQjtBQUMxQixRQUFJQyxJQUFJRixJQUFJRyxLQUFKLENBQVVELENBQWxCO0FBQ0FULFNBQUtXLElBQUwsQ0FBVSxFQUFFQyxPQUFPLEVBQUVDLFNBQVNKLENBQVgs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SixFQUFXO0FBQ1QsaUJBQU9QLElBQUlRLE1BQUosQ0FBVyxHQUFYLEVBQWdCQyxJQUFoQixDQUFxQjtBQUMxQkMscUJBQVM7QUFEaUIsV0FBckIsQ0FBUDtBQUdEO0FBQ0QsZUFBT1YsSUFBSVMsSUFBSixDQUFTRixLQUFULENBQVA7QUFDRCxPQVpEO0FBYUQsS0E5QkQ7QUErQkQsR0E3SWM7QUE4SWYwQyxVQUFRLGdCQUFTbEQsR0FBVCxFQUFjQyxHQUFkLEVBQW1CO0FBQ3pCLFFBQUlrQixLQUFLbkIsSUFBSXFDLE1BQUosQ0FBV2xCLEVBQXBCO0FBQ0ExQixTQUFLMEQsaUJBQUwsQ0FBdUJoQyxFQUF2QixFQUEyQixVQUFTWixHQUFULEVBQWNDLEtBQWQsRUFBb0I7QUFDN0MsVUFBR0QsR0FBSCxFQUFRO0FBQ04sZUFBT04sSUFBSVMsSUFBSixDQUFTLEdBQVQsRUFBYztBQUNuQkMsbUJBQVM7QUFEVSxTQUFkLENBQVA7QUFHRDtBQUNELGFBQU9WLElBQUlTLElBQUosQ0FBU0YsS0FBVCxDQUFQO0FBQ0QsS0FQRDtBQVFEO0FBeEpjLENBQWpCIiwiZmlsZSI6InVzZXJzLmpzIiwic291cmNlUm9vdCI6Ii9hcHAvYXBpL2NvbnRyb2xsZXJzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpXG52YXIgVGVtcFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVGVtcFVzZXInKVxudmFyIG1haWxpbmcgPSByZXF1aXJlKCcuLi9tYWlsJylcbm1vZHVsZS5leHBvcnRzID0ge1xuICAvLyBodHRwczovL2RvY3MubW9uZ29kYi5jb20vdjMuMC9yZWZlcmVuY2Uvb3BlcmF0b3IvcXVlcnkvdGV4dC9cbiAgc2VhcmNoOiBmdW5jdGlvbiAocmVxLCByZXMpIHtcbiAgICB2YXIgcSA9IHJlcS5xdWVyeS5xXG4gICAgVXNlci5maW5kKHsgJHRleHQ6IHsgJHNlYXJjaDogcSB9IH0sIGZ1bmN0aW9uKGVyciwgdXNlcnMpIHtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdFcnJvciBlbiBsYSBiw7pzcXVlZGEnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24odXNlcnMpXG4gICAgfSlcbiAgfSxcbiAgbGlzdDogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICBVc2VyLmZpbmQoZnVuY3Rpb24oZXJyLCBVc2Vycyl7XG4gICAgICBpZihlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnRXJyb3Igb2J0ZW5pZW5kbyBsb3MgdXN1YXJpb3MnXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzLmpzb24oVXNlcnMpXG4gICAgfSlcbiAgfSxcbiAgZ2V0VXNlcjogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICAvLyB2YXIgaWQgPSByZXEucGFyYW1zLmlkXG4gICAgY29uc29sZS5sb2coJ0hhIGVudHJhZG8gcG9yIGFxdcOtJylcbiAgICBVc2VyLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIHVzZXJzKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgb2J0ZW5lciBlbCB1c3VhcmlvJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgaWYoIXVzZXJzKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbigge1xuICAgICAgICAgIG1lc3NhZ2U6ICdObyB0ZW5lbW9zIGEgZXN0ZSB1c3VhcmlvJ1xuICAgICAgICB9KVxuICAgICAgfVxuICAgICAgcmV0dXJuIHJlcy5qc29uKHVzZXJzKVxuICAgIH0pXG4gIH0sXG4gIGNyZWF0ZVVzZXI6IGZ1bmN0aW9uKHJlcSwgcmVzKSB7XG4gICAgdmFyIHVzZXIgPSBuZXcgVGVtcFVzZXIgKHJlcS5ib2R5KVxuICAgIC8vIGNvbnNvbGUubG9nIChyZXEuYm9keSlcbiAgICBjb25zb2xlLmxvZyh1c2VyKVxuICAgIC8vIHZhciBsb2NhbGUgPSByZXEuc3dhZ2dlci5wYXJhbXMubG9jYWxlLnZhbHVlXG4gICAgLy8gY29uc29sZS5sb2coJ2xvY2FsZTonICsgbG9jYWxlKVxuICAgIHZhciBuZXYgPSBtYWlsaW5nKHVzZXIubG9jYWxlKVxuICAgIG5ldi5jcmVhdGVUZW1wVXNlcih1c2VyLCBmdW5jdGlvbihlcnIsIGV4aXN0aW5nUGVyc2lzdGVudFVzZXIsIG5ld1RlbXBVc2VyKSB7XG4gICAgICBpZiAoZXJyKSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMCkuanNvbihlcnIpXG4gICAgICB9XG4gICAgICAvLyB1c2VyIGFscmVhZHkgZXhpc3RzIGluIHBlcnNpc3RlbnQgY29sbGVjdGlvblxuICAgICAgaWYgKGV4aXN0aW5nUGVyc2lzdGVudFVzZXIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKHtcbiAgICAgICAgICBtc2c6ICdZb3UgaGF2ZSBhbHJlYWR5IHNpZ25lZCB1cCBhbmQgY29uZmlybWVkIHlvdXIgYWNjb3VudC4gRGlkIHlvdSBmb3JnZXQgeW91ciBwYXNzd29yZD8nXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICAvLyBuZXcgdXNlciBjcmVhdGVkXG4gICAgICBpZiAobmV3VGVtcFVzZXIpIHtcbiAgICAgICAgdmFyIFVSTCA9IG5ld1RlbXBVc2VyW25ldi5vcHRpb25zLlVSTEZpZWxkTmFtZV1cbiAgICAgICAgbmV2LnNlbmRWZXJpZmljYXRpb25FbWFpbChuZXdUZW1wVXNlci5lbWFpbCwgVVJMLCBmdW5jdGlvbihlcnIsIGluZm8pIHtcbiAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe21zZzogJ0VSUk9SOiBzZW5kaW5nIHZlcmlmaWNhdGlvbiBlbWFpbCBGQUlMRUQnfSlcbiAgICAgICAgICB9XG4gICAgICAgICAgcmVzLnN0YXR1cygyMDApLmpzb24oe21lc3NhZ2U6ICdBbiBlbWFpbCBoYXMgYmVlbiBzZW50IHRvIHlvdS4gUGxlYXNlIGNoZWNrIGl0IHRvIHZlcmlmeSB5b3VyIGFjY291bnQuJ30pXG4gICAgICAgIH0pXG5cbiAgICAgIC8vIHVzZXIgYWxyZWFkeSBleGlzdHMgaW4gdGVtcG9yYXJ5IGNvbGxlY3Rpb24hXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDkpLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdZb3UgaGF2ZSBhbHJlYWR5IHNpZ25lZCB1cC4gUGxlYXNlIGNoZWNrIHlvdXIgZW1haWwgdG8gdmVyaWZ5IHlvdXIgYWNjb3VudC4nICB9KVxuICAgICAgfVxuICAgIH0pXG4gIH0sXG4gIGFjdGl2YXRlY3JlYXRlVXNlcjogZnVuY3Rpb24ocmVxLCByZXMpIHtcbiAgICB2YXIgdXNlciA9IG5ldyBUZW1wVXNlciAocmVxLmJvZHkpXG4gICAgLy8gY29uc29sZS5sb2cgKHJlcS5ib2R5KVxuICAgIGNvbnNvbGUubG9nKHVzZXIpXG4gICAgLy8gdmFyIGxvY2FsZSA9IHJlcS5zd2FnZ2VyLnBhcmFtcy5sb2NhbGUudmFsdWVcbiAgICAvLyBjb25zb2xlLmxvZygnbG9jYWxlOicgKyBsb2NhbGUpXG4gICAgdmFyIG5ldiA9IG1haWxpbmcodXNlci5sb2NhbGUpXG4gICAgbmV2LmNyZWF0ZVRlbXBVc2VyKHVzZXIsIGZ1bmN0aW9uKGVyciwgZXhpc3RpbmdQZXJzaXN0ZW50VXNlciwgbmV3VGVtcFVzZXIpIHtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKGVycilcbiAgICAgIH1cbiAgICAgIC8vIHVzZXIgYWxyZWFkeSBleGlzdHMgaW4gcGVyc2lzdGVudCBjb2xsZWN0aW9uXG4gICAgICBpZiAoZXhpc3RpbmdQZXJzaXN0ZW50VXNlcikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oe1xuICAgICAgICAgIG1zZzogJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwIGFuZCBjb25maXJtZWQgeW91ciBhY2NvdW50LiBEaWQgeW91IGZvcmdldCB5b3VyIHBhc3N3b3JkPydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIC8vIG5ldyB1c2VyIGNyZWF0ZWRcbiAgICAgIGlmIChuZXdUZW1wVXNlcikge1xuICAgICAgICB2YXIgVVJMID0gbmV3VGVtcFVzZXJbbmV2Lm9wdGlvbnMuVVJMRmllbGROYW1lXVxuICAgICAgICBuZXYuc2VuZFZlcmlmaWNhdGlvbkVtYWlsKG5ld1RlbXBVc2VyLmVtYWlsLCBVUkwsIGZ1bmN0aW9uKGVyciwgaW5mbykge1xuICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7bXNnOiAnRVJST1I6IHNlbmRpbmcgdmVyaWZpY2F0aW9uIGVtYWlsIEZBSUxFRCd9KVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7bWVzc2FnZTogJ0FuIGVtYWlsIGhhcyBiZWVuIHNlbnQgdG8geW91LiBQbGVhc2UgY2hlY2sgaXQgdG8gdmVyaWZ5IHlvdXIgYWNjb3VudC4nfSlcbiAgICAgICAgfSlcblxuICAgICAgLy8gdXNlciBhbHJlYWR5IGV4aXN0cyBpbiB0ZW1wb3JhcnkgY29sbGVjdGlvbiFcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwOSkuanNvbih7XG4gICAgICAgICAgbWVzc2FnZTogJ1lvdSBoYXZlIGFscmVhZHkgc2lnbmVkIHVwLiBQbGVhc2UgY2hlY2sgeW91ciBlbWFpbCB0byB2ZXJpZnkgeW91ciBhY2NvdW50LicgIH0pXG4gICAgICB9XG4gICAgfSlcbiAgfSxcbiAgdXBkYXRlOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBVc2VyLmZpbmRPbmUoe19pZDogaWR9LCBmdW5jdGlvbihlcnIsIHVzZXJzKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xuICAgICAgICAgIG1lc3NhZ2U6ICdTZSBoYSBwcm9kdWNpZG8gdW4gZXJyb3IgYWwgZ3VhcmRhciBlbCB1c3VhcmlvJyxcbiAgICAgICAgICBlcnJvcjogZXJyXG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgICBpZighdXNlcnMpIHtcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDA0KS5qc29uKHtcbiAgICAgICAgICBtZXNzYWdlOiAnTm8gaGVtb3MgZW5jb250cmFkbyBsYSB1c2VycydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHVzZXJzLk5vbWJyZSA9IHJlcS5ib2R5Lm5vbWJyZVxuICAgICAgdXNlcnMuRGVzY3JpcGNpw7NuID0gIHJlcS5ib2R5LmRlc2NyaXBjaW9uXG4gICAgICB1c2Vycy5HcmFkdWFjaW9uID0gcmVxLmJvZHkuZ3JhZHVhY2lvblxuICAgICAgdXNlcnMuRW52YXNlID0gcmVxLmJvZHkuZW52YXNlXG4gICAgICB1c2Vycy5QcmVjaW8gPSByZXEuYm9keS5wcmVjaW9cbiAgICAgIHVzZXJzLnNhdmUoZnVuY3Rpb24oZXJyLCB1c2Vycyl7XG4gICAgICAgIGlmKGVycikge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnRXJyb3IgYWwgZ3VhcmRhciBsYSB1c2VycydcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIGlmKCF1c2Vycykge1xuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwNCkuanNvbih7XG4gICAgICAgICAgICBtZXNzYWdlOiAnTm8gaGVtb3MgZW5jb250cmFkbyBsYSB1c2VycydcbiAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXMuanNvbih1c2VycylcbiAgICAgIH0pXG4gICAgfSlcbiAgfSxcbiAgcmVtb3ZlOiBmdW5jdGlvbihyZXEsIHJlcykge1xuICAgIHZhciBpZCA9IHJlcS5wYXJhbXMuaWRcbiAgICBVc2VyLmZpbmRCeUlkQW5kUmVtb3ZlKGlkLCBmdW5jdGlvbihlcnIsIHVzZXJzKXtcbiAgICAgIGlmKGVycikge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oNTAwLCB7XG4gICAgICAgICAgbWVzc2FnZTogJ05vIGhlbW9zIGVuY29udHJhZG8gZWwgdXN1YXJpbydcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIHJldHVybiByZXMuanNvbih1c2VycylcbiAgICB9KVxuICB9XG59Il19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "users.js"
      ],
      "names": [
        "User",
        "require",
        "TempUser",
        "mailing",
        "module",
        "exports",
        "search",
        "req",
        "res",
        "q",
        "query",
        "find",
        "$text",
        "$search",
        "err",
        "users",
        "status",
        "json",
        "message",
        "list",
        "Users",
        "getUser",
        "console",
        "log",
        "findOne",
        "_id",
        "id",
        "createUser",
        "user",
        "body",
        "nev",
        "locale",
        "createTempUser",
        "existingPersistentUser",
        "newTempUser",
        "msg",
        "URL",
        "options",
        "URLFieldName",
        "sendVerificationEmail",
        "email",
        "info",
        "activatecreateUser",
        "update",
        "params",
        "error",
        "Nombre",
        "nombre",
        "Descripción",
        "descripcion",
        "Graduacion",
        "graduacion",
        "Envase",
        "envase",
        "Precio",
        "precio",
        "save",
        "remove",
        "findByIdAndRemove"
      ],
      "mappings": "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",
      "file": "users.js",
      "sourceRoot": "/app/api/controllers",
      "sourcesContent": [
        "var User = require('../models/User')\nvar TempUser = require('../models/TempUser')\nvar mailing = require('../mail')\nmodule.exports = {\n  // https://docs.mongodb.com/v3.0/reference/operator/query/text/\n  search: function (req, res) {\n    var q = req.query.q\n    User.find({ $text: { $search: q } }, function(err, users) {\n      if(err) {\n        return res.status(500).json({\n          message: 'Error en la búsqueda'\n        })\n      }\n      return res.json(users)\n    })\n  },\n  list: function(req, res) {\n    User.find(function(err, Users){\n      if(err) {\n        return res.status(500).json({\n          message: 'Error obteniendo los usuarios'\n        })\n      }\n      return res.json(Users)\n    })\n  },\n  getUser: function(req, res) {\n    // var id = req.params.id\n    console.log('Ha entrado por aquí')\n    User.findOne({_id: id}, function(err, users){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al obtener el usuario'\n        })\n      }\n      if(!users) {\n        return res.status(404).json( {\n          message: 'No tenemos a este usuario'\n        })\n      }\n      return res.json(users)\n    })\n  },\n  createUser: function(req, res) {\n    var user = new TempUser (req.body)\n    // console.log (req.body)\n    console.log(user)\n    // var locale = req.swagger.params.locale.value\n    // console.log('locale:' + locale)\n    var nev = mailing(user.locale)\n    nev.createTempUser(user, function(err, existingPersistentUser, newTempUser) {\n      if (err) {\n        return res.status(400).json(err)\n      }\n      // user already exists in persistent collection\n      if (existingPersistentUser) {\n        return res.json({\n          msg: 'You have already signed up and confirmed your account. Did you forget your password?'\n        })\n      }\n      // new user created\n      if (newTempUser) {\n        var URL = newTempUser[nev.options.URLFieldName]\n        nev.sendVerificationEmail(newTempUser.email, URL, function(err, info) {\n          if (err) {\n            return res.status(500).json({msg: 'ERROR: sending verification email FAILED'})\n          }\n          res.status(200).json({message: 'An email has been sent to you. Please check it to verify your account.'})\n        })\n\n      // user already exists in temporary collection!\n      } else {\n        return res.status(409).json({\n          message: 'You have already signed up. Please check your email to verify your account.'  })\n      }\n    })\n  },\n  activatecreateUser: function(req, res) {\n    var user = new TempUser (req.body)\n    // console.log (req.body)\n    console.log(user)\n    // var locale = req.swagger.params.locale.value\n    // console.log('locale:' + locale)\n    var nev = mailing(user.locale)\n    nev.createTempUser(user, function(err, existingPersistentUser, newTempUser) {\n      if (err) {\n        return res.status(400).json(err)\n      }\n      // user already exists in persistent collection\n      if (existingPersistentUser) {\n        return res.json({\n          msg: 'You have already signed up and confirmed your account. Did you forget your password?'\n        })\n      }\n      // new user created\n      if (newTempUser) {\n        var URL = newTempUser[nev.options.URLFieldName]\n        nev.sendVerificationEmail(newTempUser.email, URL, function(err, info) {\n          if (err) {\n            return res.status(500).json({msg: 'ERROR: sending verification email FAILED'})\n          }\n          res.status(200).json({message: 'An email has been sent to you. Please check it to verify your account.'})\n        })\n\n      // user already exists in temporary collection!\n      } else {\n        return res.status(409).json({\n          message: 'You have already signed up. Please check your email to verify your account.'  })\n      }\n    })\n  },\n  update: function(req, res) {\n    var id = req.params.id\n    User.findOne({_id: id}, function(err, users){\n      if(err) {\n        return res.status(500).json({\n          message: 'Se ha producido un error al guardar el usuario',\n          error: err\n        })\n      }\n      if(!users) {\n        return res.status(404).json({\n          message: 'No hemos encontrado la users'\n        })\n      }\n      users.Nombre = req.body.nombre\n      users.Descripción =  req.body.descripcion\n      users.Graduacion = req.body.graduacion\n      users.Envase = req.body.envase\n      users.Precio = req.body.precio\n      users.save(function(err, users){\n        if(err) {\n          return res.status(500).json({\n            message: 'Error al guardar la users'\n          })\n        }\n        if(!users) {\n          return res.status(404).json({\n            message: 'No hemos encontrado la users'\n          })\n        }\n        return res.json(users)\n      })\n    })\n  },\n  remove: function(req, res) {\n    var id = req.params.id\n    User.findByIdAndRemove(id, function(err, users){\n      if(err) {\n        return res.json(500, {\n          message: 'No hemos encontrado el usuario'\n        })\n      }\n      return res.json(users)\n    })\n  }\n}"
      ]
    },
    "mtime": 1497952432758
  },
  "{\"filename\":\"/app/api/models/TempUser.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/models\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/models/TempUser.js",
      "filenameRelative": "/app/api/models/TempUser.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "TempUser.js",
      "sourceFileName": "TempUser.js",
      "sourceRoot": "/app/api/models",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/models",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "TempUser"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar mongoose = require('mongoose');\nvar crypto = require('crypto');\n\nvar Schema = mongoose.Schema;\n\nvar oAuthTypes = ['github', 'twitter', 'facebook', 'google', 'linkedin'];\n\nvar userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type: Date, default: Date.now },\n  facebook: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  google: {\n    id: String,\n    token: String,\n    email: String,\n    name: String\n  },\n  GENERATED_VERIFYING_URL: { type: String }\n});\n\nvar validatePresenceOf = function validatePresenceOf(value) {\n  return value && value.length;\n};\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true;\n  return name.length;\n}, 'Name cannot be blank');\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true;\n  return email.length;\n}, 'Email cannot be blank');\n\nuserSchema.path('email').validate(function (email, fn) {\n  var User = mongoose.model('User');\n  if (this.skipValidation()) fn(true);\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0);\n    });\n  } else fn(true);\n}, 'Email already exists');\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true;\n  return username.length;\n}, 'Username cannot be blank');\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true;\n  return password.length;\n}, 'Password cannot be blank');\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next();\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'));\n  } else {\n    next();\n  }\n});\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function authenticate(plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password;\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function makeSalt() {\n    return Math.round(new Date().valueOf() * Math.random()) + '';\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function encryptPassword(password) {\n    if (!password) return '';\n    try {\n      return crypto.createHmac('sha1', this.salt).update(password).digest('hex');\n    } catch (err) {\n      return '';\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function skipValidation() {\n    return ~oAuthTypes.indexOf(this.provider);\n  }\n};\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function load(options, cb) {\n    options.select = options.select || 'name username';\n    return this.findOne(options.criteria).select(options.select).exec(cb);\n  }\n};\n\nvar TempUser = mongoose.model('TempUser', userSchema);\n\nmodule.exports = TempUser;\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIlRlbXBVc2VyLmpzIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwicmVxdWlyZSIsImNyeXB0byIsIlNjaGVtYSIsIm9BdXRoVHlwZXMiLCJ1c2VyU2NoZW1hIiwibmFtZSIsInR5cGUiLCJTdHJpbmciLCJkZWZhdWx0IiwiZW1haWwiLCJ1c2VybmFtZSIsInByb3ZpZGVyIiwibG9jYWxlIiwicGFzc3dvcmQiLCJhdXRoVG9rZW4iLCJsYXN0bG9naW4iLCJEYXRlIiwibm93IiwiZmFjZWJvb2siLCJpZCIsInRva2VuIiwiZ29vZ2xlIiwiR0VORVJBVEVEX1ZFUklGWUlOR19VUkwiLCJ2YWxpZGF0ZVByZXNlbmNlT2YiLCJ2YWx1ZSIsImxlbmd0aCIsInBhdGgiLCJ2YWxpZGF0ZSIsInNraXBWYWxpZGF0aW9uIiwiZm4iLCJVc2VyIiwibW9kZWwiLCJpc05ldyIsImlzTW9kaWZpZWQiLCJmaW5kIiwiZXhlYyIsImVyciIsInVzZXJzIiwicHJlIiwibmV4dCIsIkVycm9yIiwibWV0aG9kcyIsImF1dGhlbnRpY2F0ZSIsInBsYWluVGV4dCIsImVuY3J5cHRQYXNzd29yZCIsImhhc2hlZF9wYXNzd29yZCIsIm1ha2VTYWx0IiwiTWF0aCIsInJvdW5kIiwidmFsdWVPZiIsInJhbmRvbSIsImNyZWF0ZUhtYWMiLCJzYWx0IiwidXBkYXRlIiwiZGlnZXN0IiwiaW5kZXhPZiIsInN0YXRpY3MiLCJsb2FkIiwib3B0aW9ucyIsImNiIiwic2VsZWN0IiwiZmluZE9uZSIsImNyaXRlcmlhIiwiVGVtcFVzZXIiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOztBQUFBLElBQUlBLFdBQVdDLFFBQVEsVUFBUixDQUFmO0FBQ0EsSUFBTUMsU0FBU0QsUUFBUSxRQUFSLENBQWY7O0FBRUEsSUFBSUUsU0FBU0gsU0FBU0csTUFBdEI7O0FBRUEsSUFBTUMsYUFBYSxDQUNqQixRQURpQixFQUVqQixTQUZpQixFQUdqQixVQUhpQixFQUlqQixRQUppQixFQUtqQixVQUxpQixD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WCxDQUFtQixLQUFLNUMsUUFBeEIsQ0FBUjtBQUNEO0FBbkRrQixDQUFyQjs7QUFzREE7Ozs7QUFJQVAsV0FBV29ELE9BQVgsR0FBcUI7O0FBRW5COzs7Ozs7OztBQVFBQyxRQUFNLGNBQVVDLE9BQVYsRUFBbUJDLEVBQW5CLEVBQXVCO0FBQzNCRCxZQUFRRSxNQUFSLEdBQWlCRixRQUFRRSxNQUFSLElBQWtCLGVBQW5DO0FBQ0EsV0FBTyxLQUFLQyxPQUFMLENBQWFILFFBQVFJLFFBQXJCLEVBQ0pGLE1BREksQ0FDR0YsUUFBUUUsTUFEWCxFQUVKekIsSUFGSSxDQUVDd0IsRUFGRCxDQUFQO0FBR0Q7QUFma0IsQ0FBckI7O0FBbUJBLElBQUlJLFdBQVdoRSxTQUFTZ0MsS0FBVCxDQUFlLFVBQWYsRUFBMkIzQixVQUEzQixDQUFmOztBQUVBNEQsT0FBT0MsT0FBUCxHQUFpQkYsUUFBakIiLCJmaWxlIjoiVGVtcFVzZXIuanMiLCJzb3VyY2VSb290IjoiL2FwcC9hcGkvbW9kZWxzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIG1vbmdvb3NlID0gcmVxdWlyZSgnbW9uZ29vc2UnKVxuY29uc3QgY3J5cHRvID0gcmVxdWlyZSgnY3J5cHRvJylcblxudmFyIFNjaGVtYSA9IG1vbmdvb3NlLlNjaGVtYVxuXG5jb25zdCBvQXV0aFR5cGVzID0gW1xuICAnZ2l0aHViJyxcbiAgJ3R3aXR0ZXInLFxuICAnZmFjZWJvb2snLFxuICAnZ29vZ2xlJyxcbiAgJ2xpbmtlZGluJ1xuXVxuXG5jb25zdCB1c2VyU2NoZW1hID0gbmV3IFNjaGVtYSh7XG4gIG5hbWU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBlbWFpbDogeyB0eXBlOiBTdHJpbmcsIGRlZmF1bHQ6ICcnIH0sXG4gIHVzZXJuYW1lOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgcHJvdmlkZXI6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnJyB9LFxuICBsb2NhbGU6IHsgdHlwZTogU3RyaW5nLCBkZWZhdWx0OiAnZW4nIH0sXG4gIHBhc3N3b3JkOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgYXV0aFRva2VuOiB7IHR5cGU6IFN0cmluZywgZGVmYXVsdDogJycgfSxcbiAgbGFzdGxvZ2luOiB7IHR5cGUgOiBEYXRlLCBkZWZhdWx0IDogRGF0ZS5ub3cgfSxcbiAgZmFjZWJvb2s6IHtcbiAgICBpZCAgICAgICAgICAgOiBTdHJpbmcsXG4gICAgdG9rZW4gICAgICAgIDogU3RyaW5nLFxuICAgIGVtYWlsICAgICAgICA6IFN0cmluZyxcbiAgICBuYW1lICAgICAgICAgOiBTdHJpbmdcbiAgfSxcbiAgZ29vZ2xlOiB7XG4gICAgaWQgICAgICAgICAgIDogU3RyaW5nLFxuICAgIHRva2VuICAgICAgICA6IFN0cmluZyxcbiAgICBlbWFpbCAgICAgICAgOiBTdHJpbmcsXG4gICAgbmFtZSAgICAgICAgIDogU3RyaW5nXG4gIH0sXG4gIEdFTkVSQVRFRF9WRVJJRllJTkdfVVJMOiB7dHlwZTogU3RyaW5nfVxufSlcblxuY29uc3QgdmFsaWRhdGVQcmVzZW5jZU9mID0gdmFsdWUgPT4gdmFsdWUgJiYgdmFsdWUubGVuZ3RoXG5cblxuLyoqXG4gKiBWYWxpZGF0aW9uc1xuICovXG5cbi8vIHRoZSBiZWxvdyA1IHZhbGlkYXRpb25zIG9ubHkgYXBwbHkgaWYgeW91IGFyZSBzaWduaW5nIHVwIHRyYWRpdGlvbmFsbHlcblxudXNlclNjaGVtYS5wYXRoKCduYW1lJykudmFsaWRhdGUoZnVuY3Rpb24gKG5hbWUpIHtcbiAgaWYgKHRoaXMuc2tpcFZhbGlkYXRpb24oKSkgcmV0dXJuIHRydWVcbiAgcmV0dXJuIG5hbWUubGVuZ3RoXG59LCAnTmFtZSBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ2VtYWlsJykudmFsaWRhdGUoZnVuY3Rpb24gKGVtYWlsKSB7XG4gIGlmICh0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHJldHVybiB0cnVlXG4gIHJldHVybiBlbWFpbC5sZW5ndGhcbn0sICdFbWFpbCBjYW5ub3QgYmUgYmxhbmsnKVxuXG51c2VyU2NoZW1hLnBhdGgoJ2VtYWlsJykudmFsaWRhdGUoZnVuY3Rpb24gKGVtYWlsLCBmbikge1xuICBjb25zdCBVc2VyID0gbW9uZ29vc2UubW9kZWwoJ1VzZXInKVxuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSBmbih0cnVlKVxuXG4gIC8vIENoZWNrIG9ubHkgd2hlbiBpdCBpcyBhIG5ldyB1c2VyIG9yIHdoZW4gZW1haWwgZmllbGQgaXMgbW9kaWZpZWRcbiAgaWYgKHRoaXMuaXNOZXcgfHwgdGhpcy5pc01vZGlmaWVkKCdlbWFpbCcpKSB7XG4gICAgVXNlci5maW5kKHsgZW1haWw6IGVtYWlsIH0pLmV4ZWMoZnVuY3Rpb24gKGVyciwgdXNlcnMpIHtcbiAgICAgIGZuKCFlcnIgJiYgdXNlcnMubGVuZ3RoID09PSAwKVxuICAgIH0pXG4gIH0gZWxzZSBmbih0cnVlKVxufSwgJ0VtYWlsIGFscmVhZHkgZXhpc3RzJylcblxudXNlclNjaGVtYS5wYXRoKCd1c2VybmFtZScpLnZhbGlkYXRlKGZ1bmN0aW9uICh1c2VybmFtZSkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gdXNlcm5hbWUubGVuZ3RoXG59LCAnVXNlcm5hbWUgY2Fubm90IGJlIGJsYW5rJylcblxudXNlclNjaGVtYS5wYXRoKCdwYXNzd29yZCcpLnZhbGlkYXRlKGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICBpZiAodGhpcy5za2lwVmFsaWRhdGlvbigpKSByZXR1cm4gdHJ1ZVxuICByZXR1cm4gcGFzc3dvcmQubGVuZ3RoXG59LCAnUGFzc3dvcmQgY2Fubm90IGJlIGJsYW5rJylcblxuXG4vKipcbiAqIFByZS1zYXZlIGhvb2tcbiAqL1xuXG51c2VyU2NoZW1hLnByZSgnc2F2ZScsIGZ1bmN0aW9uIChuZXh0KSB7XG4gIGlmICghdGhpcy5pc05ldykgcmV0dXJuIG5leHQoKVxuXG4gIGlmICghdmFsaWRhdGVQcmVzZW5jZU9mKHRoaXMucGFzc3dvcmQpICYmICF0aGlzLnNraXBWYWxpZGF0aW9uKCkpIHtcbiAgICBuZXh0KG5ldyBFcnJvcignSW52YWxpZCBwYXNzd29yZCcpKVxuICB9IGVsc2Uge1xuICAgIG5leHQoKVxuICB9XG59KVxuXG4vKipcbiAqIE1ldGhvZHNcbiAqL1xuXG51c2VyU2NoZW1hLm1ldGhvZHMgPSB7XG5cbiAgLyoqXG4gICAqIEF1dGhlbnRpY2F0ZSAtIGNoZWNrIGlmIHRoZSBwYXNzd29yZHMgYXJlIHRoZSBzYW1lXG4gICAqXG4gICAqIEBwYXJhbSB7U3RyaW5nfSBwbGFpblRleHRcbiAgICogQHJldHVybiB7Qm9vbGVhbn1cbiAgICogQGFwaSBwdWJsaWNcbiAgICovXG5cbiAgYXV0aGVudGljYXRlOiBmdW5jdGlvbiAocGxhaW5UZXh0KSB7XG4gICAgcmV0dXJuIHRoaXMuZW5jcnlwdFBhc3N3b3JkKHBsYWluVGV4dCkgPT09IHRoaXMuaGFzaGVkX3Bhc3N3b3JkXG4gIH0sXG5cbiAgLyoqXG4gICAqIE1ha2Ugc2FsdFxuICAgKlxuICAgKiBAcmV0dXJuIHtTdHJpbmd9XG4gICAqIEBhcGkgcHVibGljXG4gICAqL1xuXG4gIG1ha2VTYWx0OiBmdW5jdGlvbiAoKSB7XG4gICAgcmV0dXJuIE1hdGgucm91bmQoKG5ldyBEYXRlKCkudmFsdWVPZigpICogTWF0aC5yYW5kb20oKSkpICsgJydcbiAgfSxcblxuICAvKipcbiAgICogRW5jcnlwdCBwYXNzd29yZFxuICAgKlxuICAgKiBAcGFyYW0ge1N0cmluZ30gcGFzc3dvcmRcbiAgICogQHJldHVybiB7U3RyaW5nfVxuICAgKiBAYXBpIHB1YmxpY1xuICAgKi9cblxuICBlbmNyeXB0UGFzc3dvcmQ6IGZ1bmN0aW9uIChwYXNzd29yZCkge1xuICAgIGlmICghcGFzc3dvcmQpIHJldHVybiAnJ1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gY3J5cHRvXG4gICAgICAgIC5jcmVhdGVIbWFjKCdzaGExJywgdGhpcy5zYWx0KVxuICAgICAgICAudXBkYXRlKHBhc3N3b3JkKVxuICAgICAgICAuZGlnZXN0KCdoZXgnKVxuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICB9LFxuXG4gIC8qKlxuICAgKiBWYWxpZGF0aW9uIGlzIG5vdCByZXF1aXJlZCBpZiB1c2luZyBPQXV0aFxuICAgKi9cblxuICBza2lwVmFsaWRhdGlvbjogZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiB+b0F1dGhUeXBlcy5pbmRleE9mKHRoaXMucHJvdmlkZXIpXG4gIH1cbn1cblxuLyoqXG4gKiBTdGF0aWNzXG4gKi9cblxudXNlclNjaGVtYS5zdGF0aWNzID0ge1xuXG4gIC8qKlxuICAgKiBMb2FkXG4gICAqXG4gICAqIEBwYXJhbSB7T2JqZWN0fSBvcHRpb25zXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IGNiXG4gICAqIEBhcGkgcHJpdmF0ZVxuICAgKi9cblxuICBsb2FkOiBmdW5jdGlvbiAob3B0aW9ucywgY2IpIHtcbiAgICBvcHRpb25zLnNlbGVjdCA9IG9wdGlvbnMuc2VsZWN0IHx8ICduYW1lIHVzZXJuYW1lJ1xuICAgIHJldHVybiB0aGlzLmZpbmRPbmUob3B0aW9ucy5jcml0ZXJpYSlcbiAgICAgIC5zZWxlY3Qob3B0aW9ucy5zZWxlY3QpXG4gICAgICAuZXhlYyhjYilcbiAgfVxufVxuXG5cbnZhciBUZW1wVXNlciA9IG1vbmdvb3NlLm1vZGVsKCdUZW1wVXNlcicsIHVzZXJTY2hlbWEpXG5cbm1vZHVsZS5leHBvcnRzID0gVGVtcFVzZXJcblxuIl19",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "TempUser.js"
      ],
      "names": [
        "mongoose",
        "require",
        "crypto",
        "Schema",
        "oAuthTypes",
        "userSchema",
        "name",
        "type",
        "String",
        "default",
        "email",
        "username",
        "provider",
        "locale",
        "password",
        "authToken",
        "lastlogin",
        "Date",
        "now",
        "facebook",
        "id",
        "token",
        "google",
        "GENERATED_VERIFYING_URL",
        "validatePresenceOf",
        "value",
        "length",
        "path",
        "validate",
        "skipValidation",
        "fn",
        "User",
        "model",
        "isNew",
        "isModified",
        "find",
        "exec",
        "err",
        "users",
        "pre",
        "next",
        "Error",
        "methods",
        "authenticate",
        "plainText",
        "encryptPassword",
        "hashed_password",
        "makeSalt",
        "Math",
        "round",
        "valueOf",
        "random",
        "createHmac",
        "salt",
        "update",
        "digest",
        "indexOf",
        "statics",
        "load",
        "options",
        "cb",
        "select",
        "findOne",
        "criteria",
        "TempUser",
        "module",
        "exports"
      ],
      "mappings": "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",
      "file": "TempUser.js",
      "sourceRoot": "/app/api/models",
      "sourcesContent": [
        "var mongoose = require('mongoose')\nconst crypto = require('crypto')\n\nvar Schema = mongoose.Schema\n\nconst oAuthTypes = [\n  'github',\n  'twitter',\n  'facebook',\n  'google',\n  'linkedin'\n]\n\nconst userSchema = new Schema({\n  name: { type: String, default: '' },\n  email: { type: String, default: '' },\n  username: { type: String, default: '' },\n  provider: { type: String, default: '' },\n  locale: { type: String, default: 'en' },\n  password: { type: String, default: '' },\n  authToken: { type: String, default: '' },\n  lastlogin: { type : Date, default : Date.now },\n  facebook: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  google: {\n    id           : String,\n    token        : String,\n    email        : String,\n    name         : String\n  },\n  GENERATED_VERIFYING_URL: {type: String}\n})\n\nconst validatePresenceOf = value => value && value.length\n\n\n/**\n * Validations\n */\n\n// the below 5 validations only apply if you are signing up traditionally\n\nuserSchema.path('name').validate(function (name) {\n  if (this.skipValidation()) return true\n  return name.length\n}, 'Name cannot be blank')\n\nuserSchema.path('email').validate(function (email) {\n  if (this.skipValidation()) return true\n  return email.length\n}, 'Email cannot be blank')\n\nuserSchema.path('email').validate(function (email, fn) {\n  const User = mongoose.model('User')\n  if (this.skipValidation()) fn(true)\n\n  // Check only when it is a new user or when email field is modified\n  if (this.isNew || this.isModified('email')) {\n    User.find({ email: email }).exec(function (err, users) {\n      fn(!err && users.length === 0)\n    })\n  } else fn(true)\n}, 'Email already exists')\n\nuserSchema.path('username').validate(function (username) {\n  if (this.skipValidation()) return true\n  return username.length\n}, 'Username cannot be blank')\n\nuserSchema.path('password').validate(function (password) {\n  if (this.skipValidation()) return true\n  return password.length\n}, 'Password cannot be blank')\n\n\n/**\n * Pre-save hook\n */\n\nuserSchema.pre('save', function (next) {\n  if (!this.isNew) return next()\n\n  if (!validatePresenceOf(this.password) && !this.skipValidation()) {\n    next(new Error('Invalid password'))\n  } else {\n    next()\n  }\n})\n\n/**\n * Methods\n */\n\nuserSchema.methods = {\n\n  /**\n   * Authenticate - check if the passwords are the same\n   *\n   * @param {String} plainText\n   * @return {Boolean}\n   * @api public\n   */\n\n  authenticate: function (plainText) {\n    return this.encryptPassword(plainText) === this.hashed_password\n  },\n\n  /**\n   * Make salt\n   *\n   * @return {String}\n   * @api public\n   */\n\n  makeSalt: function () {\n    return Math.round((new Date().valueOf() * Math.random())) + ''\n  },\n\n  /**\n   * Encrypt password\n   *\n   * @param {String} password\n   * @return {String}\n   * @api public\n   */\n\n  encryptPassword: function (password) {\n    if (!password) return ''\n    try {\n      return crypto\n        .createHmac('sha1', this.salt)\n        .update(password)\n        .digest('hex')\n    } catch (err) {\n      return ''\n    }\n  },\n\n  /**\n   * Validation is not required if using OAuth\n   */\n\n  skipValidation: function () {\n    return ~oAuthTypes.indexOf(this.provider)\n  }\n}\n\n/**\n * Statics\n */\n\nuserSchema.statics = {\n\n  /**\n   * Load\n   *\n   * @param {Object} options\n   * @param {Function} cb\n   * @api private\n   */\n\n  load: function (options, cb) {\n    options.select = options.select || 'name username'\n    return this.findOne(options.criteria)\n      .select(options.select)\n      .exec(cb)\n  }\n}\n\n\nvar TempUser = mongoose.model('TempUser', userSchema)\n\nmodule.exports = TempUser\n\n"
      ]
    },
    "mtime": 1497952432758
  },
  "{\"filename\":\"/app/api/mail/index.js\",\"env\":{},\"retainLines\":false,\"highlightCode\":true,\"suppressDeprecationMessages\":false,\"presets\":[],\"plugins\":[[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{\"loose\":false,\"spec\":false}],[[],null],[[],null],[[],{\"spec\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"loose\":false}],[[],null],[[],null],[[],null],[[],{\"loose\":false}],[[],null],[[],{\"loose\":false}],[[],null],[[],null],[[],{\"loose\":false}],[[],{\"async\":false,\"asyncGenerators\":false}]],\"ignore\":[],\"code\":true,\"metadata\":true,\"ast\":true,\"comments\":true,\"compact\":\"auto\",\"minified\":false,\"sourceRoot\":\"/app/api/mail\",\"babelrc\":true,\"sourceType\":\"module\",\"moduleIds\":false,\"passPerPreset\":false,\"parserOpts\":false,\"generatorOpts\":false}:6.24.0:development": {
    "metadata": {
      "usedHelpers": [
        "typeof"
      ],
      "marked": [],
      "modules": {
        "imports": [],
        "exports": {
          "exported": [],
          "specifiers": []
        }
      }
    },
    "options": {
      "filename": "/app/api/mail/index.js",
      "filenameRelative": "/app/api/mail/index.js",
      "env": {},
      "retainLines": false,
      "highlightCode": true,
      "suppressDeprecationMessages": false,
      "presets": [],
      "plugins": [
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false,
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "spec": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          null
        ],
        [
          [],
          null
        ],
        [
          [],
          {
            "loose": false
          }
        ],
        [
          [],
          {
            "async": false,
            "asyncGenerators": false
          }
        ]
      ],
      "ignore": [],
      "code": true,
      "metadata": true,
      "ast": false,
      "comments": true,
      "compact": "auto",
      "minified": false,
      "sourceMaps": "both",
      "sourceMapTarget": "index.js",
      "sourceFileName": "index.js",
      "sourceRoot": "/app/api/mail",
      "babelrc": false,
      "sourceType": "module",
      "moduleRoot": "/app/api/mail",
      "moduleIds": false,
      "passPerPreset": false,
      "parserOpts": false,
      "generatorOpts": false,
      "basename": "index"
    },
    "ignored": false,
    "code": "'use strict';\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nvar User = require('../models/User');\nvar mongoose = require('mongoose');\nvar nev = require('email-verification')(mongoose);\nvar TempUser = require('../models/TempUser');\nvar bcrypt = require('bcryptjs');\n\nmodule.exports = function (locale) {\n\n  var myHasher = function myHasher(password, tempUserData, insertTempUser, callback) {\n    bcrypt.genSalt(8, function (err, salt) {\n      bcrypt.hash(password, salt, function (err, hash) {\n        return insertTempUser(hash, tempUserData, callback);\n      });\n    });\n  };\n\n  var subject, html, text;\n  switch (locale) {\n    case 'en':\n      subject = 'Please confirm account';\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>', text = 'Please confirm your account by clicking the following link: ${URL}';\n      break;\n    case 'es':\n      subject = 'Por favor, confirma tu cuenta', html = 'Pulsa el enlace siguiente para confirmar tu cuenta:</p><p>${URL}</p>', text = 'Por favor, confirma tu cuenta pulsando el enlace siguiente: ${URL}';\n      break;\n    default:\n      subject = 'Please confirm account';\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>', text = 'Please confirm your account by clicking the following link: ${URL}';\n  }\n\n  nev.configure({\n    verificationURL: 'http://localhost:4000/users/activate/${URL}',\n    URLLength: 48,\n    // mongo-stuff\n    persistentUserModel: User,\n    tempUserModel: TempUser,\n    tempUserCollection: 'tempusers',\n    emailFieldName: 'email',\n    passwordFieldName: 'password',\n    URLFieldName: 'GENERATED_VERIFYING_URL',\n    expirationTime: 86400, //1 día\n    // emailing options\n    transportOptions: {\n      service: 'Gmail',\n      auth: {\n        user: 'test696797518@gmail.com',\n        pass: '696797518'\n      }\n    },\n    verifyMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: subject,\n      html: html,\n      text: text\n    },\n    shouldSendConfirmation: true,\n    confirmMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: 'Successfully verified!',\n      html: '<p>Your account has been successfully verified.</p>',\n      text: 'Your account has been successfully verified.'\n    },\n    hashingFunction: myHasher\n  }, function (err, options) {\n    if (err) {\n      console.log(err);\n      return;\n    }\n    console.log('configured: ' + ((typeof options === 'undefined' ? 'undefined' : _typeof(options)) === 'object'));\n  });\n\n  return nev;\n};\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIl0sIm5hbWVzIjpbIlVzZXIiLCJyZXF1aXJlIiwibW9uZ29vc2UiLCJuZXYiLCJUZW1wVXNlciIsImJjcnlwdCIsIm1vZHVsZSIsImV4cG9ydHMiLCJsb2NhbGUiLCJteUhhc2hlciIsInBhc3N3b3JkIiwidGVtcFVzZXJEYXRhIiwiaW5zZXJ0VGVtcFVzZXIiLCJjYWxsYmFjayIsImdlblNhbHQiLCJlcnIiLCJzYWx0IiwiaGFzaCIsInN1YmplY3QiLCJodG1sIiwidGV4dCIsImNvbmZpZ3VyZSIsInZlcmlmaWNhdGlvblVSTCIsIlVSTExlbmd0aCIsInBlcnNpc3RlbnRVc2VyTW9kZWwiLCJ0ZW1wVXNlck1vZGVsIiwidGVtcFVzZXJDb2xsZWN0aW9uIiwiZW1haWxGaWVsZE5hbWUiLCJwYXNzd29yZEZpZWxkTmFtZSIsIlVSTEZpZWxkTmFtZSIsImV4cGlyYXRpb25UaW1lIiwidHJhbnNwb3J0T3B0aW9ucyIsInNlcnZpY2UiLCJhdXRoIiwidXNlciIsInBhc3MiLCJ2ZXJpZnlNYWlsT3B0aW9ucyIsImZyb20iLCJzaG91bGRTZW5kQ29uZmlybWF0aW9uIiwiY29uZmlybU1haWxPcHRpb25zIiwiaGFzaGluZ0Z1bmN0aW9uIiwib3B0aW9ucyIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxJQUFJQSxPQUFPQyxRQUFRLGdCQUFSLENBQVg7QUFDQSxJQUFJQyxXQUFXRCxRQUFRLFVBQVIsQ0FBZjtBQUNBLElBQUlFLE1BQU1GLFFBQVEsb0JBQVIsRUFBOEJDLFFBQTlCLENBQVY7QUFDQSxJQUFJRSxXQUFXSCxRQUFRLG9CQUFSLENBQWY7QUFDQSxJQUFJSSxTQUFTSixRQUFRLFVBQVIsQ0FBYjs7QUFFQUssT0FBT0MsT0FBUCxHQUFpQixVQUFVQyxNQUFWLEVBQWtCOztBQUVqQyxNQUFJQyxXQUFXLFNBQVhBLFFBQVcsQ0FBU0MsUUFBVCxFQUFtQkMsWUFBbkIsRUFBaUNDLGNBQWpDLEVBQWlEQyxRQUFqRCxFQUEyRDtBQUN4RVIsV0FBT1MsT0FBUCxDQUFlLENBQWYsRUFBa0IsVUFBU0MsR0FBVCxFQUFjQyxJQUFkLEVBQW9CO0FBQ3BDWCxhQUFPWSxJQUFQLENBQVlQLFFBQVosRUFBc0JNLElBQXRCLEVBQTRCLFVBQVNELEdBQVQsRUFBY0UsSUFBZCxFQUFvQjtBQUM5QyxlQUFPTCxlQUFlSyxJQUFmLEVBQXFCTixZQUFyQixFQUFtQ0UsUUFBbkMsQ0FBUDtBQUNELE9BRkQ7QUFHRCxLQUpEO0FBS0QsR0FORDs7QUFRQSxNQUFJSyxPQUFKLEVBQWFDLElBQWIsRUFBbUJDLElBQW5CO0FBQ0EsVUFBT1osTUFBUDtBQUNFLFNBQUssSUFBTDtBQUNFVSxnQkFBVSx3QkFBVjtBQUNBQyxhQUFPLG9FQUFQLEVBQ0FDLE9BQU8sb0VBRFA7QUFFQTtBQUNGLFNBQUssSUFBTDtBQUNFRixnQkFBVSwrQkFBVixFQUNBQyxPQUFPLHNFQURQLEVBRUFDLE9BQU8sb0VBRlA7QUFHQTtBQUNGO0FBQ0VGLGdCQUFVLHdCQUFWO0FBQ0FDLGFBQU8sb0VBQVAsRUFDQUMsT0FBTyxvRUFEUDtBQWJKOztBQWlCQWpCLE1BQUlrQixTQUFKLENBQWM7QUFDWkMscUJBQWlCLDZDQURMO0FBRVpDLGVBQVcsRUFGQztBQUdaO0FBQ0FDLHlCQUFxQnhCLElBSlQ7QUFLWnlCLG1CQUFlckIsUUFMSDtBQU1ac0Isd0JBQW9CLFdBTlI7QUFPWkMsb0JBQWdCLE9BUEo7QUFRWkMsdUJBQW1CLFVBUlA7QUFTWkMsa0JBQWMseUJBVEY7QUFVWkMsb0JBQWdCLEtBVkosRUFVVztBQUN2QjtBQUNBQyxzQkFBa0I7QUFDaEJDLGVBQVMsT0FETztBQUVoQkMsWUFBTTtBQUNKQyxjQUFNLHlCQURGO0FBRUpDLGNBQU07QUFGRjtBQUZVLEtBWk47QUFtQlpDLHVCQUFtQjtBQUNqQkMsWUFBTSx3Q0FEVztBQUVqQm5CLGVBQVNBLE9BRlE7QUFHakJDLFlBQU1BLElBSFc7QUFJakJDLFlBQU1BO0FBSlcsS0FuQlA7QUF5QlprQiw0QkFBd0IsSUF6Qlo7QUEwQlpDLHdCQUFvQjtBQUNsQkYsWUFBTSx3Q0FEWTtBQUVsQm5CLGVBQVMsd0JBRlM7QUFHbEJDLFlBQU0scURBSFk7QUFJbEJDLFlBQU07QUFKWSxLQTFCUjtBQWdDWm9CLHFCQUFpQi9CO0FBaENMLEdBQWQsRUFpQ0csVUFBU00sR0FBVCxFQUFjMEIsT0FBZCxFQUFzQjtBQUN2QixRQUFJMUIsR0FBSixFQUFTO0FBQ1AyQixjQUFRQyxHQUFSLENBQVk1QixHQUFaO0FBQ0E7QUFDRDtBQUNEMkIsWUFBUUMsR0FBUixDQUFZLGtCQUFrQixRQUFPRixPQUFQLHlDQUFPQSxPQUFQLE9BQW1CLFFBQXJDLENBQVo7QUFDRCxHQXZDRDs7QUF5Q0EsU0FBT3RDLEdBQVA7QUFDRCxDQXRFRCIsImZpbGUiOiJpbmRleC5qcyIsInNvdXJjZVJvb3QiOiIvYXBwL2FwaS9tYWlsIiwic291cmNlc0NvbnRlbnQiOlsidmFyIFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVXNlcicpXG52YXIgbW9uZ29vc2UgPSByZXF1aXJlKCdtb25nb29zZScpXG52YXIgbmV2ID0gcmVxdWlyZSgnZW1haWwtdmVyaWZpY2F0aW9uJykobW9uZ29vc2UpXG52YXIgVGVtcFVzZXIgPSByZXF1aXJlKCcuLi9tb2RlbHMvVGVtcFVzZXInKVxudmFyIGJjcnlwdCA9IHJlcXVpcmUoJ2JjcnlwdGpzJylcblxubW9kdWxlLmV4cG9ydHMgPSBmdW5jdGlvbiAobG9jYWxlKSB7XG5cbiAgdmFyIG15SGFzaGVyID0gZnVuY3Rpb24ocGFzc3dvcmQsIHRlbXBVc2VyRGF0YSwgaW5zZXJ0VGVtcFVzZXIsIGNhbGxiYWNrKSB7XG4gICAgYmNyeXB0LmdlblNhbHQoOCwgZnVuY3Rpb24oZXJyLCBzYWx0KSB7XG4gICAgICBiY3J5cHQuaGFzaChwYXNzd29yZCwgc2FsdCwgZnVuY3Rpb24oZXJyLCBoYXNoKSB7XG4gICAgICAgIHJldHVybiBpbnNlcnRUZW1wVXNlcihoYXNoLCB0ZW1wVXNlckRhdGEsIGNhbGxiYWNrKVxuICAgICAgfSlcbiAgICB9KVxuICB9XG5cbiAgdmFyIHN1YmplY3QsIGh0bWwsIHRleHRcbiAgc3dpdGNoKGxvY2FsZSkge1xuICAgIGNhc2UgJ2VuJzpcbiAgICAgIHN1YmplY3QgPSAnUGxlYXNlIGNvbmZpcm0gYWNjb3VudCdcbiAgICAgIGh0bWwgPSAnQ2xpY2sgdGhlIGZvbGxvd2luZyBsaW5rIHRvIGNvbmZpcm0geW91ciBhY2NvdW50OjwvcD48cD4ke1VSTH08L3A+JyxcbiAgICAgIHRleHQgPSAnUGxlYXNlIGNvbmZpcm0geW91ciBhY2NvdW50IGJ5IGNsaWNraW5nIHRoZSBmb2xsb3dpbmcgbGluazogJHtVUkx9J1xuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZXMnOlxuICAgICAgc3ViamVjdCA9ICdQb3IgZmF2b3IsIGNvbmZpcm1hIHR1IGN1ZW50YScsXG4gICAgICBodG1sID0gJ1B1bHNhIGVsIGVubGFjZSBzaWd1aWVudGUgcGFyYSBjb25maXJtYXIgdHUgY3VlbnRhOjwvcD48cD4ke1VSTH08L3A+JyxcbiAgICAgIHRleHQgPSAnUG9yIGZhdm9yLCBjb25maXJtYSB0dSBjdWVudGEgcHVsc2FuZG8gZWwgZW5sYWNlIHNpZ3VpZW50ZTogJHtVUkx9J1xuICAgICAgYnJlYWs7XG4gICAgZGVmYXVsdDpcbiAgICAgIHN1YmplY3QgPSAnUGxlYXNlIGNvbmZpcm0gYWNjb3VudCdcbiAgICAgIGh0bWwgPSAnQ2xpY2sgdGhlIGZvbGxvd2luZyBsaW5rIHRvIGNvbmZpcm0geW91ciBhY2NvdW50OjwvcD48cD4ke1VSTH08L3A+JyxcbiAgICAgIHRleHQgPSAnUGxlYXNlIGNvbmZpcm0geW91ciBhY2NvdW50IGJ5IGNsaWNraW5nIHRoZSBmb2xsb3dpbmcgbGluazogJHtVUkx9J1xufVxuXG4gIG5ldi5jb25maWd1cmUoe1xuICAgIHZlcmlmaWNhdGlvblVSTDogJ2h0dHA6Ly9sb2NhbGhvc3Q6NDAwMC91c2Vycy9hY3RpdmF0ZS8ke1VSTH0nLFxuICAgIFVSTExlbmd0aDogNDgsXG4gICAgLy8gbW9uZ28tc3R1ZmZcbiAgICBwZXJzaXN0ZW50VXNlck1vZGVsOiBVc2VyLFxuICAgIHRlbXBVc2VyTW9kZWw6IFRlbXBVc2VyLFxuICAgIHRlbXBVc2VyQ29sbGVjdGlvbjogJ3RlbXB1c2VycycsXG4gICAgZW1haWxGaWVsZE5hbWU6ICdlbWFpbCcsXG4gICAgcGFzc3dvcmRGaWVsZE5hbWU6ICdwYXNzd29yZCcsXG4gICAgVVJMRmllbGROYW1lOiAnR0VORVJBVEVEX1ZFUklGWUlOR19VUkwnLFxuICAgIGV4cGlyYXRpb25UaW1lOiA4NjQwMCwgLy8xIGTDrWFcbiAgICAvLyBlbWFpbGluZyBvcHRpb25zXG4gICAgdHJhbnNwb3J0T3B0aW9uczoge1xuICAgICAgc2VydmljZTogJ0dtYWlsJyxcbiAgICAgIGF1dGg6IHtcbiAgICAgICAgdXNlcjogJ3Rlc3Q2OTY3OTc1MThAZ21haWwuY29tJyxcbiAgICAgICAgcGFzczogJzY5Njc5NzUxOCdcbiAgICAgIH1cbiAgICB9LFxuICAgIHZlcmlmeU1haWxPcHRpb25zOiB7XG4gICAgICBmcm9tOiAnRG8gTm90IFJlcGx5IDx0ZXN0Njk2Nzk3NTE4QGdtYWlsLmNvbT4nLFxuICAgICAgc3ViamVjdDogc3ViamVjdCxcbiAgICAgIGh0bWw6IGh0bWwsXG4gICAgICB0ZXh0OiB0ZXh0XG4gICAgfSxcbiAgICBzaG91bGRTZW5kQ29uZmlybWF0aW9uOiB0cnVlLFxuICAgIGNvbmZpcm1NYWlsT3B0aW9uczoge1xuICAgICAgZnJvbTogJ0RvIE5vdCBSZXBseSA8dGVzdDY5Njc5NzUxOEBnbWFpbC5jb20+JyxcbiAgICAgIHN1YmplY3Q6ICdTdWNjZXNzZnVsbHkgdmVyaWZpZWQhJyxcbiAgICAgIGh0bWw6ICc8cD5Zb3VyIGFjY291bnQgaGFzIGJlZW4gc3VjY2Vzc2Z1bGx5IHZlcmlmaWVkLjwvcD4nLFxuICAgICAgdGV4dDogJ1lvdXIgYWNjb3VudCBoYXMgYmVlbiBzdWNjZXNzZnVsbHkgdmVyaWZpZWQuJ1xuICAgIH0sXG4gICAgaGFzaGluZ0Z1bmN0aW9uOiBteUhhc2hlclxuICB9LCBmdW5jdGlvbihlcnIsIG9wdGlvbnMpe1xuICAgIGlmIChlcnIpIHtcbiAgICAgIGNvbnNvbGUubG9nKGVycilcbiAgICAgIHJldHVyblxuICAgIH1cbiAgICBjb25zb2xlLmxvZygnY29uZmlndXJlZDogJyArICh0eXBlb2Ygb3B0aW9ucyA9PT0gJ29iamVjdCcpKVxuICB9KVxuXG4gIHJldHVybiBuZXZcbn07XG4iXX0=",
    "ast": null,
    "map": {
      "version": 3,
      "sources": [
        "index.js"
      ],
      "names": [
        "User",
        "require",
        "mongoose",
        "nev",
        "TempUser",
        "bcrypt",
        "module",
        "exports",
        "locale",
        "myHasher",
        "password",
        "tempUserData",
        "insertTempUser",
        "callback",
        "genSalt",
        "err",
        "salt",
        "hash",
        "subject",
        "html",
        "text",
        "configure",
        "verificationURL",
        "URLLength",
        "persistentUserModel",
        "tempUserModel",
        "tempUserCollection",
        "emailFieldName",
        "passwordFieldName",
        "URLFieldName",
        "expirationTime",
        "transportOptions",
        "service",
        "auth",
        "user",
        "pass",
        "verifyMailOptions",
        "from",
        "shouldSendConfirmation",
        "confirmMailOptions",
        "hashingFunction",
        "options",
        "console",
        "log"
      ],
      "mappings": ";;;;AAAA,IAAIA,OAAOC,QAAQ,gBAAR,CAAX;AACA,IAAIC,WAAWD,QAAQ,UAAR,CAAf;AACA,IAAIE,MAAMF,QAAQ,oBAAR,EAA8BC,QAA9B,CAAV;AACA,IAAIE,WAAWH,QAAQ,oBAAR,CAAf;AACA,IAAII,SAASJ,QAAQ,UAAR,CAAb;;AAEAK,OAAOC,OAAP,GAAiB,UAAUC,MAAV,EAAkB;;AAEjC,MAAIC,WAAW,SAAXA,QAAW,CAASC,QAAT,EAAmBC,YAAnB,EAAiCC,cAAjC,EAAiDC,QAAjD,EAA2D;AACxER,WAAOS,OAAP,CAAe,CAAf,EAAkB,UAASC,GAAT,EAAcC,IAAd,EAAoB;AACpCX,aAAOY,IAAP,CAAYP,QAAZ,EAAsBM,IAAtB,EAA4B,UAASD,GAAT,EAAcE,IAAd,EAAoB;AAC9C,eAAOL,eAAeK,IAAf,EAAqBN,YAArB,EAAmCE,QAAnC,CAAP;AACD,OAFD;AAGD,KAJD;AAKD,GAND;;AAQA,MAAIK,OAAJ,EAAaC,IAAb,EAAmBC,IAAnB;AACA,UAAOZ,MAAP;AACE,SAAK,IAAL;AACEU,gBAAU,wBAAV;AACAC,aAAO,oEAAP,EACAC,OAAO,oEADP;AAEA;AACF,SAAK,IAAL;AACEF,gBAAU,+BAAV,EACAC,OAAO,sEADP,EAEAC,OAAO,oEAFP;AAGA;AACF;AACEF,gBAAU,wBAAV;AACAC,aAAO,oEAAP,EACAC,OAAO,oEADP;AAbJ;;AAiBAjB,MAAIkB,SAAJ,CAAc;AACZC,qBAAiB,6CADL;AAEZC,eAAW,EAFC;AAGZ;AACAC,yBAAqBxB,IAJT;AAKZyB,mBAAerB,QALH;AAMZsB,wBAAoB,WANR;AAOZC,oBAAgB,OAPJ;AAQZC,uBAAmB,UARP;AASZC,kBAAc,yBATF;AAUZC,oBAAgB,KAVJ,EAUW;AACvB;AACAC,sBAAkB;AAChBC,eAAS,OADO;AAEhBC,YAAM;AACJC,cAAM,yBADF;AAEJC,cAAM;AAFF;AAFU,KAZN;AAmBZC,uBAAmB;AACjBC,YAAM,wCADW;AAEjBnB,eAASA,OAFQ;AAGjBC,YAAMA,IAHW;AAIjBC,YAAMA;AAJW,KAnBP;AAyBZkB,4BAAwB,IAzBZ;AA0BZC,wBAAoB;AAClBF,YAAM,wCADY;AAElBnB,eAAS,wBAFS;AAGlBC,YAAM,qDAHY;AAIlBC,YAAM;AAJY,KA1BR;AAgCZoB,qBAAiB/B;AAhCL,GAAd,EAiCG,UAASM,GAAT,EAAc0B,OAAd,EAAsB;AACvB,QAAI1B,GAAJ,EAAS;AACP2B,cAAQC,GAAR,CAAY5B,GAAZ;AACA;AACD;AACD2B,YAAQC,GAAR,CAAY,kBAAkB,QAAOF,OAAP,yCAAOA,OAAP,OAAmB,QAArC,CAAZ;AACD,GAvCD;;AAyCA,SAAOtC,GAAP;AACD,CAtED",
      "file": "index.js",
      "sourceRoot": "/app/api/mail",
      "sourcesContent": [
        "var User = require('../models/User')\nvar mongoose = require('mongoose')\nvar nev = require('email-verification')(mongoose)\nvar TempUser = require('../models/TempUser')\nvar bcrypt = require('bcryptjs')\n\nmodule.exports = function (locale) {\n\n  var myHasher = function(password, tempUserData, insertTempUser, callback) {\n    bcrypt.genSalt(8, function(err, salt) {\n      bcrypt.hash(password, salt, function(err, hash) {\n        return insertTempUser(hash, tempUserData, callback)\n      })\n    })\n  }\n\n  var subject, html, text\n  switch(locale) {\n    case 'en':\n      subject = 'Please confirm account'\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>',\n      text = 'Please confirm your account by clicking the following link: ${URL}'\n      break;\n    case 'es':\n      subject = 'Por favor, confirma tu cuenta',\n      html = 'Pulsa el enlace siguiente para confirmar tu cuenta:</p><p>${URL}</p>',\n      text = 'Por favor, confirma tu cuenta pulsando el enlace siguiente: ${URL}'\n      break;\n    default:\n      subject = 'Please confirm account'\n      html = 'Click the following link to confirm your account:</p><p>${URL}</p>',\n      text = 'Please confirm your account by clicking the following link: ${URL}'\n}\n\n  nev.configure({\n    verificationURL: 'http://localhost:4000/users/activate/${URL}',\n    URLLength: 48,\n    // mongo-stuff\n    persistentUserModel: User,\n    tempUserModel: TempUser,\n    tempUserCollection: 'tempusers',\n    emailFieldName: 'email',\n    passwordFieldName: 'password',\n    URLFieldName: 'GENERATED_VERIFYING_URL',\n    expirationTime: 86400, //1 día\n    // emailing options\n    transportOptions: {\n      service: 'Gmail',\n      auth: {\n        user: 'test696797518@gmail.com',\n        pass: '696797518'\n      }\n    },\n    verifyMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: subject,\n      html: html,\n      text: text\n    },\n    shouldSendConfirmation: true,\n    confirmMailOptions: {\n      from: 'Do Not Reply <test696797518@gmail.com>',\n      subject: 'Successfully verified!',\n      html: '<p>Your account has been successfully verified.</p>',\n      text: 'Your account has been successfully verified.'\n    },\n    hashingFunction: myHasher\n  }, function(err, options){\n    if (err) {\n      console.log(err)\n      return\n    }\n    console.log('configured: ' + (typeof options === 'object'))\n  })\n\n  return nev\n};\n"
      ]
    },
    "mtime": 1497952432758
  }
}